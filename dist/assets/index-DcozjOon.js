function om(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(s,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function cm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cc={exports:{}},ol={},Ec={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gn=Symbol.for("react.element"),dm=Symbol.for("react.portal"),um=Symbol.for("react.fragment"),mm=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),pm=Symbol.for("react.provider"),hm=Symbol.for("react.context"),gm=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),ym=Symbol.for("react.memo"),vm=Symbol.for("react.lazy"),io=Symbol.iterator;function jm(e){return e===null||typeof e!="object"?null:(e=io&&e[io]||e["@@iterator"],typeof e=="function"?e:null)}var Pc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lc=Object.assign,Tc={};function en(e,t,n){this.props=e,this.context=t,this.refs=Tc,this.updater=n||Pc}en.prototype.isReactComponent={};en.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};en.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rc(){}Rc.prototype=en.prototype;function ei(e,t,n){this.props=e,this.context=t,this.refs=Tc,this.updater=n||Pc}var ti=ei.prototype=new Rc;ti.constructor=ei;Lc(ti,en.prototype);ti.isPureReactComponent=!0;var oo=Array.isArray,Ic=Object.prototype.hasOwnProperty,ri={current:null},zc={key:!0,ref:!0,__self:!0,__source:!0};function Oc(e,t,n){var s,l={},a=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Ic.call(t,s)&&!zc.hasOwnProperty(s)&&(l[s]=t[s]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)l[s]===void 0&&(l[s]=o[s]);return{$$typeof:Gn,type:e,key:a,ref:i,props:l,_owner:ri.current}}function wm(e,t){return{$$typeof:Gn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ni(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gn}function Nm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var co=/\/+/g;function Pl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nm(""+e.key):t.toString(36)}function js(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Gn:case dm:i=!0}}if(i)return i=e,l=l(i),e=s===""?"."+Pl(i,0):s,oo(l)?(n="",e!=null&&(n=e.replace(co,"$&/")+"/"),js(l,t,n,"",function(u){return u})):l!=null&&(ni(l)&&(l=wm(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(co,"$&/")+"/")+e)),t.push(l)),1;if(i=0,s=s===""?".":s+":",oo(e))for(var o=0;o<e.length;o++){a=e[o];var c=s+Pl(a,o);i+=js(a,t,n,c,l)}else if(c=jm(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=s+Pl(a,o++),i+=js(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ns(e,t,n){if(e==null)return e;var s=[],l=0;return js(e,s,"","",function(a){return t.call(n,a,l++)}),s}function bm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},ws={transition:null},_m={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ws,ReactCurrentOwner:ri};function Fc(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:ns,forEach:function(e,t,n){ns(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ns(e,function(){t++}),t},toArray:function(e){return ns(e,function(t){return t})||[]},only:function(e){if(!ni(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=en;ee.Fragment=um;ee.Profiler=fm;ee.PureComponent=ei;ee.StrictMode=mm;ee.Suspense=xm;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_m;ee.act=Fc;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Lc({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=ri.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Ic.call(t,c)&&!zc.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:Gn,type:e.type,key:l,ref:a,props:s,_owner:i}};ee.createContext=function(e){return e={$$typeof:hm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pm,_context:e},e.Consumer=e};ee.createElement=Oc;ee.createFactory=function(e){var t=Oc.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:gm,render:e}};ee.isValidElement=ni;ee.lazy=function(e){return{$$typeof:vm,_payload:{_status:-1,_result:e},_init:bm}};ee.memo=function(e,t){return{$$typeof:ym,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=ws.transition;ws.transition={};try{e()}finally{ws.transition=t}};ee.unstable_act=Fc;ee.useCallback=function(e,t){return Oe.current.useCallback(e,t)};ee.useContext=function(e){return Oe.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Oe.current.useEffect(e,t)};ee.useId=function(){return Oe.current.useId()};ee.useImperativeHandle=function(e,t,n){return Oe.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Oe.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Oe.current.useReducer(e,t,n)};ee.useRef=function(e){return Oe.current.useRef(e)};ee.useState=function(e){return Oe.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Oe.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Oe.current.useTransition()};ee.version="18.3.1";Ec.exports=ee;var m=Ec.exports;const km=cm(m),Sm=om({__proto__:null,default:km},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=m,Em=Symbol.for("react.element"),Pm=Symbol.for("react.fragment"),Lm=Object.prototype.hasOwnProperty,Tm=Cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rm={key:!0,ref:!0,__self:!0,__source:!0};function $c(e,t,n){var s,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)Lm.call(t,s)&&!Rm.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:Em,type:e,key:a,ref:i,props:l,_owner:Tm.current}}ol.Fragment=Pm;ol.jsx=$c;ol.jsxs=$c;Cc.exports=ol;var r=Cc.exports,Dc={exports:{}},Ke={},Mc={exports:{}},Uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(y,L){var $=y.length;y.push(L);e:for(;0<$;){var R=$-1>>>1,M=y[R];if(0<l(M,L))y[R]=L,y[$]=M,$=R;else break e}}function n(y){return y.length===0?null:y[0]}function s(y){if(y.length===0)return null;var L=y[0],$=y.pop();if($!==L){y[0]=$;e:for(var R=0,M=y.length,z=M>>>1;R<z;){var G=2*(R+1)-1,S=y[G],V=G+1,W=y[V];if(0>l(S,$))V<M&&0>l(W,S)?(y[R]=W,y[V]=$,R=V):(y[R]=S,y[G]=$,R=G);else if(V<M&&0>l(W,$))y[R]=W,y[V]=$,R=V;else break e}}return L}function l(y,L){var $=y.sortIndex-L.sortIndex;return $!==0?$:y.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],h=1,x=null,g=3,_=!1,N=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(y){for(var L=n(u);L!==null;){if(L.callback===null)s(u);else if(L.startTime<=y)s(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(u)}}function w(y){if(v=!1,f(y),!N)if(n(c)!==null)N=!0,T(E);else{var L=n(u);L!==null&&q(w,L.startTime-y)}}function E(y,L){N=!1,v&&(v=!1,p(P),P=-1),_=!0;var $=g;try{for(f(L),x=n(c);x!==null&&(!(x.expirationTime>L)||y&&!B());){var R=x.callback;if(typeof R=="function"){x.callback=null,g=x.priorityLevel;var M=R(x.expirationTime<=L);L=e.unstable_now(),typeof M=="function"?x.callback=M:x===n(c)&&s(c),f(L)}else s(c);x=n(c)}if(x!==null)var z=!0;else{var G=n(u);G!==null&&q(w,G.startTime-L),z=!1}return z}finally{x=null,g=$,_=!1}}var I=!1,C=null,P=-1,D=5,b=-1;function B(){return!(e.unstable_now()-b<D)}function ne(){if(C!==null){var y=e.unstable_now();b=y;var L=!0;try{L=C(!0,y)}finally{L?Q():(I=!1,C=null)}}else I=!1}var Q;if(typeof d=="function")Q=function(){d(ne)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,A=k.port2;k.port1.onmessage=ne,Q=function(){A.postMessage(null)}}else Q=function(){j(ne,0)};function T(y){C=y,I||(I=!0,Q())}function q(y,L){P=j(function(){y(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(y){y.callback=null},e.unstable_continueExecution=function(){N||_||(N=!0,T(E))},e.unstable_forceFrameRate=function(y){0>y||125<y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<y?Math.floor(1e3/y):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(y){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var $=g;g=L;try{return y()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(y,L){switch(y){case 1:case 2:case 3:case 4:case 5:break;default:y=3}var $=g;g=y;try{return L()}finally{g=$}},e.unstable_scheduleCallback=function(y,L,$){var R=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?R+$:R):$=R,y){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=$+M,y={id:h++,callback:L,priorityLevel:y,startTime:$,expirationTime:M,sortIndex:-1},$>R?(y.sortIndex=$,t(u,y),n(c)===null&&y===n(u)&&(v?(p(P),P=-1):v=!0,q(w,$-R))):(y.sortIndex=M,t(c,y),N||_||(N=!0,T(E))),y},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(y){var L=g;return function(){var $=g;g=L;try{return y.apply(this,arguments)}finally{g=$}}}})(Uc);Mc.exports=Uc;var Im=Mc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=m,Je=Im;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ac=new Set,Ln={};function yr(e,t){Wr(e,t),Wr(e+"Capture",t)}function Wr(e,t){for(Ln[e]=t,e=0;e<t.length;e++)Ac.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=Object.prototype.hasOwnProperty,Om=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uo={},mo={};function Fm(e){return na.call(mo,e)?!0:na.call(uo,e)?!1:Om.test(e)?mo[e]=!0:(uo[e]=!0,!1)}function $m(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dm(e,t,n,s){if(t===null||typeof t>"u"||$m(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,n,s,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var si=/[\-:]([a-z])/g;function li(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(si,li);Ee[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(si,li);Ee[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(si,li);Ee[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ai(e,t,n,s){var l=Ee.hasOwnProperty(t)?Ee[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dm(t,n,l,s)&&(n=null),s||l===null?Fm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Rt=zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ss=Symbol.for("react.element"),_r=Symbol.for("react.portal"),kr=Symbol.for("react.fragment"),ii=Symbol.for("react.strict_mode"),sa=Symbol.for("react.profiler"),Bc=Symbol.for("react.provider"),Vc=Symbol.for("react.context"),oi=Symbol.for("react.forward_ref"),la=Symbol.for("react.suspense"),aa=Symbol.for("react.suspense_list"),ci=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Hc=Symbol.for("react.offscreen"),fo=Symbol.iterator;function cn(e){return e===null||typeof e!="object"?null:(e=fo&&e[fo]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Object.assign,Ll;function xn(e){if(Ll===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ll=t&&t[1]||""}return`
`+Ll+e}var Tl=!1;function Rl(e,t){if(!e||Tl)return"";Tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=s.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Tl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xn(e):""}function Mm(e){switch(e.tag){case 5:return xn(e.type);case 16:return xn("Lazy");case 13:return xn("Suspense");case 19:return xn("SuspenseList");case 0:case 2:case 15:return e=Rl(e.type,!1),e;case 11:return e=Rl(e.type.render,!1),e;case 1:return e=Rl(e.type,!0),e;default:return""}}function ia(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kr:return"Fragment";case _r:return"Portal";case sa:return"Profiler";case ii:return"StrictMode";case la:return"Suspense";case aa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vc:return(e.displayName||"Context")+".Consumer";case Bc:return(e._context.displayName||"Context")+".Provider";case oi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ci:return t=e.displayName||null,t!==null?t:ia(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return ia(e(t))}catch{}}return null}function Um(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ia(t);case 8:return t===ii?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Am(e){var t=Wc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){s=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ls(e){e._valueTracker||(e._valueTracker=Am(e))}function Qc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Wc(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oa(e,t){var n=t.checked;return fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function po(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Xt(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jc(e,t){t=t.checked,t!=null&&ai(e,"checked",t,!1)}function ca(e,t){Jc(e,t);var n=Xt(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?da(e,t.type,n):t.hasOwnProperty("defaultValue")&&da(e,t.type,Xt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ho(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function da(e,t,n){(t!=="number"||zs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yn=Array.isArray;function Fr(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Xt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ua(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function go(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(yn(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xt(n)}}function qc(e,t){var n=Xt(t.value),s=Xt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function xo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var as,Gc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(as=as||document.createElement("div"),as.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=as.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bm=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(e){Bm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wn[t]=wn[e]})});function Xc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wn.hasOwnProperty(e)&&wn[e]?(""+t).trim():t+"px"}function Yc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=Xc(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var Vm=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fa(e,t){if(t){if(Vm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function pa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ha=null;function di(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ga=null,$r=null,Dr=null;function yo(e){if(e=Zn(e)){if(typeof ga!="function")throw Error(F(280));var t=e.stateNode;t&&(t=fl(t),ga(e.stateNode,e.type,t))}}function Zc(e){$r?Dr?Dr.push(e):Dr=[e]:$r=e}function ed(){if($r){var e=$r,t=Dr;if(Dr=$r=null,yo(e),t)for(e=0;e<t.length;e++)yo(t[e])}}function td(e,t){return e(t)}function rd(){}var Il=!1;function nd(e,t,n){if(Il)return e(t,n);Il=!0;try{return td(e,t,n)}finally{Il=!1,($r!==null||Dr!==null)&&(rd(),ed())}}function Rn(e,t){var n=e.stateNode;if(n===null)return null;var s=fl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var xa=!1;if(kt)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){xa=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{xa=!1}function Hm(e,t,n,s,l,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Nn=!1,Os=null,Fs=!1,ya=null,Wm={onError:function(e){Nn=!0,Os=e}};function Qm(e,t,n,s,l,a,i,o,c){Nn=!1,Os=null,Hm.apply(Wm,arguments)}function Jm(e,t,n,s,l,a,i,o,c){if(Qm.apply(this,arguments),Nn){if(Nn){var u=Os;Nn=!1,Os=null}else throw Error(F(198));Fs||(Fs=!0,ya=u)}}function vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vo(e){if(vr(e)!==e)throw Error(F(188))}function qm(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return vo(l),e;if(a===s)return vo(l),t;a=a.sibling}throw Error(F(188))}if(n.return!==s.return)n=l,s=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,s=a;break}if(o===s){i=!0,s=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,s=l;break}if(o===s){i=!0,s=a,n=l;break}o=o.sibling}if(!i)throw Error(F(189))}}if(n.alternate!==s)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function ld(e){return e=qm(e),e!==null?ad(e):null}function ad(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ad(e);if(t!==null)return t;e=e.sibling}return null}var id=Je.unstable_scheduleCallback,jo=Je.unstable_cancelCallback,Km=Je.unstable_shouldYield,Gm=Je.unstable_requestPaint,he=Je.unstable_now,Xm=Je.unstable_getCurrentPriorityLevel,ui=Je.unstable_ImmediatePriority,od=Je.unstable_UserBlockingPriority,$s=Je.unstable_NormalPriority,Ym=Je.unstable_LowPriority,cd=Je.unstable_IdlePriority,cl=null,pt=null;function Zm(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(cl,e,void 0,(e.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:rf,ef=Math.log,tf=Math.LN2;function rf(e){return e>>>=0,e===0?32:31-(ef(e)/tf|0)|0}var is=64,os=4194304;function vn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ds(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?s=vn(o):(a&=i,a!==0&&(s=vn(a)))}else i=n&~l,i!==0?s=vn(i):a!==0&&(s=vn(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-it(t),l=1<<n,s|=e[n],t&=~l;return s}function nf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,c=l[i];c===-1?(!(o&n)||o&s)&&(l[i]=nf(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dd(){var e=is;return is<<=1,!(is&4194240)&&(is=64),e}function zl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-it(t),e[t]=n}function lf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-it(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function mi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-it(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var le=0;function ud(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,fi,fd,pd,hd,ja=!1,cs=[],Bt=null,Vt=null,Ht=null,In=new Map,zn=new Map,$t=[],af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wo(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":In.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(t.pointerId)}}function un(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Zn(t),t!==null&&fi(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function of(e,t,n,s,l){switch(t){case"focusin":return Bt=un(Bt,e,t,n,s,l),!0;case"dragenter":return Vt=un(Vt,e,t,n,s,l),!0;case"mouseover":return Ht=un(Ht,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return In.set(a,un(In.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,zn.set(a,un(zn.get(a)||null,e,t,n,s,l)),!0}return!1}function gd(e){var t=ar(e.target);if(t!==null){var n=vr(t);if(n!==null){if(t=n.tag,t===13){if(t=sd(n),t!==null){e.blockedOn=t,hd(e.priority,function(){fd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ns(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);ha=s,n.target.dispatchEvent(s),ha=null}else return t=Zn(n),t!==null&&fi(t),e.blockedOn=n,!1;t.shift()}return!0}function No(e,t,n){Ns(e)&&n.delete(t)}function cf(){ja=!1,Bt!==null&&Ns(Bt)&&(Bt=null),Vt!==null&&Ns(Vt)&&(Vt=null),Ht!==null&&Ns(Ht)&&(Ht=null),In.forEach(No),zn.forEach(No)}function mn(e,t){e.blockedOn===t&&(e.blockedOn=null,ja||(ja=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,cf)))}function On(e){function t(l){return mn(l,e)}if(0<cs.length){mn(cs[0],e);for(var n=1;n<cs.length;n++){var s=cs[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Bt!==null&&mn(Bt,e),Vt!==null&&mn(Vt,e),Ht!==null&&mn(Ht,e),In.forEach(t),zn.forEach(t),n=0;n<$t.length;n++)s=$t[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<$t.length&&(n=$t[0],n.blockedOn===null);)gd(n),n.blockedOn===null&&$t.shift()}var Mr=Rt.ReactCurrentBatchConfig,Ms=!0;function df(e,t,n,s){var l=le,a=Mr.transition;Mr.transition=null;try{le=1,pi(e,t,n,s)}finally{le=l,Mr.transition=a}}function uf(e,t,n,s){var l=le,a=Mr.transition;Mr.transition=null;try{le=4,pi(e,t,n,s)}finally{le=l,Mr.transition=a}}function pi(e,t,n,s){if(Ms){var l=wa(e,t,n,s);if(l===null)Hl(e,t,s,Us,n),wo(e,s);else if(of(l,e,t,n,s))s.stopPropagation();else if(wo(e,s),t&4&&-1<af.indexOf(e)){for(;l!==null;){var a=Zn(l);if(a!==null&&md(a),a=wa(e,t,n,s),a===null&&Hl(e,t,s,Us,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else Hl(e,t,s,null,n)}}var Us=null;function wa(e,t,n,s){if(Us=null,e=di(s),e=ar(e),e!==null)if(t=vr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Us=e,null}function xd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xm()){case ui:return 1;case od:return 4;case $s:case Ym:return 16;case cd:return 536870912;default:return 16}default:return 16}}var Mt=null,hi=null,bs=null;function yd(){if(bs)return bs;var e,t=hi,n=t.length,s,l="value"in Mt?Mt.value:Mt.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===l[a-s];s++);return bs=l.slice(e,1<s?1-s:void 0)}function _s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ds(){return!0}function bo(){return!1}function Ge(e){function t(n,s,l,a,i){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ds:bo,this.isPropagationStopped=bo,this}return fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),t}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Ge(tn),Yn=fe({},tn,{view:0,detail:0}),mf=Ge(Yn),Ol,Fl,fn,dl=fe({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&e.type==="mousemove"?(Ol=e.screenX-fn.screenX,Fl=e.screenY-fn.screenY):Fl=Ol=0,fn=e),Ol)},movementY:function(e){return"movementY"in e?e.movementY:Fl}}),_o=Ge(dl),ff=fe({},dl,{dataTransfer:0}),pf=Ge(ff),hf=fe({},Yn,{relatedTarget:0}),$l=Ge(hf),gf=fe({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),xf=Ge(gf),yf=fe({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vf=Ge(yf),jf=fe({},tn,{data:0}),ko=Ge(jf),wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _f(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bf[e])?!!t[e]:!1}function xi(){return _f}var kf=fe({},Yn,{key:function(e){if(e.key){var t=wf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sf=Ge(kf),Cf=fe({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Ge(Cf),Ef=fe({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),Pf=Ge(Ef),Lf=fe({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tf=Ge(Lf),Rf=fe({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),If=Ge(Rf),zf=[9,13,27,32],yi=kt&&"CompositionEvent"in window,bn=null;kt&&"documentMode"in document&&(bn=document.documentMode);var Of=kt&&"TextEvent"in window&&!bn,vd=kt&&(!yi||bn&&8<bn&&11>=bn),Co=" ",Eo=!1;function jd(e,t){switch(e){case"keyup":return zf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sr=!1;function Ff(e,t){switch(e){case"compositionend":return wd(t);case"keypress":return t.which!==32?null:(Eo=!0,Co);case"textInput":return e=t.data,e===Co&&Eo?null:e;default:return null}}function $f(e,t){if(Sr)return e==="compositionend"||!yi&&jd(e,t)?(e=yd(),bs=hi=Mt=null,Sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vd&&t.locale!=="ko"?null:t.data;default:return null}}var Df={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Df[e.type]:t==="textarea"}function Nd(e,t,n,s){Zc(s),t=As(t,"onChange"),0<t.length&&(n=new gi("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var _n=null,Fn=null;function Mf(e){Id(e,0)}function ul(e){var t=Pr(e);if(Qc(t))return e}function Uf(e,t){if(e==="change")return t}var bd=!1;if(kt){var Dl;if(kt){var Ml="oninput"in document;if(!Ml){var Lo=document.createElement("div");Lo.setAttribute("oninput","return;"),Ml=typeof Lo.oninput=="function"}Dl=Ml}else Dl=!1;bd=Dl&&(!document.documentMode||9<document.documentMode)}function To(){_n&&(_n.detachEvent("onpropertychange",_d),Fn=_n=null)}function _d(e){if(e.propertyName==="value"&&ul(Fn)){var t=[];Nd(t,Fn,e,di(e)),nd(Mf,t)}}function Af(e,t,n){e==="focusin"?(To(),_n=t,Fn=n,_n.attachEvent("onpropertychange",_d)):e==="focusout"&&To()}function Bf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(Fn)}function Vf(e,t){if(e==="click")return ul(t)}function Hf(e,t){if(e==="input"||e==="change")return ul(t)}function Wf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:Wf;function $n(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!na.call(t,l)||!ct(e[l],t[l]))return!1}return!0}function Ro(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Io(e,t){var n=Ro(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ro(n)}}function kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sd(){for(var e=window,t=zs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zs(e.document)}return t}function vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qf(e){var t=Sd(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kd(n.ownerDocument.documentElement,n)){if(s!==null&&vi(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=Io(n,a);var i=Io(n,s);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jf=kt&&"documentMode"in document&&11>=document.documentMode,Cr=null,Na=null,kn=null,ba=!1;function zo(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ba||Cr==null||Cr!==zs(s)||(s=Cr,"selectionStart"in s&&vi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),kn&&$n(kn,s)||(kn=s,s=As(Na,"onSelect"),0<s.length&&(t=new gi("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Cr)))}function us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Ul={},Cd={};kt&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function ml(e){if(Ul[e])return Ul[e];if(!Er[e])return e;var t=Er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cd)return Ul[e]=t[n];return e}var Ed=ml("animationend"),Pd=ml("animationiteration"),Ld=ml("animationstart"),Td=ml("transitionend"),Rd=new Map,Oo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){Rd.set(e,t),yr(t,[e])}for(var Al=0;Al<Oo.length;Al++){var Bl=Oo[Al],qf=Bl.toLowerCase(),Kf=Bl[0].toUpperCase()+Bl.slice(1);Zt(qf,"on"+Kf)}Zt(Ed,"onAnimationEnd");Zt(Pd,"onAnimationIteration");Zt(Ld,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(Td,"onTransitionEnd");Wr("onMouseEnter",["mouseout","mouseover"]);Wr("onMouseLeave",["mouseout","mouseover"]);Wr("onPointerEnter",["pointerout","pointerover"]);Wr("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gf=new Set("cancel close invalid load scroll toggle".split(" ").concat(jn));function Fo(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Jm(s,t,void 0,e),e.currentTarget=null}function Id(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;Fo(l,o,u),a=c}else for(i=0;i<s.length;i++){if(o=s[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;Fo(l,o,u),a=c}}}if(Fs)throw e=ya,Fs=!1,ya=null,e}function oe(e,t){var n=t[Ea];n===void 0&&(n=t[Ea]=new Set);var s=e+"__bubble";n.has(s)||(zd(t,e,2,!1),n.add(s))}function Vl(e,t,n){var s=0;t&&(s|=4),zd(n,e,s,t)}var ms="_reactListening"+Math.random().toString(36).slice(2);function Dn(e){if(!e[ms]){e[ms]=!0,Ac.forEach(function(n){n!=="selectionchange"&&(Gf.has(n)||Vl(n,!1,e),Vl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ms]||(t[ms]=!0,Vl("selectionchange",!1,t))}}function zd(e,t,n,s){switch(xd(t)){case 1:var l=df;break;case 4:l=uf;break;default:l=pi}n=l.bind(null,t,n,e),l=void 0,!xa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Hl(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=ar(o),i===null)return;if(c=i.tag,c===5||c===6){s=a=i;continue e}o=o.parentNode}}s=s.return}nd(function(){var u=a,h=di(n),x=[];e:{var g=Rd.get(e);if(g!==void 0){var _=gi,N=e;switch(e){case"keypress":if(_s(n)===0)break e;case"keydown":case"keyup":_=Sf;break;case"focusin":N="focus",_=$l;break;case"focusout":N="blur",_=$l;break;case"beforeblur":case"afterblur":_=$l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Pf;break;case Ed:case Pd:case Ld:_=xf;break;case Td:_=Tf;break;case"scroll":_=mf;break;case"wheel":_=If;break;case"copy":case"cut":case"paste":_=vf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=So}var v=(t&4)!==0,j=!v&&e==="scroll",p=v?g!==null?g+"Capture":null:g;v=[];for(var d=u,f;d!==null;){f=d;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,p!==null&&(w=Rn(d,p),w!=null&&v.push(Mn(d,w,f)))),j)break;d=d.return}0<v.length&&(g=new _(g,N,null,n,h),x.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",g&&n!==ha&&(N=n.relatedTarget||n.fromElement)&&(ar(N)||N[St]))break e;if((_||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,_?(N=n.relatedTarget||n.toElement,_=u,N=N?ar(N):null,N!==null&&(j=vr(N),N!==j||N.tag!==5&&N.tag!==6)&&(N=null)):(_=null,N=u),_!==N)){if(v=_o,w="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=So,w="onPointerLeave",p="onPointerEnter",d="pointer"),j=_==null?g:Pr(_),f=N==null?g:Pr(N),g=new v(w,d+"leave",_,n,h),g.target=j,g.relatedTarget=f,w=null,ar(h)===u&&(v=new v(p,d+"enter",N,n,h),v.target=f,v.relatedTarget=j,w=v),j=w,_&&N)t:{for(v=_,p=N,d=0,f=v;f;f=Nr(f))d++;for(f=0,w=p;w;w=Nr(w))f++;for(;0<d-f;)v=Nr(v),d--;for(;0<f-d;)p=Nr(p),f--;for(;d--;){if(v===p||p!==null&&v===p.alternate)break t;v=Nr(v),p=Nr(p)}v=null}else v=null;_!==null&&$o(x,g,_,v,!1),N!==null&&j!==null&&$o(x,j,N,v,!0)}}e:{if(g=u?Pr(u):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var E=Uf;else if(Po(g))if(bd)E=Hf;else{E=Bf;var I=Af}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(E=Vf);if(E&&(E=E(e,u))){Nd(x,E,n,h);break e}I&&I(e,g,u),e==="focusout"&&(I=g._wrapperState)&&I.controlled&&g.type==="number"&&da(g,"number",g.value)}switch(I=u?Pr(u):window,e){case"focusin":(Po(I)||I.contentEditable==="true")&&(Cr=I,Na=u,kn=null);break;case"focusout":kn=Na=Cr=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,zo(x,n,h);break;case"selectionchange":if(Jf)break;case"keydown":case"keyup":zo(x,n,h)}var C;if(yi)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Sr?jd(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(vd&&n.locale!=="ko"&&(Sr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Sr&&(C=yd()):(Mt=h,hi="value"in Mt?Mt.value:Mt.textContent,Sr=!0)),I=As(u,P),0<I.length&&(P=new ko(P,e,null,n,h),x.push({event:P,listeners:I}),C?P.data=C:(C=wd(n),C!==null&&(P.data=C)))),(C=Of?Ff(e,n):$f(e,n))&&(u=As(u,"onBeforeInput"),0<u.length&&(h=new ko("onBeforeInput","beforeinput",null,n,h),x.push({event:h,listeners:u}),h.data=C))}Id(x,t)})}function Mn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function As(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Rn(e,n),a!=null&&s.unshift(Mn(e,a,l)),a=Rn(e,t),a!=null&&s.push(Mn(e,a,l))),e=e.return}return s}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $o(e,t,n,s,l){for(var a=t._reactName,i=[];n!==null&&n!==s;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&u!==null&&(o=u,l?(c=Rn(n,a),c!=null&&i.unshift(Mn(n,c,o))):l||(c=Rn(n,a),c!=null&&i.push(Mn(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Xf=/\r\n?/g,Yf=/\u0000|\uFFFD/g;function Do(e){return(typeof e=="string"?e:""+e).replace(Xf,`
`).replace(Yf,"")}function fs(e,t,n){if(t=Do(t),Do(e)!==t&&n)throw Error(F(425))}function Bs(){}var _a=null,ka=null;function Sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ca=typeof setTimeout=="function"?setTimeout:void 0,Zf=typeof clearTimeout=="function"?clearTimeout:void 0,Mo=typeof Promise=="function"?Promise:void 0,ep=typeof queueMicrotask=="function"?queueMicrotask:typeof Mo<"u"?function(e){return Mo.resolve(null).then(e).catch(tp)}:Ca;function tp(e){setTimeout(function(){throw e})}function Wl(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),On(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);On(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Uo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rn=Math.random().toString(36).slice(2),ft="__reactFiber$"+rn,Un="__reactProps$"+rn,St="__reactContainer$"+rn,Ea="__reactEvents$"+rn,rp="__reactListeners$"+rn,np="__reactHandles$"+rn;function ar(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[St]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uo(e);e!==null;){if(n=e[ft])return n;e=Uo(e)}return t}e=n,n=e.parentNode}return null}function Zn(e){return e=e[ft]||e[St],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function fl(e){return e[Un]||null}var Pa=[],Lr=-1;function er(e){return{current:e}}function ce(e){0>Lr||(e.current=Pa[Lr],Pa[Lr]=null,Lr--)}function ie(e,t){Lr++,Pa[Lr]=e.current,e.current=t}var Yt={},Re=er(Yt),Ue=er(!1),fr=Yt;function Qr(e,t){var n=e.type.contextTypes;if(!n)return Yt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ae(e){return e=e.childContextTypes,e!=null}function Vs(){ce(Ue),ce(Re)}function Ao(e,t,n){if(Re.current!==Yt)throw Error(F(168));ie(Re,t),ie(Ue,n)}function Od(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(F(108,Um(e)||"Unknown",l));return fe({},n,s)}function Hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,fr=Re.current,ie(Re,e),ie(Ue,Ue.current),!0}function Bo(e,t,n){var s=e.stateNode;if(!s)throw Error(F(169));n?(e=Od(e,t,fr),s.__reactInternalMemoizedMergedChildContext=e,ce(Ue),ce(Re),ie(Re,e)):ce(Ue),ie(Ue,n)}var jt=null,pl=!1,Ql=!1;function Fd(e){jt===null?jt=[e]:jt.push(e)}function sp(e){pl=!0,Fd(e)}function tr(){if(!Ql&&jt!==null){Ql=!0;var e=0,t=le;try{var n=jt;for(le=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}jt=null,pl=!1}catch(l){throw jt!==null&&(jt=jt.slice(e+1)),id(ui,tr),l}finally{le=t,Ql=!1}}return null}var Tr=[],Rr=0,Ws=null,Qs=0,Xe=[],Ye=0,pr=null,wt=1,Nt="";function sr(e,t){Tr[Rr++]=Qs,Tr[Rr++]=Ws,Ws=e,Qs=t}function $d(e,t,n){Xe[Ye++]=wt,Xe[Ye++]=Nt,Xe[Ye++]=pr,pr=e;var s=wt;e=Nt;var l=32-it(s)-1;s&=~(1<<l),n+=1;var a=32-it(t)+l;if(30<a){var i=l-l%5;a=(s&(1<<i)-1).toString(32),s>>=i,l-=i,wt=1<<32-it(t)+l|n<<l|s,Nt=a+e}else wt=1<<a|n<<l|s,Nt=e}function ji(e){e.return!==null&&(sr(e,1),$d(e,1,0))}function wi(e){for(;e===Ws;)Ws=Tr[--Rr],Tr[Rr]=null,Qs=Tr[--Rr],Tr[Rr]=null;for(;e===pr;)pr=Xe[--Ye],Xe[Ye]=null,Nt=Xe[--Ye],Xe[Ye]=null,wt=Xe[--Ye],Xe[Ye]=null}var We=null,He=null,de=!1,at=null;function Dd(e,t){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,He=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pr!==null?{id:wt,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,He=null,!0):!1;default:return!1}}function La(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ta(e){if(de){var t=He;if(t){var n=t;if(!Vo(e,t)){if(La(e))throw Error(F(418));t=Wt(n.nextSibling);var s=We;t&&Vo(e,t)?Dd(s,n):(e.flags=e.flags&-4097|2,de=!1,We=e)}}else{if(La(e))throw Error(F(418));e.flags=e.flags&-4097|2,de=!1,We=e}}}function Ho(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function ps(e){if(e!==We)return!1;if(!de)return Ho(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sa(e.type,e.memoizedProps)),t&&(t=He)){if(La(e))throw Md(),Error(F(418));for(;t;)Dd(e,t),t=Wt(t.nextSibling)}if(Ho(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){He=Wt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}He=null}}else He=We?Wt(e.stateNode.nextSibling):null;return!0}function Md(){for(var e=He;e;)e=Wt(e.nextSibling)}function Jr(){He=We=null,de=!1}function Ni(e){at===null?at=[e]:at.push(e)}var lp=Rt.ReactCurrentBatchConfig;function pn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var s=n.stateNode}if(!s)throw Error(F(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function hs(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wo(e){var t=e._init;return t(e._payload)}function Ud(e){function t(p,d){if(e){var f=p.deletions;f===null?(p.deletions=[d],p.flags|=16):f.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function s(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function l(p,d){return p=Kt(p,d),p.index=0,p.sibling=null,p}function a(p,d,f){return p.index=f,e?(f=p.alternate,f!==null?(f=f.index,f<d?(p.flags|=2,d):f):(p.flags|=2,d)):(p.flags|=1048576,d)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,d,f,w){return d===null||d.tag!==6?(d=Zl(f,p.mode,w),d.return=p,d):(d=l(d,f),d.return=p,d)}function c(p,d,f,w){var E=f.type;return E===kr?h(p,d,f.props.children,w,f.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ot&&Wo(E)===d.type)?(w=l(d,f.props),w.ref=pn(p,d,f),w.return=p,w):(w=Ts(f.type,f.key,f.props,null,p.mode,w),w.ref=pn(p,d,f),w.return=p,w)}function u(p,d,f,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==f.containerInfo||d.stateNode.implementation!==f.implementation?(d=ea(f,p.mode,w),d.return=p,d):(d=l(d,f.children||[]),d.return=p,d)}function h(p,d,f,w,E){return d===null||d.tag!==7?(d=dr(f,p.mode,w,E),d.return=p,d):(d=l(d,f),d.return=p,d)}function x(p,d,f){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Zl(""+d,p.mode,f),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ss:return f=Ts(d.type,d.key,d.props,null,p.mode,f),f.ref=pn(p,null,d),f.return=p,f;case _r:return d=ea(d,p.mode,f),d.return=p,d;case Ot:var w=d._init;return x(p,w(d._payload),f)}if(yn(d)||cn(d))return d=dr(d,p.mode,f,null),d.return=p,d;hs(p,d)}return null}function g(p,d,f,w){var E=d!==null?d.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return E!==null?null:o(p,d,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ss:return f.key===E?c(p,d,f,w):null;case _r:return f.key===E?u(p,d,f,w):null;case Ot:return E=f._init,g(p,d,E(f._payload),w)}if(yn(f)||cn(f))return E!==null?null:h(p,d,f,w,null);hs(p,f)}return null}function _(p,d,f,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(f)||null,o(d,p,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ss:return p=p.get(w.key===null?f:w.key)||null,c(d,p,w,E);case _r:return p=p.get(w.key===null?f:w.key)||null,u(d,p,w,E);case Ot:var I=w._init;return _(p,d,f,I(w._payload),E)}if(yn(w)||cn(w))return p=p.get(f)||null,h(d,p,w,E,null);hs(d,w)}return null}function N(p,d,f,w){for(var E=null,I=null,C=d,P=d=0,D=null;C!==null&&P<f.length;P++){C.index>P?(D=C,C=null):D=C.sibling;var b=g(p,C,f[P],w);if(b===null){C===null&&(C=D);break}e&&C&&b.alternate===null&&t(p,C),d=a(b,d,P),I===null?E=b:I.sibling=b,I=b,C=D}if(P===f.length)return n(p,C),de&&sr(p,P),E;if(C===null){for(;P<f.length;P++)C=x(p,f[P],w),C!==null&&(d=a(C,d,P),I===null?E=C:I.sibling=C,I=C);return de&&sr(p,P),E}for(C=s(p,C);P<f.length;P++)D=_(C,p,P,f[P],w),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?P:D.key),d=a(D,d,P),I===null?E=D:I.sibling=D,I=D);return e&&C.forEach(function(B){return t(p,B)}),de&&sr(p,P),E}function v(p,d,f,w){var E=cn(f);if(typeof E!="function")throw Error(F(150));if(f=E.call(f),f==null)throw Error(F(151));for(var I=E=null,C=d,P=d=0,D=null,b=f.next();C!==null&&!b.done;P++,b=f.next()){C.index>P?(D=C,C=null):D=C.sibling;var B=g(p,C,b.value,w);if(B===null){C===null&&(C=D);break}e&&C&&B.alternate===null&&t(p,C),d=a(B,d,P),I===null?E=B:I.sibling=B,I=B,C=D}if(b.done)return n(p,C),de&&sr(p,P),E;if(C===null){for(;!b.done;P++,b=f.next())b=x(p,b.value,w),b!==null&&(d=a(b,d,P),I===null?E=b:I.sibling=b,I=b);return de&&sr(p,P),E}for(C=s(p,C);!b.done;P++,b=f.next())b=_(C,p,P,b.value,w),b!==null&&(e&&b.alternate!==null&&C.delete(b.key===null?P:b.key),d=a(b,d,P),I===null?E=b:I.sibling=b,I=b);return e&&C.forEach(function(ne){return t(p,ne)}),de&&sr(p,P),E}function j(p,d,f,w){if(typeof f=="object"&&f!==null&&f.type===kr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ss:e:{for(var E=f.key,I=d;I!==null;){if(I.key===E){if(E=f.type,E===kr){if(I.tag===7){n(p,I.sibling),d=l(I,f.props.children),d.return=p,p=d;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ot&&Wo(E)===I.type){n(p,I.sibling),d=l(I,f.props),d.ref=pn(p,I,f),d.return=p,p=d;break e}n(p,I);break}else t(p,I);I=I.sibling}f.type===kr?(d=dr(f.props.children,p.mode,w,f.key),d.return=p,p=d):(w=Ts(f.type,f.key,f.props,null,p.mode,w),w.ref=pn(p,d,f),w.return=p,p=w)}return i(p);case _r:e:{for(I=f.key;d!==null;){if(d.key===I)if(d.tag===4&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){n(p,d.sibling),d=l(d,f.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=ea(f,p.mode,w),d.return=p,p=d}return i(p);case Ot:return I=f._init,j(p,d,I(f._payload),w)}if(yn(f))return N(p,d,f,w);if(cn(f))return v(p,d,f,w);hs(p,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,d!==null&&d.tag===6?(n(p,d.sibling),d=l(d,f),d.return=p,p=d):(n(p,d),d=Zl(f,p.mode,w),d.return=p,p=d),i(p)):n(p,d)}return j}var qr=Ud(!0),Ad=Ud(!1),Js=er(null),qs=null,Ir=null,bi=null;function _i(){bi=Ir=qs=null}function ki(e){var t=Js.current;ce(Js),e._currentValue=t}function Ra(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ur(e,t){qs=e,bi=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(bi!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(qs===null)throw Error(F(308));Ir=e,qs.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var ir=null;function Si(e){ir===null?ir=[e]:ir.push(e)}function Bd(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Si(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ct(e,s)}function Ct(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ft=!1;function Ci(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qt(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,te&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Ct(e,n)}return l=s.interleaved,l===null?(t.next=t,Si(s)):(t.next=l.next,l.next=t),s.interleaved=t,Ct(e,n)}function ks(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,mi(e,n)}}function Qo(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ks(e,t,n,s){var l=e.updateQueue;Ft=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==i&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(a!==null){var x=l.baseState;i=0,h=u=c=null,o=a;do{var g=o.lane,_=o.eventTime;if((s&g)===g){h!==null&&(h=h.next={eventTime:_,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,v=o;switch(g=t,_=n,v.tag){case 1:if(N=v.payload,typeof N=="function"){x=N.call(_,x,g);break e}x=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=v.payload,g=typeof N=="function"?N.call(_,x,g):N,g==null)break e;x=fe({},x,g);break e;case 2:Ft=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[o]:g.push(o))}else _={eventTime:_,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=_,c=x):h=h.next=_,i|=g;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;g=o,o=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(h===null&&(c=x),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);gr|=i,e.lanes=i,e.memoizedState=x}}function Jo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(F(191,l));l.call(s)}}}var es={},ht=er(es),An=er(es),Bn=er(es);function or(e){if(e===es)throw Error(F(174));return e}function Ei(e,t){switch(ie(Bn,t),ie(An,e),ie(ht,es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ma(t,e)}ce(ht),ie(ht,t)}function Kr(){ce(ht),ce(An),ce(Bn)}function Hd(e){or(Bn.current);var t=or(ht.current),n=ma(t,e.type);t!==n&&(ie(An,e),ie(ht,n))}function Pi(e){An.current===e&&(ce(ht),ce(An))}var ue=er(0);function Gs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jl=[];function Li(){for(var e=0;e<Jl.length;e++)Jl[e]._workInProgressVersionPrimary=null;Jl.length=0}var Ss=Rt.ReactCurrentDispatcher,ql=Rt.ReactCurrentBatchConfig,hr=0,me=null,je=null,be=null,Xs=!1,Sn=!1,Vn=0,ap=0;function Pe(){throw Error(F(321))}function Ti(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ct(e[n],t[n]))return!1;return!0}function Ri(e,t,n,s,l,a){if(hr=a,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ss.current=e===null||e.memoizedState===null?dp:up,e=n(s,l),Sn){a=0;do{if(Sn=!1,Vn=0,25<=a)throw Error(F(301));a+=1,be=je=null,t.updateQueue=null,Ss.current=mp,e=n(s,l)}while(Sn)}if(Ss.current=Ys,t=je!==null&&je.next!==null,hr=0,be=je=me=null,Xs=!1,t)throw Error(F(300));return e}function Ii(){var e=Vn!==0;return Vn=0,e}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?me.memoizedState=be=e:be=be.next=e,be}function rt(){if(je===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=be===null?me.memoizedState:be.next;if(t!==null)be=t,je=e;else{if(e===null)throw Error(F(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},be===null?me.memoizedState=be=e:be=be.next=e}return be}function Hn(e,t){return typeof t=="function"?t(e):t}function Kl(e){var t=rt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var s=je,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var o=i=null,c=null,u=a;do{var h=u.lane;if((hr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var x={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=x,i=s):c=c.next=x,me.lanes|=h,gr|=h}u=u.next}while(u!==null&&u!==a);c===null?i=s:c.next=o,ct(s,t.memoizedState)||(Me=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,me.lanes|=a,gr|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gl(e){var t=rt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);ct(a,t.memoizedState)||(Me=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Wd(){}function Qd(e,t){var n=me,s=rt(),l=t(),a=!ct(s.memoizedState,l);if(a&&(s.memoizedState=l,Me=!0),s=s.queue,zi(Kd.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Wn(9,qd.bind(null,n,s,l,t),void 0,null),_e===null)throw Error(F(349));hr&30||Jd(n,t,l)}return l}function Jd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qd(e,t,n,s){t.value=n,t.getSnapshot=s,Gd(t)&&Xd(e)}function Kd(e,t,n){return n(function(){Gd(t)&&Xd(e)})}function Gd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ct(e,n)}catch{return!0}}function Xd(e){var t=Ct(e,1);t!==null&&ot(t,e,1,-1)}function qo(e){var t=ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:e},t.queue=e,e=e.dispatch=cp.bind(null,me,e),[t.memoizedState,e]}function Wn(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Yd(){return rt().memoizedState}function Cs(e,t,n,s){var l=ut();me.flags|=e,l.memoizedState=Wn(1|t,n,void 0,s===void 0?null:s)}function hl(e,t,n,s){var l=rt();s=s===void 0?null:s;var a=void 0;if(je!==null){var i=je.memoizedState;if(a=i.destroy,s!==null&&Ti(s,i.deps)){l.memoizedState=Wn(t,n,a,s);return}}me.flags|=e,l.memoizedState=Wn(1|t,n,a,s)}function Ko(e,t){return Cs(8390656,8,e,t)}function zi(e,t){return hl(2048,8,e,t)}function Zd(e,t){return hl(4,2,e,t)}function eu(e,t){return hl(4,4,e,t)}function tu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ru(e,t,n){return n=n!=null?n.concat([e]):null,hl(4,4,tu.bind(null,t,e),n)}function Oi(){}function nu(e,t){var n=rt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Ti(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function su(e,t){var n=rt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Ti(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function lu(e,t,n){return hr&21?(ct(n,t)||(n=dd(),me.lanes|=n,gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=n)}function ip(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var s=ql.transition;ql.transition={};try{e(!1),t()}finally{le=n,ql.transition=s}}function au(){return rt().memoizedState}function op(e,t,n){var s=qt(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},iu(e))ou(t,n);else if(n=Bd(e,t,n,s),n!==null){var l=ze();ot(n,e,s,l),cu(n,t,s)}}function cp(e,t,n){var s=qt(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(iu(e))ou(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,ct(o,i)){var c=t.interleaved;c===null?(l.next=l,Si(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Bd(e,t,l,s),n!==null&&(l=ze(),ot(n,e,s,l),cu(n,t,s))}}function iu(e){var t=e.alternate;return e===me||t!==null&&t===me}function ou(e,t){Sn=Xs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cu(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,mi(e,n)}}var Ys={readContext:tt,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},dp={readContext:tt,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:Ko,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cs(4194308,4,tu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cs(4,2,e,t)},useMemo:function(e,t){var n=ut();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=ut();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=op.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:qo,useDebugValue:Oi,useDeferredValue:function(e){return ut().memoizedState=e},useTransition:function(){var e=qo(!1),t=e[0];return e=ip.bind(null,e[1]),ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=me,l=ut();if(de){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),_e===null)throw Error(F(349));hr&30||Jd(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Ko(Kd.bind(null,s,a,e),[e]),s.flags|=2048,Wn(9,qd.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=ut(),t=_e.identifierPrefix;if(de){var n=Nt,s=wt;n=(s&~(1<<32-it(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vn++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ap++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},up={readContext:tt,useCallback:nu,useContext:tt,useEffect:zi,useImperativeHandle:ru,useInsertionEffect:Zd,useLayoutEffect:eu,useMemo:su,useReducer:Kl,useRef:Yd,useState:function(){return Kl(Hn)},useDebugValue:Oi,useDeferredValue:function(e){var t=rt();return lu(t,je.memoizedState,e)},useTransition:function(){var e=Kl(Hn)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Wd,useSyncExternalStore:Qd,useId:au,unstable_isNewReconciler:!1},mp={readContext:tt,useCallback:nu,useContext:tt,useEffect:zi,useImperativeHandle:ru,useInsertionEffect:Zd,useLayoutEffect:eu,useMemo:su,useReducer:Gl,useRef:Yd,useState:function(){return Gl(Hn)},useDebugValue:Oi,useDeferredValue:function(e){var t=rt();return je===null?t.memoizedState=e:lu(t,je.memoizedState,e)},useTransition:function(){var e=Gl(Hn)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Wd,useSyncExternalStore:Qd,useId:au,unstable_isNewReconciler:!1};function st(e,t){if(e&&e.defaultProps){t=fe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ia(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:fe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gl={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ze(),l=qt(e),a=_t(s,l);a.payload=t,n!=null&&(a.callback=n),t=Qt(e,a,l),t!==null&&(ot(t,e,l,s),ks(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ze(),l=qt(e),a=_t(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Qt(e,a,l),t!==null&&(ot(t,e,l,s),ks(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),s=qt(e),l=_t(n,s);l.tag=2,t!=null&&(l.callback=t),t=Qt(e,l,s),t!==null&&(ot(t,e,s,n),ks(t,e,s))}};function Go(e,t,n,s,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,i):t.prototype&&t.prototype.isPureReactComponent?!$n(n,s)||!$n(l,a):!0}function du(e,t,n){var s=!1,l=Yt,a=t.contextType;return typeof a=="object"&&a!==null?a=tt(a):(l=Ae(t)?fr:Re.current,s=t.contextTypes,a=(s=s!=null)?Qr(e,l):Yt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Xo(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&gl.enqueueReplaceState(t,t.state,null)}function za(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ci(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=tt(a):(a=Ae(t)?fr:Re.current,l.context=Qr(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ia(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&gl.enqueueReplaceState(l,l.state,null),Ks(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Gr(e,t){try{var n="",s=t;do n+=Mm(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Xl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Oa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fp=typeof WeakMap=="function"?WeakMap:Map;function uu(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){el||(el=!0,Wa=s),Oa(e,t)},n}function mu(e,t,n){n=_t(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){Oa(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Oa(e,t),typeof s!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Yo(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new fp;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Cp.bind(null,e,t,n),t.then(e,e))}function Zo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ec(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,Qt(n,t,1))),n.lanes|=1),e)}var pp=Rt.ReactCurrentOwner,Me=!1;function Ie(e,t,n,s){t.child=e===null?Ad(t,null,n,s):qr(t,e.child,n,s)}function tc(e,t,n,s,l){n=n.render;var a=t.ref;return Ur(t,l),s=Ri(e,t,n,s,a,l),n=Ii(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Et(e,t,l)):(de&&n&&ji(t),t.flags|=1,Ie(e,t,s,l),t.child)}function rc(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!Vi(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,fu(e,t,a,s,l)):(e=Ts(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:$n,n(i,s)&&e.ref===t.ref)return Et(e,t,l)}return t.flags|=1,e=Kt(a,s),e.ref=t.ref,e.return=t,t.child=e}function fu(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if($n(a,s)&&e.ref===t.ref)if(Me=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,Et(e,t,l)}return Fa(e,t,n,s,l)}function pu(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Or,Ve),Ve|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Or,Ve),Ve|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,ie(Or,Ve),Ve|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,ie(Or,Ve),Ve|=s;return Ie(e,t,l,n),t.child}function hu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fa(e,t,n,s,l){var a=Ae(n)?fr:Re.current;return a=Qr(t,a),Ur(t,l),n=Ri(e,t,n,s,a,l),s=Ii(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Et(e,t,l)):(de&&s&&ji(t),t.flags|=1,Ie(e,t,n,l),t.child)}function nc(e,t,n,s,l){if(Ae(n)){var a=!0;Hs(t)}else a=!1;if(Ur(t,l),t.stateNode===null)Es(e,t),du(t,n,s),za(t,n,s,l),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=tt(u):(u=Ae(n)?fr:Re.current,u=Qr(t,u));var h=n.getDerivedStateFromProps,x=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||c!==u)&&Xo(t,i,s,u),Ft=!1;var g=t.memoizedState;i.state=g,Ks(t,s,i,l),c=t.memoizedState,o!==s||g!==c||Ue.current||Ft?(typeof h=="function"&&(Ia(t,n,h,s),c=t.memoizedState),(o=Ft||Go(t,n,o,s,g,c,u))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),i.props=s,i.state=c,i.context=u,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Vd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:st(t.type,o),i.props=u,x=t.pendingProps,g=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=tt(c):(c=Ae(n)?fr:Re.current,c=Qr(t,c));var _=n.getDerivedStateFromProps;(h=typeof _=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==x||g!==c)&&Xo(t,i,s,c),Ft=!1,g=t.memoizedState,i.state=g,Ks(t,s,i,l);var N=t.memoizedState;o!==x||g!==N||Ue.current||Ft?(typeof _=="function"&&(Ia(t,n,_,s),N=t.memoizedState),(u=Ft||Go(t,n,u,s,g,N,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,N,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,N,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=N),i.props=s,i.state=N,i.context=c,s=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return $a(e,t,n,s,a,l)}function $a(e,t,n,s,l,a){hu(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return l&&Bo(t,n,!1),Et(e,t,a);s=t.stateNode,pp.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=qr(t,e.child,null,a),t.child=qr(t,null,o,a)):Ie(e,t,o,a),t.memoizedState=s.state,l&&Bo(t,n,!0),t.child}function gu(e){var t=e.stateNode;t.pendingContext?Ao(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ao(e,t.context,!1),Ei(e,t.containerInfo)}function sc(e,t,n,s,l){return Jr(),Ni(l),t.flags|=256,Ie(e,t,n,s),t.child}var Da={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function xu(e,t,n){var s=t.pendingProps,l=ue.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ie(ue,l&1),e===null)return Ta(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,a?(s=t.mode,a=t.child,i={mode:"hidden",children:i},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=vl(i,s,0,null),e=dr(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=Da,e):Fi(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return hp(e,t,i,s,o,l,n);if(a){a=s.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:s.children};return!(i&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Kt(l,c),s.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=Kt(o,a):(a=dr(a,i,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,i=e.child.memoizedState,i=i===null?Ma(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Da,s}return a=e.child,e=a.sibling,s=Kt(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Fi(e,t){return t=vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gs(e,t,n,s){return s!==null&&Ni(s),qr(t,e.child,null,n),e=Fi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hp(e,t,n,s,l,a,i){if(n)return t.flags&256?(t.flags&=-257,s=Xl(Error(F(422))),gs(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=vl({mode:"visible",children:s.children},l,0,null),a=dr(a,l,i,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&qr(t,e.child,null,i),t.child.memoizedState=Ma(i),t.memoizedState=Da,a);if(!(t.mode&1))return gs(e,t,i,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var o=s.dgst;return s=o,a=Error(F(419)),s=Xl(a,s,void 0),gs(e,t,i,s)}if(o=(i&e.childLanes)!==0,Me||o){if(s=_e,s!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Ct(e,l),ot(s,e,l,-1))}return Bi(),s=Xl(Error(F(421))),gs(e,t,i,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Ep.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,He=Wt(l.nextSibling),We=t,de=!0,at=null,e!==null&&(Xe[Ye++]=wt,Xe[Ye++]=Nt,Xe[Ye++]=pr,wt=e.id,Nt=e.overflow,pr=t),t=Fi(t,s.children),t.flags|=4096,t)}function lc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ra(e.return,t,n)}function Yl(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function yu(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(Ie(e,t,s.children,n),s=ue.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lc(e,n,t);else if(e.tag===19)lc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ie(ue,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Gs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Yl(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Gs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Yl(t,!0,n,null,a);break;case"together":Yl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Es(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Et(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gp(e,t,n){switch(t.tag){case 3:gu(t),Jr();break;case 5:Hd(t);break;case 1:Ae(t.type)&&Hs(t);break;case 4:Ei(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;ie(Js,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ie(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?xu(e,t,n):(ie(ue,ue.current&1),e=Et(e,t,n),e!==null?e.sibling:null);ie(ue,ue.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return yu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ie(ue,ue.current),s)break;return null;case 22:case 23:return t.lanes=0,pu(e,t,n)}return Et(e,t,n)}var vu,Ua,ju,wu;vu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ua=function(){};ju=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,or(ht.current);var a=null;switch(n){case"input":l=oa(e,l),s=oa(e,s),a=[];break;case"select":l=fe({},l,{value:void 0}),s=fe({},s,{value:void 0}),a=[];break;case"textarea":l=ua(e,l),s=ua(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Bs)}fa(n,s);var i;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ln.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(o=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ln.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&oe("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};wu=function(e,t,n,s){n!==s&&(t.flags|=4)};function hn(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function xp(e,t,n){var s=t.pendingProps;switch(wi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ae(t.type)&&Vs(),Le(t),null;case 3:return s=t.stateNode,Kr(),ce(Ue),ce(Re),Li(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(qa(at),at=null))),Ua(e,t),Le(t),null;case 5:Pi(t);var l=or(Bn.current);if(n=t.type,e!==null&&t.stateNode!=null)ju(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(F(166));return Le(t),null}if(e=or(ht.current),ps(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[ft]=t,s[Un]=a,e=(t.mode&1)!==0,n){case"dialog":oe("cancel",s),oe("close",s);break;case"iframe":case"object":case"embed":oe("load",s);break;case"video":case"audio":for(l=0;l<jn.length;l++)oe(jn[l],s);break;case"source":oe("error",s);break;case"img":case"image":case"link":oe("error",s),oe("load",s);break;case"details":oe("toggle",s);break;case"input":po(s,a),oe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},oe("invalid",s);break;case"textarea":go(s,a),oe("invalid",s)}fa(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?s.textContent!==o&&(a.suppressHydrationWarning!==!0&&fs(s.textContent,o,e),l=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&fs(s.textContent,o,e),l=["children",""+o]):Ln.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&oe("scroll",s)}switch(n){case"input":ls(s),ho(s,a,!0);break;case"textarea":ls(s),xo(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Bs)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(n,{is:s.is}):(e=i.createElement(n),n==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,n),e[ft]=t,e[Un]=s,vu(e,t,!1,!1),t.stateNode=e;e:{switch(i=pa(n,s),n){case"dialog":oe("cancel",e),oe("close",e),l=s;break;case"iframe":case"object":case"embed":oe("load",e),l=s;break;case"video":case"audio":for(l=0;l<jn.length;l++)oe(jn[l],e);l=s;break;case"source":oe("error",e),l=s;break;case"img":case"image":case"link":oe("error",e),oe("load",e),l=s;break;case"details":oe("toggle",e),l=s;break;case"input":po(e,s),l=oa(e,s),oe("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=fe({},s,{value:void 0}),oe("invalid",e);break;case"textarea":go(e,s),l=ua(e,s),oe("invalid",e);break;default:l=s}fa(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Yc(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gc(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Tn(e,c):typeof c=="number"&&Tn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ln.hasOwnProperty(a)?c!=null&&a==="onScroll"&&oe("scroll",e):c!=null&&ai(e,a,c,i))}switch(n){case"input":ls(e),ho(e,s,!1);break;case"textarea":ls(e),xo(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Xt(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?Fr(e,!!s.multiple,a,!1):s.defaultValue!=null&&Fr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Bs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)wu(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(F(166));if(n=or(Bn.current),or(ht.current),ps(t)){if(s=t.stateNode,n=t.memoizedProps,s[ft]=t,(a=s.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:fs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fs(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[ft]=t,t.stateNode=s}return Le(t),null;case 13:if(ce(ue),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&He!==null&&t.mode&1&&!(t.flags&128))Md(),Jr(),t.flags|=98560,a=!1;else if(a=ps(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[ft]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),a=!1}else at!==null&&(qa(at),at=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?Ne===0&&(Ne=3):Bi())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Kr(),Ua(e,t),e===null&&Dn(t.stateNode.containerInfo),Le(t),null;case 10:return ki(t.type._context),Le(t),null;case 17:return Ae(t.type)&&Vs(),Le(t),null;case 19:if(ce(ue),a=t.memoizedState,a===null)return Le(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)hn(a,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gs(e),i!==null){for(t.flags|=128,hn(a,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(ue,ue.current&1|2),t.child}e=e.sibling}a.tail!==null&&he()>Xr&&(t.flags|=128,s=!0,hn(a,!1),t.lanes=4194304)}else{if(!s)if(e=Gs(i),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!de)return Le(t),null}else 2*he()-a.renderingStartTime>Xr&&n!==1073741824&&(t.flags|=128,s=!0,hn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=he(),t.sibling=null,n=ue.current,ie(ue,s?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return Ai(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ve&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function yp(e,t){switch(wi(t),t.tag){case 1:return Ae(t.type)&&Vs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kr(),ce(Ue),ce(Re),Li(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pi(t),null;case 13:if(ce(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(ue),null;case 4:return Kr(),null;case 10:return ki(t.type._context),null;case 22:case 23:return Ai(),null;case 24:return null;default:return null}}var xs=!1,Te=!1,vp=typeof WeakSet=="function"?WeakSet:Set,U=null;function zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){pe(e,t,s)}else n.current=null}function Aa(e,t,n){try{n()}catch(s){pe(e,t,s)}}var ac=!1;function jp(e,t){if(_a=Ms,e=Sd(),vi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,h=0,x=e,g=null;t:for(;;){for(var _;x!==n||l!==0&&x.nodeType!==3||(o=i+l),x!==a||s!==0&&x.nodeType!==3||(c=i+s),x.nodeType===3&&(i+=x.nodeValue.length),(_=x.firstChild)!==null;)g=x,x=_;for(;;){if(x===e)break t;if(g===n&&++u===l&&(o=i),g===a&&++h===s&&(c=i),(_=x.nextSibling)!==null)break;x=g,g=x.parentNode}x=_}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ka={focusedElem:e,selectionRange:n},Ms=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var v=N.memoizedProps,j=N.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:st(t.type,v),j);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(w){pe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return N=ac,ac=!1,N}function Cn(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Aa(t,n,a)}l=l.next}while(l!==s)}}function xl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Ba(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nu(e){var t=e.alternate;t!==null&&(e.alternate=null,Nu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[Un],delete t[Ea],delete t[rp],delete t[np])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bu(e){return e.tag===5||e.tag===3||e.tag===4}function ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Va(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bs));else if(s!==4&&(e=e.child,e!==null))for(Va(e,t,n),e=e.sibling;e!==null;)Va(e,t,n),e=e.sibling}function Ha(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ha(e,t,n),e=e.sibling;e!==null;)Ha(e,t,n),e=e.sibling}var Se=null,lt=!1;function zt(e,t,n){for(n=n.child;n!==null;)_u(e,t,n),n=n.sibling}function _u(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(cl,n)}catch{}switch(n.tag){case 5:Te||zr(n,t);case 6:var s=Se,l=lt;Se=null,zt(e,t,n),Se=s,lt=l,Se!==null&&(lt?(e=Se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(lt?(e=Se,n=n.stateNode,e.nodeType===8?Wl(e.parentNode,n):e.nodeType===1&&Wl(e,n),On(e)):Wl(Se,n.stateNode));break;case 4:s=Se,l=lt,Se=n.stateNode.containerInfo,lt=!0,zt(e,t,n),Se=s,lt=l;break;case 0:case 11:case 14:case 15:if(!Te&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Aa(n,t,i),l=l.next}while(l!==s)}zt(e,t,n);break;case 1:if(!Te&&(zr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){pe(n,t,o)}zt(e,t,n);break;case 21:zt(e,t,n);break;case 22:n.mode&1?(Te=(s=Te)||n.memoizedState!==null,zt(e,t,n),Te=s):zt(e,t,n);break;default:zt(e,t,n)}}function oc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vp),t.forEach(function(s){var l=Pp.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function nt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Se=o.stateNode,lt=!1;break e;case 3:Se=o.stateNode.containerInfo,lt=!0;break e;case 4:Se=o.stateNode.containerInfo,lt=!0;break e}o=o.return}if(Se===null)throw Error(F(160));_u(a,i,l),Se=null,lt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){pe(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ku(t,e),t=t.sibling}function ku(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nt(t,e),dt(e),s&4){try{Cn(3,e,e.return),xl(3,e)}catch(v){pe(e,e.return,v)}try{Cn(5,e,e.return)}catch(v){pe(e,e.return,v)}}break;case 1:nt(t,e),dt(e),s&512&&n!==null&&zr(n,n.return);break;case 5:if(nt(t,e),dt(e),s&512&&n!==null&&zr(n,n.return),e.flags&32){var l=e.stateNode;try{Tn(l,"")}catch(v){pe(e,e.return,v)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Jc(l,a),pa(o,i);var u=pa(o,a);for(i=0;i<c.length;i+=2){var h=c[i],x=c[i+1];h==="style"?Yc(l,x):h==="dangerouslySetInnerHTML"?Gc(l,x):h==="children"?Tn(l,x):ai(l,h,x,u)}switch(o){case"input":ca(l,a);break;case"textarea":qc(l,a);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var _=a.value;_!=null?Fr(l,!!a.multiple,_,!1):g!==!!a.multiple&&(a.defaultValue!=null?Fr(l,!!a.multiple,a.defaultValue,!0):Fr(l,!!a.multiple,a.multiple?[]:"",!1))}l[Un]=a}catch(v){pe(e,e.return,v)}}break;case 6:if(nt(t,e),dt(e),s&4){if(e.stateNode===null)throw Error(F(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(v){pe(e,e.return,v)}}break;case 3:if(nt(t,e),dt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{On(t.containerInfo)}catch(v){pe(e,e.return,v)}break;case 4:nt(t,e),dt(e);break;case 13:nt(t,e),dt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Mi=he())),s&4&&oc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(u=Te)||h,nt(t,e),Te=u):nt(t,e),dt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(U=e,h=e.child;h!==null;){for(x=U=h;U!==null;){switch(g=U,_=g.child,g.tag){case 0:case 11:case 14:case 15:Cn(4,g,g.return);break;case 1:zr(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){s=g,n=g.return;try{t=s,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(v){pe(s,n,v)}}break;case 5:zr(g,g.return);break;case 22:if(g.memoizedState!==null){dc(x);continue}}_!==null?(_.return=g,U=_):dc(x)}h=h.sibling}e:for(h=null,x=e;;){if(x.tag===5){if(h===null){h=x;try{l=x.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=x.stateNode,c=x.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Xc("display",i))}catch(v){pe(e,e.return,v)}}}else if(x.tag===6){if(h===null)try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(v){pe(e,e.return,v)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;h===x&&(h=null),x=x.return}h===x&&(h=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:nt(t,e),dt(e),s&4&&oc(e);break;case 21:break;default:nt(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bu(n)){var s=n;break e}n=n.return}throw Error(F(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Tn(l,""),s.flags&=-33);var a=ic(e);Ha(e,a,l);break;case 3:case 4:var i=s.stateNode.containerInfo,o=ic(e);Va(e,o,i);break;default:throw Error(F(161))}}catch(c){pe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wp(e,t,n){U=e,Su(e)}function Su(e,t,n){for(var s=(e.mode&1)!==0;U!==null;){var l=U,a=l.child;if(l.tag===22&&s){var i=l.memoizedState!==null||xs;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||Te;o=xs;var u=Te;if(xs=i,(Te=c)&&!u)for(U=l;U!==null;)i=U,c=i.child,i.tag===22&&i.memoizedState!==null?uc(l):c!==null?(c.return=i,U=c):uc(l);for(;a!==null;)U=a,Su(a),a=a.sibling;U=l,xs=o,Te=u}cc(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,U=a):cc(e)}}function cc(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||xl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Te)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:st(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Jo(t,a,s);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jo(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var x=h.dehydrated;x!==null&&On(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Te||t.flags&512&&Ba(t)}catch(g){pe(t,t.return,g)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function dc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function uc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xl(4,t)}catch(c){pe(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){pe(t,l,c)}}var a=t.return;try{Ba(t)}catch(c){pe(t,a,c)}break;case 5:var i=t.return;try{Ba(t)}catch(c){pe(t,i,c)}}}catch(c){pe(t,t.return,c)}if(t===e){U=null;break}var o=t.sibling;if(o!==null){o.return=t.return,U=o;break}U=t.return}}var Np=Math.ceil,Zs=Rt.ReactCurrentDispatcher,$i=Rt.ReactCurrentOwner,et=Rt.ReactCurrentBatchConfig,te=0,_e=null,xe=null,Ce=0,Ve=0,Or=er(0),Ne=0,Qn=null,gr=0,yl=0,Di=0,En=null,De=null,Mi=0,Xr=1/0,vt=null,el=!1,Wa=null,Jt=null,ys=!1,Ut=null,tl=0,Pn=0,Qa=null,Ps=-1,Ls=0;function ze(){return te&6?he():Ps!==-1?Ps:Ps=he()}function qt(e){return e.mode&1?te&2&&Ce!==0?Ce&-Ce:lp.transition!==null?(Ls===0&&(Ls=dd()),Ls):(e=le,e!==0||(e=window.event,e=e===void 0?16:xd(e.type)),e):1}function ot(e,t,n,s){if(50<Pn)throw Pn=0,Qa=null,Error(F(185));Xn(e,n,s),(!(te&2)||e!==_e)&&(e===_e&&(!(te&2)&&(yl|=n),Ne===4&&Dt(e,Ce)),Be(e,s),n===1&&te===0&&!(t.mode&1)&&(Xr=he()+500,pl&&tr()))}function Be(e,t){var n=e.callbackNode;sf(e,t);var s=Ds(e,e===_e?Ce:0);if(s===0)n!==null&&jo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&jo(n),t===1)e.tag===0?sp(mc.bind(null,e)):Fd(mc.bind(null,e)),ep(function(){!(te&6)&&tr()}),n=null;else{switch(ud(s)){case 1:n=ui;break;case 4:n=od;break;case 16:n=$s;break;case 536870912:n=cd;break;default:n=$s}n=zu(n,Cu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cu(e,t){if(Ps=-1,Ls=0,te&6)throw Error(F(327));var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var s=Ds(e,e===_e?Ce:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=rl(e,s);else{t=s;var l=te;te|=2;var a=Pu();(_e!==e||Ce!==t)&&(vt=null,Xr=he()+500,cr(e,t));do try{kp();break}catch(o){Eu(e,o)}while(!0);_i(),Zs.current=a,te=l,xe!==null?t=0:(_e=null,Ce=0,t=Ne)}if(t!==0){if(t===2&&(l=va(e),l!==0&&(s=l,t=Ja(e,l))),t===1)throw n=Qn,cr(e,0),Dt(e,s),Be(e,he()),n;if(t===6)Dt(e,s);else{if(l=e.current.alternate,!(s&30)&&!bp(l)&&(t=rl(e,s),t===2&&(a=va(e),a!==0&&(s=a,t=Ja(e,a))),t===1))throw n=Qn,cr(e,0),Dt(e,s),Be(e,he()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(F(345));case 2:lr(e,De,vt);break;case 3:if(Dt(e,s),(s&130023424)===s&&(t=Mi+500-he(),10<t)){if(Ds(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){ze(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ca(lr.bind(null,e,De,vt),t);break}lr(e,De,vt);break;case 4:if(Dt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var i=31-it(s);a=1<<i,i=t[i],i>l&&(l=i),s&=~a}if(s=l,s=he()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Np(s/1960))-s,10<s){e.timeoutHandle=Ca(lr.bind(null,e,De,vt),s);break}lr(e,De,vt);break;case 5:lr(e,De,vt);break;default:throw Error(F(329))}}}return Be(e,he()),e.callbackNode===n?Cu.bind(null,e):null}function Ja(e,t){var n=En;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=rl(e,t),e!==2&&(t=De,De=n,t!==null&&qa(t)),e}function qa(e){De===null?De=e:De.push.apply(De,e)}function bp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!ct(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dt(e,t){for(t&=~Di,t&=~yl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),s=1<<n;e[n]=-1,t&=~s}}function mc(e){if(te&6)throw Error(F(327));Ar();var t=Ds(e,0);if(!(t&1))return Be(e,he()),null;var n=rl(e,t);if(e.tag!==0&&n===2){var s=va(e);s!==0&&(t=s,n=Ja(e,s))}if(n===1)throw n=Qn,cr(e,0),Dt(e,t),Be(e,he()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,De,vt),Be(e,he()),null}function Ui(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(Xr=he()+500,pl&&tr())}}function xr(e){Ut!==null&&Ut.tag===0&&!(te&6)&&Ar();var t=te;te|=1;var n=et.transition,s=le;try{if(et.transition=null,le=1,e)return e()}finally{le=s,et.transition=n,te=t,!(te&6)&&tr()}}function Ai(){Ve=Or.current,ce(Or)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zf(n)),xe!==null)for(n=xe.return;n!==null;){var s=n;switch(wi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Vs();break;case 3:Kr(),ce(Ue),ce(Re),Li();break;case 5:Pi(s);break;case 4:Kr();break;case 13:ce(ue);break;case 19:ce(ue);break;case 10:ki(s.type._context);break;case 22:case 23:Ai()}n=n.return}if(_e=e,xe=e=Kt(e.current,null),Ce=Ve=t,Ne=0,Qn=null,Di=yl=gr=0,De=En=null,ir!==null){for(t=0;t<ir.length;t++)if(n=ir[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,s.next=i}n.pending=s}ir=null}return e}function Eu(e,t){do{var n=xe;try{if(_i(),Ss.current=Ys,Xs){for(var s=me.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Xs=!1}if(hr=0,be=je=me=null,Sn=!1,Vn=0,$i.current=null,n===null||n.return===null){Ne=1,Qn=t,xe=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=Ce,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,x=h.tag;if(!(h.mode&1)&&(x===0||x===11||x===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var _=Zo(i);if(_!==null){_.flags&=-257,ec(_,i,o,a,t),_.mode&1&&Yo(a,u,t),t=_,c=u;var N=t.updateQueue;if(N===null){var v=new Set;v.add(c),t.updateQueue=v}else N.add(c);break e}else{if(!(t&1)){Yo(a,u,t),Bi();break e}c=Error(F(426))}}else if(de&&o.mode&1){var j=Zo(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),ec(j,i,o,a,t),Ni(Gr(c,o));break e}}a=c=Gr(c,o),Ne!==4&&(Ne=2),En===null?En=[a]:En.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=uu(a,c,t);Qo(a,p);break e;case 1:o=c;var d=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Jt===null||!Jt.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=mu(a,o,t);Qo(a,w);break e}}a=a.return}while(a!==null)}Tu(n)}catch(E){t=E,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Pu(){var e=Zs.current;return Zs.current=Ys,e===null?Ys:e}function Bi(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),_e===null||!(gr&268435455)&&!(yl&268435455)||Dt(_e,Ce)}function rl(e,t){var n=te;te|=2;var s=Pu();(_e!==e||Ce!==t)&&(vt=null,cr(e,t));do try{_p();break}catch(l){Eu(e,l)}while(!0);if(_i(),te=n,Zs.current=s,xe!==null)throw Error(F(261));return _e=null,Ce=0,Ne}function _p(){for(;xe!==null;)Lu(xe)}function kp(){for(;xe!==null&&!Km();)Lu(xe)}function Lu(e){var t=Iu(e.alternate,e,Ve);e.memoizedProps=e.pendingProps,t===null?Tu(e):xe=t,$i.current=null}function Tu(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yp(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,xe=null;return}}else if(n=xp(n,t,Ve),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Ne===0&&(Ne=5)}function lr(e,t,n){var s=le,l=et.transition;try{et.transition=null,le=1,Sp(e,t,n,s)}finally{et.transition=l,le=s}return null}function Sp(e,t,n,s){do Ar();while(Ut!==null);if(te&6)throw Error(F(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(lf(e,a),e===_e&&(xe=_e=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ys||(ys=!0,zu($s,function(){return Ar(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=et.transition,et.transition=null;var i=le;le=1;var o=te;te|=4,$i.current=null,jp(e,n),ku(n,e),Qf(ka),Ms=!!_a,ka=_a=null,e.current=n,wp(n),Gm(),te=o,le=i,et.transition=a}else e.current=n;if(ys&&(ys=!1,Ut=e,tl=l),a=e.pendingLanes,a===0&&(Jt=null),Zm(n.stateNode),Be(e,he()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(el)throw el=!1,e=Wa,Wa=null,e;return tl&1&&e.tag!==0&&Ar(),a=e.pendingLanes,a&1?e===Qa?Pn++:(Pn=0,Qa=e):Pn=0,tr(),null}function Ar(){if(Ut!==null){var e=ud(tl),t=et.transition,n=le;try{if(et.transition=null,le=16>e?16:e,Ut===null)var s=!1;else{if(e=Ut,Ut=null,tl=0,te&6)throw Error(F(331));var l=te;for(te|=4,U=e.current;U!==null;){var a=U,i=a.child;if(U.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(U=u;U!==null;){var h=U;switch(h.tag){case 0:case 11:case 15:Cn(8,h,a)}var x=h.child;if(x!==null)x.return=h,U=x;else for(;U!==null;){h=U;var g=h.sibling,_=h.return;if(Nu(h),h===u){U=null;break}if(g!==null){g.return=_,U=g;break}U=_}}}var N=a.alternate;if(N!==null){var v=N.child;if(v!==null){N.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}U=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,U=i;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Cn(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,U=p;break e}U=a.return}}var d=e.current;for(U=d;U!==null;){i=U;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,U=f;else e:for(i=d;U!==null;){if(o=U,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:xl(9,o)}}catch(E){pe(o,o.return,E)}if(o===i){U=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,U=w;break e}U=o.return}}if(te=l,tr(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(cl,e)}catch{}s=!0}return s}finally{le=n,et.transition=t}}return!1}function fc(e,t,n){t=Gr(n,t),t=uu(e,t,1),e=Qt(e,t,1),t=ze(),e!==null&&(Xn(e,1,t),Be(e,t))}function pe(e,t,n){if(e.tag===3)fc(e,e,n);else for(;t!==null;){if(t.tag===3){fc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Jt===null||!Jt.has(s))){e=Gr(n,e),e=mu(t,e,1),t=Qt(t,e,1),e=ze(),t!==null&&(Xn(t,1,e),Be(t,e));break}}t=t.return}}function Cp(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Ce&n)===n&&(Ne===4||Ne===3&&(Ce&130023424)===Ce&&500>he()-Mi?cr(e,0):Di|=n),Be(e,t)}function Ru(e,t){t===0&&(e.mode&1?(t=os,os<<=1,!(os&130023424)&&(os=4194304)):t=1);var n=ze();e=Ct(e,t),e!==null&&(Xn(e,t,n),Be(e,n))}function Ep(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ru(e,n)}function Pp(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(F(314))}s!==null&&s.delete(t),Ru(e,n)}var Iu;Iu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)Me=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Me=!1,gp(e,t,n);Me=!!(e.flags&131072)}else Me=!1,de&&t.flags&1048576&&$d(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Es(e,t),e=t.pendingProps;var l=Qr(t,Re.current);Ur(t,n),l=Ri(null,t,s,e,l,n);var a=Ii();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(s)?(a=!0,Hs(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ci(t),l.updater=gl,t.stateNode=l,l._reactInternals=t,za(t,s,e,n),t=$a(null,t,s,!0,a,n)):(t.tag=0,de&&a&&ji(t),Ie(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Es(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Tp(s),e=st(s,e),l){case 0:t=Fa(null,t,s,e,n);break e;case 1:t=nc(null,t,s,e,n);break e;case 11:t=tc(null,t,s,e,n);break e;case 14:t=rc(null,t,s,st(s.type,e),n);break e}throw Error(F(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:st(s,l),Fa(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:st(s,l),nc(e,t,s,l,n);case 3:e:{if(gu(t),e===null)throw Error(F(387));s=t.pendingProps,a=t.memoizedState,l=a.element,Vd(e,t),Ks(t,s,null,n);var i=t.memoizedState;if(s=i.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Gr(Error(F(423)),t),t=sc(e,t,s,n,l);break e}else if(s!==l){l=Gr(Error(F(424)),t),t=sc(e,t,s,n,l);break e}else for(He=Wt(t.stateNode.containerInfo.firstChild),We=t,de=!0,at=null,n=Ad(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),s===l){t=Et(e,t,n);break e}Ie(e,t,s,n)}t=t.child}return t;case 5:return Hd(t),e===null&&Ta(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Sa(s,l)?i=null:a!==null&&Sa(s,a)&&(t.flags|=32),hu(e,t),Ie(e,t,i,n),t.child;case 6:return e===null&&Ta(t),null;case 13:return xu(e,t,n);case 4:return Ei(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=qr(t,null,s,n):Ie(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:st(s,l),tc(e,t,s,l,n);case 7:return Ie(e,t,t.pendingProps,n),t.child;case 8:return Ie(e,t,t.pendingProps.children,n),t.child;case 12:return Ie(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,ie(Js,s._currentValue),s._currentValue=i,a!==null)if(ct(a.value,i)){if(a.children===l.children&&!Ue.current){t=Et(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=_t(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Ra(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(F(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Ra(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ie(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Ur(t,n),l=tt(l),s=s(l),t.flags|=1,Ie(e,t,s,n),t.child;case 14:return s=t.type,l=st(s,t.pendingProps),l=st(s.type,l),rc(e,t,s,l,n);case 15:return fu(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:st(s,l),Es(e,t),t.tag=1,Ae(s)?(e=!0,Hs(t)):e=!1,Ur(t,n),du(t,s,l),za(t,s,l,n),$a(null,t,s,!0,e,n);case 19:return yu(e,t,n);case 22:return pu(e,t,n)}throw Error(F(156,t.tag))};function zu(e,t){return id(e,t)}function Lp(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,n,s){return new Lp(e,t,n,s)}function Vi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tp(e){if(typeof e=="function")return Vi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oi)return 11;if(e===ci)return 14}return 2}function Kt(e,t){var n=e.alternate;return n===null?(n=Ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ts(e,t,n,s,l,a){var i=2;if(s=e,typeof e=="function")Vi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case kr:return dr(n.children,l,a,t);case ii:i=8,l|=8;break;case sa:return e=Ze(12,n,t,l|2),e.elementType=sa,e.lanes=a,e;case la:return e=Ze(13,n,t,l),e.elementType=la,e.lanes=a,e;case aa:return e=Ze(19,n,t,l),e.elementType=aa,e.lanes=a,e;case Hc:return vl(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bc:i=10;break e;case Vc:i=9;break e;case oi:i=11;break e;case ci:i=14;break e;case Ot:i=16,s=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Ze(i,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function dr(e,t,n,s){return e=Ze(7,e,s,t),e.lanes=n,e}function vl(e,t,n,s){return e=Ze(22,e,s,t),e.elementType=Hc,e.lanes=n,e.stateNode={isHidden:!1},e}function Zl(e,t,n){return e=Ze(6,e,null,t),e.lanes=n,e}function ea(e,t,n){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rp(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Hi(e,t,n,s,l,a,i,o,c){return e=new Rp(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ze(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ci(a),e}function Ip(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_r,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Ou(e){if(!e)return Yt;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Ae(n))return Od(e,n,t)}return t}function Fu(e,t,n,s,l,a,i,o,c){return e=Hi(n,s,!0,e,l,a,i,o,c),e.context=Ou(null),n=e.current,s=ze(),l=qt(n),a=_t(s,l),a.callback=t??null,Qt(n,a,l),e.current.lanes=l,Xn(e,l,s),Be(e,s),e}function jl(e,t,n,s){var l=t.current,a=ze(),i=qt(l);return n=Ou(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(a,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Qt(l,t,i),e!==null&&(ot(e,l,i,a),ks(e,l,i)),i}function nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wi(e,t){pc(e,t),(e=e.alternate)&&pc(e,t)}function zp(){return null}var $u=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qi(e){this._internalRoot=e}wl.prototype.render=Qi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));jl(e,t,null,null)};wl.prototype.unmount=Qi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){jl(null,e,null,null)}),t[St]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=pd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$t.length&&t!==0&&t<$t[n].priority;n++);$t.splice(n,0,e),n===0&&gd(e)}};function Ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hc(){}function Op(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var u=nl(i);a.call(u)}}var i=Fu(t,s,e,0,null,!1,!1,"",hc);return e._reactRootContainer=i,e[St]=i.current,Dn(e.nodeType===8?e.parentNode:e),xr(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var o=s;s=function(){var u=nl(c);o.call(u)}}var c=Hi(e,0,!1,null,null,!1,!1,"",hc);return e._reactRootContainer=c,e[St]=c.current,Dn(e.nodeType===8?e.parentNode:e),xr(function(){jl(t,c,n,s)}),c}function bl(e,t,n,s,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=nl(i);o.call(c)}}jl(t,i,e,l)}else i=Op(n,t,e,l,s);return nl(i)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vn(t.pendingLanes);n!==0&&(mi(t,n|1),Be(t,he()),!(te&6)&&(Xr=he()+500,tr()))}break;case 13:xr(function(){var s=Ct(e,1);if(s!==null){var l=ze();ot(s,e,1,l)}}),Wi(e,1)}};fi=function(e){if(e.tag===13){var t=Ct(e,134217728);if(t!==null){var n=ze();ot(t,e,134217728,n)}Wi(e,134217728)}};fd=function(e){if(e.tag===13){var t=qt(e),n=Ct(e,t);if(n!==null){var s=ze();ot(n,e,t,s)}Wi(e,t)}};pd=function(){return le};hd=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};ga=function(e,t,n){switch(t){case"input":if(ca(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=fl(s);if(!l)throw Error(F(90));Qc(s),ca(s,l)}}}break;case"textarea":qc(e,n);break;case"select":t=n.value,t!=null&&Fr(e,!!n.multiple,t,!1)}};td=Ui;rd=xr;var Fp={usingClientEntryPoint:!1,Events:[Zn,Pr,fl,Zc,ed,Ui]},gn={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$p={bundleType:gn.bundleType,version:gn.version,rendererPackageName:gn.rendererPackageName,rendererConfig:gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ld(e),e===null?null:e.stateNode},findFiberByHostInstance:gn.findFiberByHostInstance||zp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{cl=vs.inject($p),pt=vs}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fp;Ke.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ji(t))throw Error(F(200));return Ip(e,t,null,n)};Ke.createRoot=function(e,t){if(!Ji(e))throw Error(F(299));var n=!1,s="",l=$u;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Hi(e,1,!1,null,null,n,!1,s,l),e[St]=t.current,Dn(e.nodeType===8?e.parentNode:e),new Qi(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=ld(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return xr(e)};Ke.hydrate=function(e,t,n){if(!Nl(t))throw Error(F(200));return bl(null,e,t,!0,n)};Ke.hydrateRoot=function(e,t,n){if(!Ji(e))throw Error(F(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",i=$u;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Fu(t,null,e,1,n??null,l,!1,a,i),e[St]=t.current,Dn(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new wl(t)};Ke.render=function(e,t,n){if(!Nl(t))throw Error(F(200));return bl(null,e,t,!1,n)};Ke.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(F(40));return e._reactRootContainer?(xr(function(){bl(null,null,e,!1,function(){e._reactRootContainer=null,e[St]=null})}),!0):!1};Ke.unstable_batchedUpdates=Ui;Ke.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Nl(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return bl(e,t,n,!1,s)};Ke.version="18.3.1-next-f1338f8080-20240426";function Du(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Du)}catch(e){console.error(e)}}Du(),Dc.exports=Ke;var Dp=Dc.exports,Mu,gc=Dp;Mu=gc.createRoot,gc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jn.apply(this,arguments)}var At;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(At||(At={}));const xc="popstate";function Mp(e){e===void 0&&(e={});function t(s,l){let{pathname:a,search:i,hash:o}=s.location;return Ka("",{pathname:a,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:sl(l)}return Ap(t,n,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Up(){return Math.random().toString(36).substr(2,8)}function yc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ka(e,t,n,s){return n===void 0&&(n=null),Jn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nn(t):t,{state:n,key:t&&t.key||s||Up()})}function sl(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function nn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Ap(e,t,n,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:a=!1}=s,i=l.history,o=At.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Jn({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function x(){o=At.Pop;let j=h(),p=j==null?null:j-u;u=j,c&&c({action:o,location:v.location,delta:p})}function g(j,p){o=At.Push;let d=Ka(v.location,j,p);u=h()+1;let f=yc(d,u),w=v.createHref(d);try{i.pushState(f,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;l.location.assign(w)}a&&c&&c({action:o,location:v.location,delta:1})}function _(j,p){o=At.Replace;let d=Ka(v.location,j,p);u=h();let f=yc(d,u),w=v.createHref(d);i.replaceState(f,"",w),a&&c&&c({action:o,location:v.location,delta:0})}function N(j){let p=l.location.origin!=="null"?l.location.origin:l.location.href,d=typeof j=="string"?j:sl(j);return d=d.replace(/ $/,"%20"),ge(p,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,p)}let v={get action(){return o},get location(){return e(l,i)},listen(j){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(xc,x),c=j,()=>{l.removeEventListener(xc,x),c=null}},createHref(j){return t(l,j)},createURL:N,encodeLocation(j){let p=N(j);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:g,replace:_,go(j){return i.go(j)}};return v}var vc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vc||(vc={}));function Bp(e,t,n){return n===void 0&&(n="/"),Vp(e,t,n,!1)}function Vp(e,t,n,s){let l=typeof t=="string"?nn(t):t,a=qi(l.pathname||"/",n);if(a==null)return null;let i=Au(e);Hp(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=th(a);o=Zp(i[c],u,s)}return o}function Au(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let l=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ge(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Gt([s,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(ge(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Au(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Xp(u,a.index),routesMeta:h})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))l(a,i);else for(let c of Bu(a.path))l(a,i,c)}),t}function Bu(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let i=Bu(s.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),l&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Hp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Yp(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Wp=/^:[\w-]+$/,Qp=3,Jp=2,qp=1,Kp=10,Gp=-2,jc=e=>e==="*";function Xp(e,t){let n=e.split("/"),s=n.length;return n.some(jc)&&(s+=Gp),t&&(s+=Jp),n.filter(l=>!jc(l)).reduce((l,a)=>l+(Wp.test(a)?Qp:a===""?qp:Kp),s)}function Yp(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function Zp(e,t,n){let{routesMeta:s}=e,l={},a="/",i=[];for(let o=0;o<s.length;++o){let c=s[o],u=o===s.length-1,h=a==="/"?t:t.slice(a.length)||"/",x=wc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),g=c.route;if(!x&&u&&n&&!s[s.length-1].route.index&&(x=wc({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!x)return null;Object.assign(l,x.params),i.push({params:l,pathname:Gt([a,x.pathname]),pathnameBase:lh(Gt([a,x.pathnameBase])),route:g}),x.pathnameBase!=="/"&&(a=Gt([a,x.pathnameBase]))}return i}function wc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=eh(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:s.reduce((u,h,x)=>{let{paramName:g,isOptional:_}=h;if(g==="*"){let v=o[x]||"";i=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const N=o[x];return _&&!N?u[g]=void 0:u[g]=(N||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function eh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Uu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function th(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Uu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function rh(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?nn(e):e;return{pathname:n?n.startsWith("/")?n:nh(n,t):t,search:ah(s),hash:ih(l)}}function nh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ta(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ki(e,t){let n=sh(e);return t?n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Gi(e,t,n,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=nn(e):(l=Jn({},e),ge(!l.pathname||!l.pathname.includes("?"),ta("?","pathname","search",l)),ge(!l.pathname||!l.pathname.includes("#"),ta("#","pathname","hash",l)),ge(!l.search||!l.search.includes("#"),ta("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(i==null)o=n;else{let x=t.length-1;if(!s&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),x-=1;l.pathname=g.join("/")}o=x>=0?t[x]:"/"}let c=rh(l,o),u=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Gt=e=>e.join("/").replace(/\/\/+/g,"/"),lh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ah=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ih=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Vu=["post","put","patch","delete"];new Set(Vu);const ch=["get",...Vu];new Set(ch);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qn.apply(this,arguments)}const Xi=m.createContext(null),dh=m.createContext(null),rr=m.createContext(null),_l=m.createContext(null),xt=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Hu=m.createContext(null);function uh(e,t){let{relative:n}=t===void 0?{}:t;sn()||ge(!1);let{basename:s,navigator:l}=m.useContext(rr),{hash:a,pathname:i,search:o}=Qu(e,{relative:n}),c=i;return s!=="/"&&(c=i==="/"?s:Gt([s,i])),l.createHref({pathname:c,search:o,hash:a})}function sn(){return m.useContext(_l)!=null}function ln(){return sn()||ge(!1),m.useContext(_l).location}function Wu(e){m.useContext(rr).static||m.useLayoutEffect(e)}function It(){let{isDataRoute:e}=m.useContext(xt);return e?Sh():mh()}function mh(){sn()||ge(!1);let e=m.useContext(Xi),{basename:t,future:n,navigator:s}=m.useContext(rr),{matches:l}=m.useContext(xt),{pathname:a}=ln(),i=JSON.stringify(Ki(l,n.v7_relativeSplatPath)),o=m.useRef(!1);return Wu(()=>{o.current=!0}),m.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){s.go(u);return}let x=Gi(u,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Gt([t,x.pathname])),(h.replace?s.replace:s.push)(x,h.state,h)},[t,s,i,a,e])}const fh=m.createContext(null);function ph(e){let t=m.useContext(xt).outlet;return t&&m.createElement(fh.Provider,{value:e},t)}function Yi(){let{matches:e}=m.useContext(xt),t=e[e.length-1];return t?t.params:{}}function Qu(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=m.useContext(rr),{matches:l}=m.useContext(xt),{pathname:a}=ln(),i=JSON.stringify(Ki(l,s.v7_relativeSplatPath));return m.useMemo(()=>Gi(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function hh(e,t){return gh(e,t)}function gh(e,t,n,s){sn()||ge(!1);let{navigator:l}=m.useContext(rr),{matches:a}=m.useContext(xt),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ln(),h;if(t){var x;let j=typeof t=="string"?nn(t):t;c==="/"||(x=j.pathname)!=null&&x.startsWith(c)||ge(!1),h=j}else h=u;let g=h.pathname||"/",_=g;if(c!=="/"){let j=c.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=Bp(e,{pathname:_}),v=wh(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Gt([c,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Gt([c,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,n,s);return t&&v?m.createElement(_l.Provider,{value:{location:qn({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:At.Pop}},v):v}function xh(){let e=kh(),t=oh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:l},n):null,null)}const yh=m.createElement(xh,null);class vh extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(xt.Provider,{value:this.props.routeContext},m.createElement(Hu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jh(e){let{routeContext:t,match:n,children:s}=e,l=m.useContext(Xi);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(xt.Provider,{value:t},s)}function wh(e,t,n,s){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let h=i.findIndex(x=>x.route.id&&(o==null?void 0:o[x.route.id])!==void 0);h>=0||ge(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<i.length;h++){let x=i[h];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(u=h),x.route.id){let{loaderData:g,errors:_}=n,N=x.route.loader&&g[x.route.id]===void 0&&(!_||_[x.route.id]===void 0);if(x.route.lazy||N){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,x,g)=>{let _,N=!1,v=null,j=null;n&&(_=o&&x.route.id?o[x.route.id]:void 0,v=x.route.errorElement||yh,c&&(u<0&&g===0?(N=!0,j=null):u===g&&(N=!0,j=x.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,g+1)),d=()=>{let f;return _?f=v:N?f=j:x.route.Component?f=m.createElement(x.route.Component,null):x.route.element?f=x.route.element:f=h,m.createElement(jh,{match:x,routeContext:{outlet:h,matches:p,isDataRoute:n!=null},children:f})};return n&&(x.route.ErrorBoundary||x.route.errorElement||g===0)?m.createElement(vh,{location:n.location,revalidation:n.revalidation,component:v,error:_,children:d(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):d()},null)}var Ju=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ju||{}),ll=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ll||{});function Nh(e){let t=m.useContext(Xi);return t||ge(!1),t}function bh(e){let t=m.useContext(dh);return t||ge(!1),t}function _h(e){let t=m.useContext(xt);return t||ge(!1),t}function qu(e){let t=_h(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}function kh(){var e;let t=m.useContext(Hu),n=bh(ll.UseRouteError),s=qu(ll.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Sh(){let{router:e}=Nh(Ju.UseNavigateStable),t=qu(ll.UseNavigateStable),n=m.useRef(!1);return Wu(()=>{n.current=!0}),m.useCallback(function(l,a){a===void 0&&(a={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,qn({fromRouteId:t},a)))},[e,t])}function Ch(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Zi(e){let{to:t,replace:n,state:s,relative:l}=e;sn()||ge(!1);let{future:a,static:i}=m.useContext(rr),{matches:o}=m.useContext(xt),{pathname:c}=ln(),u=It(),h=Gi(t,Ki(o,a.v7_relativeSplatPath),c,l==="path"),x=JSON.stringify(h);return m.useEffect(()=>u(JSON.parse(x),{replace:n,state:s,relative:l}),[u,x,l,n,s]),null}function Eh(e){return ph(e.context)}function ve(e){ge(!1)}function Ph(e){let{basename:t="/",children:n=null,location:s,navigationType:l=At.Pop,navigator:a,static:i=!1,future:o}=e;sn()&&ge(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:i,future:qn({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof s=="string"&&(s=nn(s));let{pathname:h="/",search:x="",hash:g="",state:_=null,key:N="default"}=s,v=m.useMemo(()=>{let j=qi(h,c);return j==null?null:{location:{pathname:j,search:x,hash:g,state:_,key:N},navigationType:l}},[c,h,x,g,_,N,l]);return v==null?null:m.createElement(rr.Provider,{value:u},m.createElement(_l.Provider,{children:n,value:v}))}function Lh(e){let{children:t,location:n}=e;return hh(Ga(t),n)}new Promise(()=>{});function Ga(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(s,l)=>{if(!m.isValidElement(s))return;let a=[...t,l];if(s.type===m.Fragment){n.push.apply(n,Ga(s.props.children,a));return}s.type!==ve&&ge(!1),!s.props.index||!s.props.children||ge(!1);let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Ga(s.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xa.apply(this,arguments)}function Th(e,t){if(e==null)return{};var n={},s=Object.keys(e),l,a;for(a=0;a<s.length;a++)l=s[a],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Rh(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ih(e,t){return e.button===0&&(!t||t==="_self")&&!Rh(e)}const zh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Oh="6";try{window.__reactRouterVersion=Oh}catch{}const Fh="startTransition",Nc=Sm[Fh];function $h(e){let{basename:t,children:n,future:s,window:l}=e,a=m.useRef();a.current==null&&(a.current=Mp({window:l,v5Compat:!0}));let i=a.current,[o,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=s||{},h=m.useCallback(x=>{u&&Nc?Nc(()=>c(x)):c(x)},[c,u]);return m.useLayoutEffect(()=>i.listen(h),[i,h]),m.useEffect(()=>Ch(s),[s]),m.createElement(Ph,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:s})}const Dh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=m.forwardRef(function(t,n){let{onClick:s,relative:l,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:h,viewTransition:x}=t,g=Th(t,zh),{basename:_}=m.useContext(rr),N,v=!1;if(typeof u=="string"&&Mh.test(u)&&(N=u,Dh))try{let f=new URL(window.location.href),w=u.startsWith("//")?new URL(f.protocol+u):new URL(u),E=qi(w.pathname,_);w.origin===f.origin&&E!=null?u=E+w.search+w.hash:v=!0}catch{}let j=uh(u,{relative:l}),p=Uh(u,{replace:i,state:o,target:c,preventScrollReset:h,relative:l,viewTransition:x});function d(f){s&&s(f),f.defaultPrevented||p(f)}return m.createElement("a",Xa({},g,{href:N||j,onClick:v||a?s:d,ref:n,target:c}))});var bc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bc||(bc={}));var _c;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_c||(_c={}));function Uh(e,t){let{target:n,replace:s,state:l,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,c=It(),u=ln(),h=Qu(e,{relative:i});return m.useCallback(x=>{if(Ih(x,n)){x.preventDefault();let g=s!==void 0?s:sl(u)===sl(h);c(e,{replace:g,state:l,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,h,s,l,n,e,a,i,o])}const ra="/api",Ya={async login(e,t){return await(await fetch(`${ra}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})})).json()},async register(e,t,n,s){return await(await fetch(`${ra}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,email:n,invitationCode:s})})).json()},async verifyToken(e){return await(await fetch(`${ra}/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).json()}},Ku=m.createContext(void 0),Ah=({children:e})=>{const[t,n]=m.useState(null),[s,l]=m.useState(!0);m.useEffect(()=>{const c=localStorage.getItem("auth_token");c?Ya.verifyToken(c).then(u=>{u.success?n(u.user):localStorage.removeItem("auth_token")}).catch(()=>{localStorage.removeItem("auth_token")}).finally(()=>{l(!1)}):l(!1)},[]);const o={user:t,isLoading:s,login:async(c,u)=>{try{const h=await Ya.login(c,u);return h.success&&h.token?(localStorage.setItem("auth_token",h.token),n(h.user),!0):!1}catch(h){return console.error("Login error:",h),!1}},logout:()=>{localStorage.removeItem("auth_token"),n(null)},isAuthenticated:!!t};return r.jsx(Ku.Provider,{value:o,children:e})},Gu=()=>{const e=m.useContext(Ku);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),H=(e,t)=>{const n=m.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:c,...u},h)=>m.createElement("svg",{ref:h,...Bh,width:l,height:l,stroke:s,strokeWidth:i?Number(a)*24/Number(l):a,className:["lucide",`lucide-${Vh(e)}`,o].join(" "),...u},[...t.map(([x,g])=>m.createElement(x,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=H("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=H("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=H("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=H("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=H("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=H("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=H("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=H("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=H("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=H("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=H("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=H("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=H("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=H("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=H("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=H("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=H("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=H("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=H("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=H("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=H("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=H("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=H("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=H("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=H("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=H("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=H("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=H("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=H("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=H("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=H("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=H("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=H("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=H("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=H("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=H("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=H("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=H("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),a0=()=>{const[e,t]=m.useState(!0),[n,s]=m.useState({username:"",password:"",email:"",invitationCode:""}),[l,a]=m.useState(""),[i,o]=m.useState(!1),{login:c,isAuthenticated:u}=Gu();if(m.useEffect(()=>{a("")},[e]),u)return r.jsx(Zi,{to:"/admin",replace:!0});const h=async g=>{g.preventDefault(),o(!0),a("");try{if(e)await c(n.username,n.password)||a("用户名或密码错误");else{if(!n.username||!n.password||!n.email||!n.invitationCode){a("请填写所有必填字段");return}if(n.username.length<3){a("用户名至少需要3个字符");return}if(n.password.length<6){a("密码至少需要6个字符");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)){a("邮箱格式不正确");return}try{const _=await Ya.register(n.username,n.password,n.email,n.invitationCode);_.success?await c(n.username,n.password)||(a("注册成功但自动登录失败，请手动登录"),t(!0)):a(_.message||"注册失败")}catch{a("注册失败，请重试")}}}catch{a("登录失败，请重试")}finally{o(!1)}},x=g=>{s({...n,[g.target.name]:g.target.value})};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 flex items-center justify-center px-4",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 shadow-2xl border border-white/20",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(mt,{className:"h-12 w-12 text-pink-400"})}),r.jsx("h2",{className:"text-3xl font-bold text-white",children:"恺瑞投流团队"}),r.jsx("p",{className:"text-gray-300 mt-2",children:"斗篷管理系统"})]}),r.jsxs("form",{onSubmit:h,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"用户名"}),r.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:n.username,onChange:x,className:"w-full px-4 py-3 bg-white/10 border border-gray-300/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200",placeholder:"请输入用户名"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"密码"}),r.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n.password,onChange:x,className:"w-full px-4 py-3 bg-white/10 border border-gray-300/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200",placeholder:"请输入密码"})]}),!e&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"邮箱"}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:x,className:"w-full px-4 py-3 bg-white/10 border border-gray-300/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200",placeholder:"请输入邮箱"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"invitationCode",className:"block text-sm font-medium text-gray-300 mb-2",children:"邀请码"}),r.jsx("input",{id:"invitationCode",name:"invitationCode",type:"text",required:!0,value:n.invitationCode,onChange:x,className:"w-full px-4 py-3 bg-white/10 border border-gray-300/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200",placeholder:"请输入邀请码"})]})]}),l&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 px-4 py-3 rounded-lg text-sm",children:l}),r.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-pink-500 to-violet-500 text-white py-3 px-4 rounded-lg font-medium hover:from-pink-600 hover:to-violet-600 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:i?r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):r.jsxs(r.Fragment,{children:[r.jsx(Xh,{className:"h-5 w-5"}),r.jsx("span",{children:e?"登录":"注册"})]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx("button",{onClick:()=>t(!e),className:"text-pink-400 hover:text-pink-300 text-sm transition-colors duration-200",children:e?"没有账号？点击注册":"已有账号？点击登录"})})]})})})},i0=()=>{var u,h;const{user:e,logout:t,isAuthenticated:n}=Gu(),[s,l]=m.useState(!0),[a,i]=m.useState(!0),o=ln();if(!n)return r.jsx(Zi,{to:"/admin/login",replace:!0});const c=[{path:"/admin",name:"仪表板",icon:Gh},{name:"流管理",icon:ur,isParent:!0,isOpen:a,toggle:()=>i(!a),children:[{path:"/admin/flows",name:"流列表",icon:ur},{path:"/admin/flows/create",name:"创建流程",icon:ur}]},{path:"/admin/statistics",name:"统计数据",icon:Yr},{path:"/admin/clicks",name:"点击数据",icon:Hr},{path:"/admin/conversions",name:"转化记录",icon:Kn},{path:"/admin/filters",name:"过滤列表",icon:Qe},{path:"/admin/logs",name:"API日志",icon:al},{name:"账号管理",icon:bt,isParent:!0,isOpen:!0,toggle:()=>{},children:[{path:"/admin/accounts",name:"账号列表",icon:bt},{path:"/admin/accounts/create",name:"创建账号",icon:bt},{path:"/admin/accounts/categories",name:"账号分类",icon:bt}]}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-gray-900 transform transition-transform duration-300 ease-in-out ${s?"translate-x-0":"-translate-x-full"}`,children:[r.jsxs("div",{className:"flex items-center justify-between h-16 px-6 bg-gray-800",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(mt,{className:"h-8 w-8 text-pink-400"}),r.jsx("span",{className:"text-white font-bold text-lg",children:"恺瑞斗篷"})]}),r.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-white transition-colors duration-200 lg:hidden",children:r.jsx(qe,{className:"h-6 w-6"})})]}),r.jsx("nav",{className:"mt-8 px-4 space-y-2",children:c.map((x,g)=>{var _;return r.jsx("div",{children:x.isParent?r.jsxs("div",{children:[r.jsxs("button",{onClick:x.toggle,className:"w-full flex items-center justify-between px-4 py-3 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(x.icon,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:x.name})]}),x.isOpen?r.jsx(eo,{className:"h-4 w-4"}):r.jsx(an,{className:"h-4 w-4"})]}),x.isOpen&&r.jsx("div",{className:"ml-4 mt-2 space-y-1",children:(_=x.children)==null?void 0:_.map((N,v)=>r.jsxs(gt,{to:N.path,className:`flex items-center space-x-3 px-4 py-2 text-sm rounded-lg transition-all duration-200 ${o.pathname===N.path?"text-pink-400 bg-gray-800":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[r.jsx(N.icon,{className:"h-4 w-4"}),r.jsx("span",{children:N.name})]},v))})]}):r.jsxs(gt,{to:x.path,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${o.pathname===x.path?"text-pink-400 bg-gray-800":"text-gray-300 hover:text-white hover:bg-gray-800"}`,children:[r.jsx(x.icon,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:x.name})]})},g)})}),r.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("div",{className:"h-8 w-8 bg-pink-400 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-bold",children:(h=(u=e==null?void 0:e.username)==null?void 0:u[0])==null?void 0:h.toUpperCase()})}),r.jsx("span",{className:"text-white text-sm font-medium",children:e==null?void 0:e.username})]}),r.jsxs("button",{onClick:t,className:"w-full flex items-center space-x-2 px-3 py-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-all duration-200",children:[r.jsx(Yh,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"退出登录"})]})]})})]}),r.jsxs("div",{className:`transition-all duration-300 ease-in-out ${s?"lg:ml-64":"ml-0"}`,children:[r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[r.jsx("button",{onClick:()=>l(!s),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",children:r.jsx(Zh,{className:"h-6 w-6"})}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("span",{className:"text-gray-700 text-sm",children:["欢迎，",e==null?void 0:e.username]})})]})}),r.jsx("main",{className:"p-6",children:r.jsx(Eh,{})})]}),s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>l(!1)})]})},Y="/api",Z=()=>{const e=localStorage.getItem("auth_token");return console.log("Auth token:",e?"Present":"Missing"),{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}},J={async getFlows(e=1,t=10,n="",s=""){const l=new URLSearchParams({page:e.toString(),per_page:t.toString(),...n&&{status:n},...s&&{search:s}});return await(await fetch(`${Y}/flows?${l}`,{headers:Z()})).json()},async createFlow(e){return await(await fetch(`${Y}/flows`,{method:"POST",headers:Z(),body:JSON.stringify(e)})).json()},async getFlowDetails(e){return await(await fetch(`${Y}/flows/${e}`,{headers:Z()})).json()},async updateFlow(e,t){return await(await fetch(`${Y}/flows/${e}`,{method:"PUT",headers:Z(),body:JSON.stringify(t)})).json()},async deleteFlow(e){return await(await fetch(`${Y}/flows/${e}`,{method:"DELETE",headers:Z()})).json()},async restoreFlow(e){return await(await fetch(`${Y}/flows/${e}/restore`,{method:"POST",headers:Z()})).json()},async activateFlow(e){return await(await fetch(`${Y}/flows/${e}/activate`,{method:"POST",headers:Z()})).json()},async pauseFlow(e){return await(await fetch(`${Y}/flows/${e}/pause`,{method:"POST",headers:Z()})).json()},async downloadFlowIntegration(e){return await(await fetch(`${Y}/flows/${e}/download`,{method:"POST",headers:Z()})).json()},async createFlowLink(e,t){return await(await fetch(`${Y}/flows/${e}/link`,{method:"POST",headers:Z(),body:JSON.stringify({domain_id:t})})).json()},async getDashboardData(){return await(await fetch(`${Y}/admin/dashboard`,{headers:Z()})).json()},async getUsers(){return await(await fetch(`${Y}/admin/users`,{headers:Z()})).json()},async getCountries(){console.log("🔍 Frontend: Starting getCountries request..."),console.log("🔍 Frontend: Request URL:",`${Y}/countries`),console.log("🔍 Frontend: Request headers:",Z());const e=await fetch(`${Y}/countries`,{headers:Z()});console.log("🔍 Frontend: Response status:",e.status),console.log("🔍 Frontend: Response headers:",Object.fromEntries(e.headers.entries())),console.log("🔍 Frontend: Response ok:",e.ok);const t=await e.text();console.log("🔍 Frontend: Raw response text:",t);try{const n=JSON.parse(t);return console.log("🔍 Frontend: Parsed JSON data:",n),n}catch(n){throw console.error("🔍 Frontend: JSON parse error:",n),console.error("🔍 Frontend: Response was not JSON:",t),new Error(`JSON parse failed: ${n.message}. Response: ${t.substring(0,200)}`)}},async getDevices(){console.log("🔍 Frontend: Starting getDevices request...");const t=await(await fetch(`${Y}/devices`,{headers:Z()})).text();console.log("🔍 Frontend: Devices raw response:",t);try{return JSON.parse(t)}catch(n){throw console.error("🔍 Frontend: Devices JSON parse error:",n),new Error(`JSON parse failed: ${n.message}`)}},async getOperatingSystems(){console.log("🔍 Frontend: Starting getOperatingSystems request...");const t=await(await fetch(`${Y}/operating_systems`,{headers:Z()})).text();console.log("🔍 Frontend: OS raw response:",t);try{return JSON.parse(t)}catch(n){throw console.error("🔍 Frontend: OS JSON parse error:",n),new Error(`JSON parse failed: ${n.message}`)}},async getBrowsers(){console.log("🔍 Frontend: Starting getBrowsers request...");const t=await(await fetch(`${Y}/browsers`,{headers:Z()})).text();console.log("🔍 Frontend: Browsers raw response:",t);try{return JSON.parse(t)}catch(n){throw console.error("🔍 Frontend: Browsers JSON parse error:",n),new Error(`JSON parse failed: ${n.message}`)}},async getLanguages(){console.log("🔍 Frontend: Starting getLanguages request...");const t=await(await fetch(`${Y}/languages`,{headers:Z()})).text();console.log("🔍 Frontend: Languages raw response:",t);try{return JSON.parse(t)}catch(n){throw console.error("🔍 Frontend: Languages JSON parse error:",n),new Error(`JSON parse failed: ${n.message}`)}},async getTimezones(){console.log("🔍 Frontend: Starting getTimezones request...");const t=await(await fetch(`${Y}/time_zones`,{headers:Z()})).text();console.log("🔍 Frontend: Timezones raw response:",t);try{return JSON.parse(t)}catch(n){throw console.error("🔍 Frontend: Timezones JSON parse error:",n),new Error(`JSON parse failed: ${n.message}`)}},async getConnections(){console.log("🔍 Frontend: Starting getConnections request...");const t=await(await fetch(`${Y}/connection_types`,{headers:Z()})).text();console.log("🔍 Frontend: Connections raw response:",t);try{return JSON.parse(t)}catch(n){throw console.error("🔍 Frontend: Connections JSON parse error:",n),new Error(`JSON parse failed: ${n.message}`)}},async getStatistics(e){console.log("🔍 Frontend: Starting getStatistics request...",e);const n=await(await fetch(`${Y}/statistics`,{method:"POST",headers:Z(),body:JSON.stringify(e)})).text();console.log("🔍 Frontend: Statistics raw response:",n);try{return JSON.parse(n)}catch(s){throw console.error("🔍 Frontend: Statistics JSON parse error:",s),new Error(`JSON parse failed: ${s.message}`)}},async getClicks(e){console.log("🔍 Frontend: Starting getClicks request...",e);const n=await(await fetch(`${Y}/clicks`,{method:"POST",headers:Z(),body:JSON.stringify(e)})).text();console.log("🔍 Frontend: Clicks raw response:",n);try{return JSON.parse(n)}catch(s){throw console.error("🔍 Frontend: Clicks JSON parse error:",s),new Error(`JSON parse failed: ${s.message}`)}},async getAccounts(e=1,t=10,n="",s="",l=""){const a=new URLSearchParams({page:e.toString(),per_page:t.toString(),...n&&{search:n},...s&&{status:s},...l&&{category_id:l}});return await(await fetch(`${Y}/admin/accounts?${a}`,{headers:Z()})).json()},async getAccount(e){return await(await fetch(`${Y}/admin/accounts/${e}`,{headers:Z()})).json()},async createAccount(e){return await(await fetch(`${Y}/admin/accounts`,{method:"POST",headers:Z(),body:JSON.stringify(e)})).json()},async updateAccount(e,t){return await(await fetch(`${Y}/admin/accounts/${e}`,{method:"PUT",headers:Z(),body:JSON.stringify(t)})).json()},async deleteAccount(e){return await(await fetch(`${Y}/admin/accounts/${e}`,{method:"DELETE",headers:Z()})).json()},async getCategories(){return await(await fetch(`${Y}/admin/categories`,{headers:Z()})).json()},async createCategory(e){return await(await fetch(`${Y}/admin/categories`,{method:"POST",headers:Z(),body:JSON.stringify(e)})).json()},async updateCategory(e,t){return await(await fetch(`${Y}/admin/categories/${e}`,{method:"PUT",headers:Z(),body:JSON.stringify(t)})).json()},async deleteCategory(e){return await(await fetch(`${Y}/admin/categories/${e}`,{method:"DELETE",headers:Z()})).json()},async getFilters(e=1,t=10,n="",s="",l="",a=""){const i=new URLSearchParams({page:e.toString(),per_page:t.toString(),...n&&{status:n},...s&&{list_type:s},...l&&{search:l},...a&&{date_ranges:a}});return await(await fetch(`${Y}/filters?${i}`,{headers:Z()})).json()},async createFilter(e){return await(await fetch(`${Y}/filters`,{method:"POST",headers:Z(),body:JSON.stringify(e)})).json()},async getFilterDetails(e){return await(await fetch(`${Y}/filters/${e}`,{headers:Z()})).json()},async updateFilter(e,t){return await(await fetch(`${Y}/filters/${e}`,{method:"PUT",headers:Z(),body:JSON.stringify(t)})).json()},async deleteFilter(e){return await(await fetch(`${Y}/filters/${e}`,{method:"DELETE",headers:Z()})).json()},async restoreFilter(e){return await(await fetch(`${Y}/filters/${e}/restore`,{method:"POST",headers:Z()})).json()},async deleteConversion(e){return await(await fetch(`${Y}/conversions/${e}`,{method:"DELETE",headers:Z()})).json()}},o0=()=>{const[e,t]=m.useState(null),[n,s]=m.useState(!1),[l,a]=m.useState("");m.useEffect(()=>{i()},[]);const i=async()=>{try{const h=await(await fetch("/api/cache/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();h.success&&t(h.data)}catch(u){console.error("Error loading cache stats:",u)}},o=async()=>{s(!0),a("");try{(await(await fetch("/api/cache/refresh",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json()).success?(a("缓存刷新成功！"),await i()):a("缓存刷新失败")}catch{a("网络错误，请重试")}finally{s(!1)}},c=async()=>{if(confirm("确定要清除所有缓存吗？这将导致下次请求时重新获取数据。")){s(!0),a("");try{(await(await fetch("/api/cache/clear",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json()).success?(a("缓存清除成功！"),await i()):a("缓存清除失败")}catch{a("网络错误，请重试")}finally{s(!1)}}};return r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(al,{className:"h-6 w-6 text-indigo-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"缓存管理"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:o,disabled:n,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[n?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(Lt,{className:"h-4 w-4"}),r.jsx("span",{children:"刷新缓存"})]}),r.jsxs("button",{onClick:c,disabled:n,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(Tt,{className:"h-4 w-4"}),r.jsx("span",{children:"清除缓存"})]})]})]}),l&&r.jsx("div",{className:`mb-4 px-4 py-3 rounded-lg ${l.includes("成功")?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"}`,children:l}),e&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Za,{className:"h-5 w-5 text-yellow-500"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"内存缓存"})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[e.memoryCache.size," 项"]})]}),r.jsx("div",{className:"space-y-2",children:e.memoryCache.keys.length>0?e.memoryCache.keys.map((u,h)=>r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx("span",{className:"text-sm text-gray-700",children:u}),r.jsx(Br,{className:"h-4 w-4 text-green-500"})]},h)):r.jsx("p",{className:"text-sm text-gray-500",children:"暂无缓存数据"})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Kh,{className:"h-5 w-5 text-blue-500"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"文件缓存"})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[e.fileCache.files.length," 文件"]})]}),r.jsx("div",{className:"space-y-2",children:e.fileCache.files.length>0?e.fileCache.files.map((u,h)=>r.jsxs("div",{className:"flex items-center justify-between py-1",children:[r.jsx("span",{className:"text-sm text-gray-700",children:u.replace(".json","")}),r.jsx(Br,{className:"h-4 w-4 text-green-500"})]},h)):r.jsx("p",{className:"text-sm text-gray-500",children:"暂无缓存文件"})})]})]}),r.jsx("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Yr,{className:"h-5 w-5 text-blue-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"缓存机制说明"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsxs("li",{children:["• ",r.jsx("strong",{children:"内存缓存"}),"：快速访问，重启后清空"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"文件缓存"}),"：持久存储，重启后保留"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"自动刷新"}),"：系统会自动更新即将过期的缓存"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"过期时间"}),"：国家(24h)、设备/浏览器(7天)、语言/时区(30天)"]})]})]})]})})]})},c0=()=>{const[e,t]=m.useState({totalUsers:0,totalFlows:0,totalClicks:0,activeFlows:0}),[n,s]=m.useState(!0),[l,a]=m.useState("");m.useEffect(()=>{i()},[]);const i=async()=>{try{console.log("Loading dashboard data...");const c=await J.getDashboardData();console.log("Dashboard response:",c),c.success?t(c.data):(console.error("Dashboard API error:",c.message),a(c.message||"获取仪表板数据失败"))}catch(c){console.error("Dashboard fetch error:",c),a("网络错误，请重试")}finally{s(!1)}},o=[{name:"总用户数",value:e.totalUsers,icon:bt,change:"+12%",changeType:"positive",color:"bg-blue-500"},{name:"总流程数",value:e.totalFlows,icon:ur,change:"+8%",changeType:"positive",color:"bg-green-500"},{name:"总点击量",value:e.totalClicks,icon:Hr,change:"+24%",changeType:"positive",color:"bg-purple-500"},{name:"活跃流程",value:e.activeFlows,icon:Kn,change:"-3%",changeType:"negative",color:"bg-pink-500"}];return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-8 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"欢迎来到恺瑞投流管理系统"}),r.jsx("p",{className:"text-indigo-100 text-lg",children:"专业的斗篷流量管理平台，助力您的业务增长"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map((c,u)=>r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:c.name}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:c.value.toLocaleString()})]}),r.jsx("div",{className:`p-3 rounded-lg ${c.color}`,children:r.jsx(c.icon,{className:"h-6 w-6 text-white"})})]}),r.jsxs("div",{className:"flex items-center mt-4",children:[c.changeType==="positive"?r.jsx(Wh,{className:"h-4 w-4 text-green-500"}):r.jsx(Hh,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{className:`text-sm font-medium ml-1 ${c.changeType==="positive"?"text-green-600":"text-red-600"}`,children:c.change}),r.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"vs 上月"})]})]},u))}),l&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:l}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"流程状态分布"}),r.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"图表功能待开发"})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"点击量趋势"}),r.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:r.jsx("p",{className:"text-gray-500",children:"图表功能待开发"})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"快速操作"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(gt,{to:"/admin/flows",className:"p-4 border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all duration-200 group",children:[r.jsx(ur,{className:"h-8 w-8 text-indigo-600 mb-2 group-hover:scale-110 transition-transform duration-200"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"管理流程"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"查看和管理所有流程"})]}),r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-green-300 hover:bg-green-50 transition-all duration-200 group cursor-pointer",children:[r.jsx(Yr,{className:"h-8 w-8 text-green-600 mb-2 group-hover:scale-110 transition-transform duration-200"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"查看统计"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"分析流程性能数据"})]}),r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-all duration-200 group cursor-pointer",children:[r.jsx(n0,{className:"h-8 w-8 text-purple-600 mb-2 group-hover:scale-110 transition-transform duration-200"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"系统设置"}),r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"配置系统参数"})]})]})]}),r.jsx(o0,{})]})},d0=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[l,a]=m.useState(1),[i,o]=m.useState(1),[c,u]=m.useState(0),[h,x]=m.useState(""),[g,_]=m.useState(""),[N,v]=m.useState(""),[j,p]=m.useState(""),[d,f]=m.useState(null),[w,E]=m.useState(!1),I=10;m.useEffect(()=>{C()},[l,h,g]);const C=async()=>{s(!0),v("");try{const R=await J.getFlows(l,I,g,h);if(R.success){const M=R.data.filter(z=>z.status!=="deleted"&&z.status!=="inactive");t(M),u(R.total),o(Math.ceil(R.total/I))}else v(R.message||"获取流程数据失败")}catch{v("网络错误，请重试")}finally{s(!1)}},P=async R=>{E(!0);try{const M=await J.getFlowDetails(R);M.success?f(M.data):v(M.message||"获取流程详情失败")}catch{v("获取详情失败，请重试")}finally{E(!1)}},D=R=>{switch(R.toLowerCase()){case"active":return"bg-green-500";case"paused":return"bg-yellow-500";case"inactive":case"deleted":return"bg-red-500";default:return"bg-gray-500"}},b=R=>{switch(R.toLowerCase()){case"active":return"活跃";case"paused":return"暂停";case"inactive":return"停用";case"deleted":return"已删除";default:return R}},B=R=>new Date(R*1e3).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),ne=R=>!R||R.length<=8?R||"-":`${R.substring(0,4)}${"*".repeat(16)}${R.substring(R.length-8)}`,Q=R=>Array.isArray(R)?R.length:typeof R=="string"&&R.length>0?R.split(",").filter(M=>M.trim().length>0).length:0,k=R=>Array.isArray(R)?R.join(", "):typeof R=="string"?R:"",A=async R=>{await P(R)},T=async R=>{if(confirm("确定要删除这个流程吗？"))try{v(""),p("");const M=await J.deleteFlow(R);M.success?(p("流程删除成功"),C()):v(M.message||"删除失败")}catch{v("删除失败，请重试")}},q=async R=>{try{v(""),p("");const M=await J.restoreFlow(R);M.success?(p("流程恢复成功"),C()):v(M.message||"恢复失败")}catch{v("恢复失败，请重试")}},y=async R=>{try{v(""),p("");const M=await J.activateFlow(R);M.success?(p("流程激活成功"),C()):v(M.message||"激活失败")}catch{v("激活失败，请重试")}},L=async R=>{try{v(""),p("");const M=await J.pauseFlow(R);M.success?(p("流程暂停成功"),C()):v(M.message||"暂停失败")}catch{v("暂停失败，请重试")}},$=async R=>{try{v("");const M=await J.downloadFlowIntegration(R);if(M.success)if(M.download_url){const z=document.createElement("a");z.href=M.download_url,z.download=`flow_${R}_integration.zip`,z.target="_blank",document.body.appendChild(z),z.click(),document.body.removeChild(z),p("集成文件下载已开始")}else v("未获取到下载链接，请检查流程状态");else v(M.message||"下载失败")}catch{v("下载失败，请重试")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"流程管理"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"管理和监控所有斗篷流程"})]}),r.jsxs(gt,{to:"/admin/flows/create",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(Sl,{className:"h-4 w-4"}),r.jsx("span",{children:"创建流程"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"总流程数"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:c.toLocaleString()})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:r.jsx(Qe,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"活跃流程"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.filter(R=>R.status==="active").length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:r.jsx(Sc,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"暂停流程"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.filter(R=>R.status==="paused").length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-yellow-500",children:r.jsx(kc,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"总点击量"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.reduce((R,M)=>R+M.hits,0).toLocaleString()})]}),r.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:r.jsx(Zr,{className:"h-6 w-6 text-white"})})]})})]}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:"搜索流程...",value:h,onChange:R=>x(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsxs("select",{value:g,onChange:R=>_(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"所有状态"}),r.jsx("option",{value:"active",children:"活跃"}),r.jsx("option",{value:"paused",children:"暂停"})]})]}),r.jsxs("button",{onClick:C,disabled:n,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(Lt,{className:"h-4 w-4"}),r.jsx("span",{children:"刷新"})]})]})}),N&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:N}),j&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg",children:j}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"流程列表"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:"text-sm text-gray-500",children:["共 ",c.toLocaleString()," 个流程"]})})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"日期"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Label"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"名称"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"主机"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"点击量"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"已过滤"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"比率"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"管理"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:10,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"加载中..."})]})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:10,className:"px-6 py-8 text-center text-gray-500",children:"暂无流程数据"})}):e.map(R=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:R.flow_id}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B(R.time_created)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:ne(R.label)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:R.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.hosts}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.hits.toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.filtered.toLocaleString()}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[R.ctr,"%"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`h-3 w-3 rounded-full ${D(R.status)}`}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:b(R.status)})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>A(R.flow_id),className:"p-1 text-gray-400 hover:text-indigo-600 transition-colors duration-200",title:"查看详情",children:r.jsx(Zr,{className:"h-4 w-4"})}),r.jsx(gt,{to:`/admin/flows/edit/${R.flow_id}`,className:"p-1 text-gray-400 hover:text-blue-600 transition-colors duration-200",title:"编辑流程",children:r.jsx(Cl,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>T(R.flow_id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors duration-200",title:"删除流程",children:r.jsx(Tt,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>q(R.flow_id),className:"p-1 text-gray-400 hover:text-green-600 transition-colors duration-200",title:"恢复流程",children:r.jsx(Yu,{className:"h-4 w-4"})}),R.status==="active"?r.jsx("button",{onClick:()=>L(R.flow_id),className:"p-1 text-gray-400 hover:text-yellow-600 transition-colors duration-200",title:"暂停流程",children:r.jsx(kc,{className:"h-4 w-4"})}):r.jsx("button",{onClick:()=>y(R.flow_id),className:"p-1 text-gray-400 hover:text-green-600 transition-colors duration-200",title:"激活流程",children:r.jsx(Sc,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>$(R.flow_id),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors duration-200",title:"下载集成文件",children:r.jsx(kl,{className:"h-4 w-4"})})]})})]},R.flow_id))})]})}),i>1&&r.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["显示第 ",(l-1)*I+1," - ",Math.min(l*I,c)," 条，共 ",c.toLocaleString()," 条记录"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>a(Math.max(1,l-1)),disabled:l===1,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[r.jsx(ts,{className:"h-4 w-4 mr-1"}),"上一页"]}),r.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,i)},(R,M)=>{let z;return i<=5||l<=3?z=M+1:l>=i-2?z=i-4+M:z=l-2+M,r.jsx("button",{onClick:()=>a(z),className:`px-3 py-1 text-sm rounded-md transition-colors duration-200 ${l===z?"bg-indigo-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:z},z)})}),r.jsxs("button",{onClick:()=>a(Math.min(i,l+1)),disabled:l===i,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:["下一页",r.jsx(an,{className:"h-4 w-4 ml-1"})]})]})]})})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["流程详情 - ",d.name]}),r.jsx("button",{onClick:()=>f(null),className:"text-gray-400 hover:text-gray-600 transition-colors duration-200",children:r.jsx(qe,{className:"h-6 w-6"})})]})}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:w?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"加载详情中..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"基本信息"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"流程ID:"})," ",d.flow_id]}),r.jsxs("div",{children:[r.jsx("strong",{children:"流程名称:"})," ",d.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"状态:"}),r.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs ${D(d.status)} text-white`,children:b(d.status)})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"创建时间:"})," ",d.created_at]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"页面配置"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"白页面URL:"}),r.jsx("a",{href:d.url_white_page,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800",children:d.url_white_page})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"落地页URL:"}),r.jsx("a",{href:d.url_offer_page,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800",children:d.url_offer_page})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"白页面模式:"})," ",d.mode_white_page]}),r.jsxs("div",{children:[r.jsx("strong",{children:"落地页模式:"})," ",d.mode_offer_page]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"过滤设置"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(mt,{className:`h-4 w-4 ${d.filter_cloaking_flag==1?"text-green-500":"text-gray-400"}`}),r.jsxs("span",{children:["机器人过滤: ",d.filter_cloaking_flag==1?"启用":"禁用"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(mt,{className:`h-4 w-4 ${d.filter_vpn_proxy_flag==1?"text-green-500":"text-gray-400"}`}),r.jsxs("span",{children:["VPN/代理过滤: ",d.filter_vpn_proxy_flag==1?"启用":"禁用"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(mt,{className:`h-4 w-4 ${d.filter_ip_v6_flag==1?"text-green-500":"text-gray-400"}`}),r.jsxs("span",{children:["IPv6过滤: ",d.filter_ip_v6_flag==1?"启用":"禁用"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(mt,{className:`h-4 w-4 ${d.filter_referer_flag==1?"text-green-500":"text-gray-400"}`}),r.jsxs("span",{children:["来源过滤: ",d.filter_referer_flag==1?"启用":"禁用"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(mt,{className:`h-4 w-4 ${d.filter_isp_flag==1?"text-green-500":"text-gray-400"}`}),r.jsxs("span",{children:["ISP过滤: ",d.filter_isp_flag==1?"启用":"禁用"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(mt,{className:`h-4 w-4 ${d.filter_black_ip_flag==1?"text-green-500":"text-gray-400"}`}),r.jsxs("span",{children:["IP黑名单: ",d.filter_black_ip_flag==1?"启用":"禁用"]})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"数值限制"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"每IP每日最大点击:"})," ",d.filter_ip_clicks_per_day||0]}),r.jsxs("div",{children:[r.jsx("strong",{children:"过滤前点击数:"})," ",d.filter_clicks_before_filtering||0]}),r.jsxs("div",{children:[r.jsx("strong",{children:"过滤器ID:"})," ",d.filter_id||0]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"过滤列表"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"国家列表:"})," ",Q(d.filter_countries)," 个"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"设备列表:"})," ",Q(d.filter_devices)," 个"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"操作系统列表:"})," ",Q(d.filter_os)," 个"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"浏览器列表:"})," ",Q(d.filter_browsers)," 个"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"语言列表:"})," ",Q(d.filter_langs)," 个"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"时区列表:"})," ",Q(d.filter_time_zones)," 个"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"连接类型列表:"})," ",Q(d.filter_connections)," 个"]})]})]}),Q(d.allowed_ips)>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"允许的IP地址"}),r.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:r.jsx("div",{className:"text-sm font-mono",children:k(d.allowed_ips)})})]})]})})]})})]})},nr=({options:e,selectedValues:t,onChange:n,placeholder:s="选择选项...",label:l,loading:a=!1,required:i=!1})=>{const[o,c]=m.useState(!1),[u,h]=m.useState(""),x=m.useRef(null);m.useEffect(()=>{const d=f=>{x.current&&!x.current.contains(f.target)&&c(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const g=e.filter(d=>d.name.toLowerCase().includes(u.toLowerCase())),_=e.filter(d=>t.includes(d.id)),N=d=>{if(t.includes(d)){const f=t.filter(w=>w!==d);n(f)}else{const f=[...t,d];n(f)}},v=()=>{const d=g.map(w=>w.id),f=[...new Set([...t,...d])];n(f)},j=()=>{const d=g.map(w=>w.id),f=t.filter(w=>!d.includes(w));n(f)},p=()=>{n([])};return r.jsxs("div",{className:"relative",ref:x,children:[l&&r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l," ",i&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("div",{className:"w-full min-h-[42px] px-3 py-2 border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-indigo-500 cursor-pointer bg-white",onClick:()=>c(!o),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex-1",children:_.length===0?r.jsx("span",{className:"text-gray-500",children:s}):r.jsxs("div",{className:"flex flex-wrap gap-1",children:[_.slice(0,3).map(d=>r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-indigo-100 text-indigo-800",children:[d.name,r.jsx("button",{type:"button",onClick:f=>{f.stopPropagation(),N(d.id)},className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-indigo-200",children:r.jsx(qe,{className:"w-3 h-3"})})]},d.id)),_.length>3&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:["+",_.length-3," 更多"]})]})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[_.length>0&&r.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),p()},className:"text-gray-400 hover:text-gray-600",children:r.jsx(qe,{className:"w-4 h-4"})}),r.jsx(eo,{className:`w-4 h-4 text-gray-400 transition-transform ${o?"rotate-180":""}`})]})]})}),o&&r.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-80 overflow-hidden",children:[r.jsxs("div",{className:"p-3 border-b border-gray-200 space-y-2",children:[r.jsx("input",{type:"text",placeholder:"搜索...",value:u,onChange:d=>h(d.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",onClick:d=>d.stopPropagation()}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),v()},className:"flex-1 px-3 py-1 text-xs bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors duration-200",children:"选择全部"}),r.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),j()},className:"flex-1 px-3 py-1 text-xs bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors duration-200",children:"取消全部"})]})]}),r.jsx("div",{className:"max-h-60 overflow-y-auto",children:a?r.jsxs("div",{className:"p-4 text-center text-gray-500",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 mx-auto mb-2"}),r.jsx("span",{children:"加载中..."})]}):g.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"没有找到选项"}):g.map(d=>r.jsxs("div",{className:`flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer ${t.includes(d.id)?"bg-indigo-50":""}`,onClick:f=>{f.stopPropagation(),N(d.id)},children:[r.jsx("div",{className:"flex items-center justify-center w-4 h-4 mr-3",children:t.includes(d.id)?r.jsx(Qh,{className:"w-4 h-4 text-indigo-600"}):r.jsx(s0,{className:"w-4 h-4 text-gray-400"})}),r.jsx("span",{className:`text-sm flex-1 ${t.includes(d.id)?"text-indigo-900 font-medium":"text-gray-900"}`,children:d.name})]},d.id))})]})]})},br=({label:e,checked:t,onChange:n,description:s})=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:e}),s&&r.jsx("div",{className:"text-sm text-gray-500 mt-1",children:s})]}),r.jsx("button",{type:"button",onClick:()=>n(!t),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${t?"bg-indigo-600":"bg-gray-300"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${t?"translate-x-6":"translate-x-1"}`})})]}),u0=()=>{const e=It(),[t,n]=m.useState(!1),[s,l]=m.useState(""),[a,i]=m.useState(""),[o,c]=m.useState([]),[u,h]=m.useState([]),[x,g]=m.useState([]),[_,N]=m.useState([]),[v,j]=m.useState([]),[p,d]=m.useState([]),[f,w]=m.useState([]),[E,I]=m.useState({countries:!1,devices:!1,os:!1,browsers:!1,languages:!1,timezones:!1,connections:!1}),[C,P]=m.useState({name:"",url_white_page:"",url_offer_page:"",mode_white_page:"redirect",mode_offer_page:"redirect",status:"active",filter_countries:[],filter_devices:[],filter_os:[],filter_browsers:[],filter_langs:[],filter_time_zones:[],filter_connections:[],filter_cloaking_flag:1,filter_vpn_proxy_flag:1,filter_ip_v6_flag:0,filter_referer_flag:1,filter_isp_flag:0,filter_black_ip_flag:1,filter_ip_clicks_per_day:0,filter_clicks_before_filtering:0,mode_list_country:1,mode_list_device:1,mode_list_os:1,mode_list_browser:1,mode_list_lang:1,mode_list_time_zone:1,mode_list_connection:1,filter_id:0,allowed_ips:[]});m.useEffect(()=>{D()},[]);const D=async()=>{I(k=>({...k,countries:!0}));try{console.log("Loading countries...");const k=await J.getCountries();if(console.log("Countries API response:",k),k.success){const A=k.data.map(T=>({id:T.country_id||T.id,name:T.name}));c(A),console.log("Countries loaded:",k.data.length,"items")}else console.error("Countries API error:",k.message)}catch(k){console.error("Error loading countries:",k.message)}finally{I(k=>({...k,countries:!1}))}I(k=>({...k,devices:!0}));try{console.log("Loading devices...");const k=await J.getDevices();if(console.log("Devices response:",k),k.success){const A=k.data.map(T=>({id:T.device_id||T.id,name:T.name}));h(A)}else console.error("Devices API error:",k.message)}catch(k){console.error("Error loading devices:",k)}finally{I(k=>({...k,devices:!1}))}I(k=>({...k,os:!0}));try{console.log("Loading OS...");const k=await J.getOperatingSystems();if(console.log("OS response:",k),k.success){const A=k.data.map(T=>({id:T.os_id||T.id,name:T.name}));g(A)}else console.error("OS API error:",k.message)}catch(k){console.error("Error loading OS:",k)}finally{I(k=>({...k,os:!1}))}I(k=>({...k,browsers:!0}));try{console.log("Loading browsers...");const k=await J.getBrowsers();if(console.log("Browsers response:",k),k.success){const A=k.data.map(T=>({id:T.browser_id||T.id,name:T.name}));N(A)}else console.error("Browsers API error:",k.message)}catch(k){console.error("Error loading browsers:",k)}finally{I(k=>({...k,browsers:!1}))}I(k=>({...k,languages:!0}));try{console.log("Loading languages...");const k=await J.getLanguages();if(console.log("Languages response:",k),k.success){const A=k.data.map(T=>({id:T.lang_id||T.id,name:T.name}));j(A)}else console.error("Languages API error:",k.message)}catch(k){console.error("Error loading languages:",k)}finally{I(k=>({...k,languages:!1}))}I(k=>({...k,timezones:!0}));try{console.log("Loading timezones...");const k=await J.getTimezones();if(console.log("Timezones response:",k),k.success){const A=k.data.map(T=>({id:T.zone_id||T.id,name:T.name}));d(A)}else console.error("Timezones API error:",k.message)}catch(k){console.error("Error loading timezones:",k)}finally{I(k=>({...k,timezones:!1}))}I(k=>({...k,connections:!0}));try{console.log("Loading connections...");const k=await J.getConnections();if(console.log("Connections response:",k),k.success){const A=k.data.map(T=>({id:T.connection_id||T.id,name:T.name}));w(A)}else console.error("Connections API error:",k.message)}catch(k){console.error("Error loading connections:",k)}finally{I(k=>({...k,connections:!1}))}},b=k=>{const{name:A,value:T,type:q}=k.target;if(q==="checkbox"){const y=k.target.checked;P(L=>({...L,[A]:y?1:0}))}else P(q==="number"?y=>({...y,[A]:parseInt(T)||0}):y=>({...y,[A]:T}))},B=(k,A)=>{P(T=>({...T,[k]:A}))},ne=k=>{const A=k.split(",").map(T=>T.trim()).filter(T=>T.length>0);P(T=>({...T,allowed_ips:A}))},Q=async k=>{if(k.preventDefault(),n(!0),l(""),i(""),C.filter_countries.length===0){l("请至少选择一个国家"),n(!1);return}if(C.filter_devices.length===0){l("请至少选择一个设备类型"),n(!1);return}if(C.filter_os.length===0){l("请至少选择一个操作系统"),n(!1);return}if(C.filter_browsers.length===0){l("请至少选择一个浏览器"),n(!1);return}try{console.log("Submitting form data:",C),console.log("Selected countries:",C.filter_countries),console.log("Selected devices:",C.filter_devices),console.log("Selected OS:",C.filter_os),console.log("Selected browsers:",C.filter_browsers);const A=await J.createFlow(C);console.log("Create flow response:",A),A.success?(i("流程创建成功！"),setTimeout(()=>{e("/admin/flows")},2e3)):l(A.message||"创建流程失败")}catch(A){console.error("Create flow error:",A),l(A.message||"网络错误，请重试")}finally{n(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>e("/admin/flows"),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors duration-200",children:r.jsx(jr,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"创建流程"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"配置新的斗篷流程"})]})]})}),s&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:s}),a&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg",children:a}),r.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"基本信息"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"流程名称 *"}),r.jsx("input",{type:"text",name:"name",value:C.name,onChange:b,required:!0,minLength:3,maxLength:32,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入流程名称"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"页面配置"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"白页面URL *"}),r.jsx("input",{type:"url",name:"url_white_page",value:C.url_white_page,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"https://example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"落地页URL *"}),r.jsx("input",{type:"url",name:"url_offer_page",value:C.url_offer_page,onChange:b,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"https://offer.com"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"白页面显示模式 *"}),r.jsxs("select",{name:"mode_white_page",value:C.mode_white_page,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"loading",children:"Loading"}),r.jsx("option",{value:"redirect",children:"Redirect"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"落地页显示模式 *"}),r.jsxs("select",{name:"mode_offer_page",value:C.mode_offer_page,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"loading",children:"Loading"}),r.jsx("option",{value:"redirect",children:"Redirect"}),r.jsx("option",{value:"iframe",children:"Iframe"})]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"流程状态"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"初始状态 *"}),r.jsxs("select",{name:"status",value:C.status,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"active",children:"活跃"}),r.jsx("option",{value:"pause",children:"暂停"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"过滤设置"}),r.jsxs("div",{className:"space-y-4 mb-8",children:[r.jsx("h4",{className:"text-md font-medium text-gray-800 mb-4",children:"过滤开关"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(br,{label:"机器人过滤",description:"过滤机器人和爬虫访问",checked:C.filter_cloaking_flag===1,onChange:k=>P(A=>({...A,filter_cloaking_flag:k?1:0}))}),r.jsx(br,{label:"VPN/代理过滤",description:"过滤VPN和代理服务器访问",checked:C.filter_vpn_proxy_flag===1,onChange:k=>P(A=>({...A,filter_vpn_proxy_flag:k?1:0}))}),r.jsx(br,{label:"IPv6过滤",description:"过滤IPv6地址访问",checked:C.filter_ip_v6_flag===1,onChange:k=>P(A=>({...A,filter_ip_v6_flag:k?1:0}))}),r.jsx(br,{label:"来源过滤",description:"过滤无效的来源页面",checked:C.filter_referer_flag===1,onChange:k=>P(A=>({...A,filter_referer_flag:k?1:0}))}),r.jsx(br,{label:"ISP过滤",description:"过滤特定ISP提供商",checked:C.filter_isp_flag===1,onChange:k=>P(A=>({...A,filter_isp_flag:k?1:0}))}),r.jsx(br,{label:"IP黑名单过滤",description:"过滤黑名单IP地址",checked:C.filter_black_ip_flag===1,onChange:k=>P(A=>({...A,filter_black_ip_flag:k?1:0}))})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-md font-medium text-gray-800 mb-4",children:"必填过滤列表"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(nr,{label:"国家列表",options:o,selectedValues:C.filter_countries,onChange:k=>B("filter_countries",k),placeholder:"选择国家...",loading:E.countries,required:!0}),r.jsx(nr,{label:"设备列表",options:u,selectedValues:C.filter_devices,onChange:k=>B("filter_devices",k),placeholder:"选择设备...",loading:E.devices,required:!0}),r.jsx(nr,{label:"操作系统列表",options:x,selectedValues:C.filter_os,onChange:k=>B("filter_os",k),placeholder:"选择操作系统...",loading:E.os,required:!0}),r.jsx(nr,{label:"浏览器列表",options:_,selectedValues:C.filter_browsers,onChange:k=>B("filter_browsers",k),placeholder:"选择浏览器...",loading:E.browsers,required:!0})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-md font-medium text-gray-800 mb-4",children:"可选过滤列表"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(nr,{label:"语言列表",options:v,selectedValues:C.filter_langs,onChange:k=>B("filter_langs",k),placeholder:"选择语言...",loading:E.languages,required:!1}),r.jsx(nr,{label:"时区列表",options:p,selectedValues:C.filter_time_zones,onChange:k=>B("filter_time_zones",k),placeholder:"选择时区...",loading:E.timezones,required:!1}),r.jsx(nr,{label:"连接类型列表",options:f,selectedValues:C.filter_connections,onChange:k=>B("filter_connections",k),placeholder:"选择连接类型...",loading:E.connections,required:!1})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-md font-medium text-gray-800 mb-4",children:"过滤模式设置"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"国家过滤模式"}),r.jsxs("select",{name:"mode_list_country",value:C.mode_list_country,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:1,children:"允许"}),r.jsx("option",{value:0,children:"阻止"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"设备过滤模式"}),r.jsxs("select",{name:"mode_list_device",value:C.mode_list_device,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:1,children:"允许"}),r.jsx("option",{value:0,children:"阻止"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"操作系统过滤模式"}),r.jsxs("select",{name:"mode_list_os",value:C.mode_list_os,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:1,children:"允许"}),r.jsx("option",{value:0,children:"阻止"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"浏览器过滤模式"}),r.jsxs("select",{name:"mode_list_browser",value:C.mode_list_browser,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:1,children:"允许"}),r.jsx("option",{value:0,children:"阻止"})]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-800 mb-4",children:"数值限制"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"每IP每日最大点击数"}),r.jsx("input",{type:"number",name:"filter_ip_clicks_per_day",value:C.filter_ip_clicks_per_day,onChange:b,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"过滤前点击数"}),r.jsx("input",{type:"number",name:"filter_clicks_before_filtering",value:C.filter_clicks_before_filtering,onChange:b,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"高级设置"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"允许的IP地址 (逗号分隔)"}),r.jsx("input",{type:"text",placeholder:"192.168.1.1, 10.0.0.1",onChange:k=>ne(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"过滤器列表ID"}),r.jsx("input",{type:"number",name:"filter_id",value:C.filter_id,onChange:b,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>e("/admin/flows"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(qe,{className:"h-4 w-4"}),r.jsx("span",{children:"取消"})]}),r.jsxs("button",{type:"submit",disabled:t,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[t?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:t?"创建中...":"创建流程"})]})]})]})]})},we=({options:e,selectedValues:t,onChange:n,placeholder:s="选择选项...",label:l,loading:a=!1})=>{const[i,o]=m.useState(!1),[c,u]=m.useState(""),h=m.useRef(null);m.useEffect(()=>{const j=p=>{h.current&&!h.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const x=e.filter(j=>j.name.toLowerCase().includes(c.toLowerCase())),g=e.filter(j=>t.includes(j.id)),_=j=>{if(t.includes(j)){const p=t.filter(d=>d!==j);n(p)}else{const p=[...t,j];n(p)}},N=j=>{const p=t.filter(d=>d!==j);n(p)},v=()=>{n([])};return r.jsxs("div",{className:"relative",ref:h,children:[l&&r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l}),r.jsx("div",{className:"w-full min-h-[42px] px-3 py-2 border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-indigo-500 cursor-pointer bg-white",onClick:()=>o(!i),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex-1",children:g.length===0?r.jsx("span",{className:"text-gray-500",children:s}):r.jsx("div",{className:"flex flex-wrap gap-1",children:g.map(j=>r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-indigo-100 text-indigo-800",children:[j.name,r.jsx("button",{type:"button",onClick:p=>{p.stopPropagation(),N(j.id)},className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-indigo-200",children:r.jsx(qe,{className:"w-3 h-3"})})]},j.id))})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[g.length>0&&r.jsx("button",{type:"button",onClick:j=>{j.stopPropagation(),v()},className:"text-gray-400 hover:text-gray-600",children:r.jsx(qe,{className:"w-4 h-4"})}),r.jsx(eo,{className:`w-4 h-4 text-gray-400 transition-transform ${i?"rotate-180":""}`})]})]})}),i&&r.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[r.jsx("div",{className:"p-2 border-b border-gray-200",children:r.jsx("input",{type:"text",placeholder:"搜索...",value:c,onChange:j=>u(j.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",onClick:j=>j.stopPropagation()})}),r.jsx("div",{className:"max-h-48 overflow-y-auto",children:a?r.jsxs("div",{className:"p-4 text-center text-gray-500",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 mx-auto"}),r.jsx("span",{className:"ml-2",children:"加载中..."})]}):x.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"没有找到选项"}):x.map(j=>r.jsxs("div",{className:`flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer ${t.includes(j.id)?"bg-indigo-50":""}`,onClick:p=>{p.stopPropagation(),_(j.id)},children:[r.jsx("div",{className:`flex items-center justify-center w-4 h-4 mr-3 border rounded ${t.includes(j.id)?"border-indigo-600 bg-indigo-600":"border-gray-300"}`,children:t.includes(j.id)&&r.jsx(Jh,{className:"w-3 h-3 text-white"})}),r.jsx("span",{className:`text-sm ${t.includes(j.id)?"text-indigo-900 font-medium":"text-gray-900"}`,children:j.name})]},j.id))})]})]})},m0=()=>{var G;const[e,t]=m.useState([]),[n,s]=m.useState(!1),[l,a]=m.useState(""),[i,o]=m.useState("date"),[c,u]=m.useState(""),[h,x]=m.useState([]),[g,_]=m.useState([]),[N,v]=m.useState([]),[j,p]=m.useState([]),[d,f]=m.useState([]),[w,E]=m.useState([]),[I,C]=m.useState([]),[P,D]=m.useState([]),[b,B]=m.useState([]),[ne,Q]=m.useState([]),[k,A]=m.useState([]),[T,q]=m.useState([]),[y,L]=m.useState({countries:!1,flows:!1,devices:!1,os:!1,browsers:!1,languages:!1});m.useEffect(()=>{$(),R()},[]);const $=async()=>{L(S=>({...S,countries:!0}));try{const S=await J.getCountries();if(S.success){const V=S.data.map(W=>({id:W.country_id||W.id,name:W.name}));C(V)}}catch(S){console.error("Error loading countries:",S)}finally{L(S=>({...S,countries:!1}))}L(S=>({...S,flows:!0}));try{const S=await J.getFlows(1,100);if(S.success){const V=S.data.map(W=>({id:W.flow_id,name:W.name}));D(V)}}catch(S){console.error("Error loading flows:",S)}finally{L(S=>({...S,flows:!1}))}try{const[S,V,W,ae]=await Promise.all([J.getDevices(),J.getOperatingSystems(),J.getBrowsers(),J.getLanguages()]);if(S.success){const $e=S.data.map(ye=>({id:ye.device_id||ye.id,name:ye.name}));B($e)}if(V.success){const $e=V.data.map(ye=>({id:ye.os_id||ye.id,name:ye.name}));Q($e)}if(W.success){const $e=W.data.map(ye=>({id:ye.browser_id||ye.id,name:ye.name}));A($e)}if(ae.success){const $e=ae.data.map(ye=>({id:ye.lang_id||ye.id,name:ye.name}));q($e)}}catch(S){console.error("Error loading filter options:",S)}},R=async()=>{s(!0),a("");try{const S={group_by:i,...c&&{date_ranges:c},...h.length>0&&{filter_countries:h},...g.length>0&&{filter_flows:g},...N.length>0&&{filter_devices:N},...j.length>0&&{filter_os:j},...d.length>0&&{filter_browsers:d},...w.length>0&&{filter_langs:w}},V=await J.getStatistics(S);V.success?t(V.data):a(V.message||"获取统计数据失败")}catch(S){console.error("Statistics error:",S),a(S.message||"网络错误，请重试")}finally{s(!1)}},M=(S,V)=>{const W=ae=>{if(ae.includes("-")){const[$e,ye,on]=ae.split("-");return`${on}.${ye}.${$e}`}return ae};return S&&V?`${W(S)} - ${W(V)}`:""},z=[{value:"date",label:"按日期"},{value:"hour",label:"按小时"},{value:"day_week",label:"按星期"},{value:"flow",label:"按流程"},{value:"country",label:"按国家"},{value:"city",label:"按城市"},{value:"device",label:"按设备"},{value:"operating_system",label:"按操作系统"},{value:"browser",label:"按浏览器"},{value:"brand",label:"按品牌"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"统计数据"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"流程性能和趋势分析"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"筛选条件"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"分组方式"}),r.jsx("select",{value:i,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:z.map(S=>r.jsx("option",{value:S.value,children:S.label},S.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"开始日期"}),r.jsx("input",{type:"date",onChange:S=>{var ae;const V=((ae=document.querySelector('input[type="date"]:nth-of-type(2)'))==null?void 0:ae.value)||"",W=M(S.target.value,V);u(W)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"结束日期"}),r.jsx("input",{type:"date",onChange:S=>{var ae;const V=((ae=document.querySelector('input[type="date"]:nth-of-type(1)'))==null?void 0:ae.value)||"",W=M(V,S.target.value);u(W)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[r.jsx(we,{label:"国家筛选",options:I,selectedValues:h,onChange:x,placeholder:"选择国家...",loading:y.countries}),r.jsx(we,{label:"流程筛选",options:P,selectedValues:g,onChange:_,placeholder:"选择流程...",loading:y.flows}),r.jsx(we,{label:"设备筛选",options:b,selectedValues:N,onChange:v,placeholder:"选择设备...",loading:y.devices}),r.jsx(we,{label:"操作系统筛选",options:ne,selectedValues:j,onChange:p,placeholder:"选择操作系统...",loading:y.os}),r.jsx(we,{label:"浏览器筛选",options:k,selectedValues:d,onChange:f,placeholder:"选择浏览器...",loading:y.browsers}),r.jsx(we,{label:"语言筛选",options:T,selectedValues:w,onChange:E,placeholder:"选择语言...",loading:y.languages})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:R,disabled:n,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[n?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(Yr,{className:"h-4 w-4"}),r.jsx("span",{children:n?"加载中...":"获取统计"})]}),r.jsxs("button",{onClick:()=>{o("date"),u(""),x([]),_([]),v([]),p([]),f([]),E([])},className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(Lt,{className:"h-4 w-4"}),r.jsx("span",{children:"重置"})]})]})]}),l&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:l}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"统计结果"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-sm text-gray-500",children:["共 ",e.length," 条记录"]}),e.length>0&&r.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:r.jsx(kl,{className:"h-4 w-4"})})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:n?r.jsx("div",{className:"p-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"加载统计数据中..."})]})}):e.length===0?r.jsxs("div",{className:"p-8 text-center text-gray-500",children:[r.jsx(Yr,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{children:"暂无统计数据"}),r.jsx("p",{className:"text-sm mt-1",children:"请调整筛选条件后重新获取"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsx("tr",{children:Object.keys(e[0]||{}).map(S=>r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S},S))})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((S,V)=>r.jsx("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:Object.values(S).map((W,ae)=>r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof W=="number"?W.toLocaleString():String(W)},ae))},V))})]})})]}),e.length>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"总记录数"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.length.toLocaleString()})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:r.jsx(ur,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"分组方式"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(G=z.find(S=>S.value===i))==null?void 0:G.label})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:r.jsx(r0,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"日期范围"}),r.jsx("p",{className:"text-lg font-bold text-gray-900 mt-1",children:c||"全部"})]}),r.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:r.jsx(Pt,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"筛选条件"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[h,g,N,j,d,w].reduce((S,V)=>S+V.length,0)})]}),r.jsx("div",{className:"p-3 rounded-lg bg-pink-500",children:r.jsx(Qe,{className:"h-6 w-6 text-white"})})]})})]})]})},f0=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!1),[l,a]=m.useState(""),[i,o]=m.useState(1),[c,u]=m.useState(1),[h,x]=m.useState(0),[g,_]=m.useState(50),[N,v]=m.useState(""),[j,p]=m.useState([]),[d,f]=m.useState([]),[w,E]=m.useState([]),[I,C]=m.useState([]),[P,D]=m.useState([]),[b,B]=m.useState([]),[ne,Q]=m.useState([]),[k,A]=m.useState([]),[T,q]=m.useState([]),[y,L]=m.useState([]),[$,R]=m.useState([]),[M,z]=m.useState([]),[G,S]=m.useState([]),[V,W]=m.useState([]),[ae,$e]=m.useState({countries:!1,flows:!1,devices:!1,os:!1,browsers:!1,languages:!1});m.useEffect(()=>{ye(),on()},[]),m.useEffect(()=>{on()},[i,g]);const ye=async()=>{$e(O=>({...O,countries:!0}));try{const O=await J.getCountries();if(O.success){const K=O.data.map(re=>({id:re.country_id||re.id,name:re.name}));q(K)}}catch(O){console.error("Error loading countries:",O)}finally{$e(O=>({...O,countries:!1}))}$e(O=>({...O,flows:!0}));try{const O=await J.getFlows(1,100);if(O.success){const K=O.data.map(re=>({id:re.flow_id,name:re.name}));L(K)}}catch(O){console.error("Error loading flows:",O)}finally{$e(O=>({...O,flows:!1}))}try{const[O,K,re,se]=await Promise.all([J.getDevices(),J.getOperatingSystems(),J.getBrowsers(),J.getLanguages()]);if(O.success){const yt=O.data.map(ke=>({id:ke.device_id||ke.id,name:ke.name}));R(yt)}if(K.success){const yt=K.data.map(ke=>({id:ke.os_id||ke.id,name:ke.name}));z(yt)}if(re.success){const yt=re.data.map(ke=>({id:ke.browser_id||ke.id,name:ke.name}));S(yt)}if(se.success){const yt=se.data.map(ke=>({id:ke.lang_id||ke.id,name:ke.name}));W(yt)}}catch(O){console.error("Error loading filter options:",O)}},on=async()=>{s(!0),a("");try{const O={page:i,per_page:g,...N&&{date_ranges:N},...j.length>0&&{filter_countries:j},...d.length>0&&{filter_flows:d},...w.length>0&&{filter_devices:w},...I.length>0&&{filter_os:I},...P.length>0&&{filter_browsers:P},...b.length>0&&{filter_langs:b}},K=await J.getClicks(O);K.success?(t(K.data),x(K.total),u(Math.ceil(K.total/g))):a(K.message||"获取点击数据失败")}catch(O){console.error("Clicks error:",O),a(O.message||"网络错误，请重试")}finally{s(!1)}},lo=(O,K)=>{const re=se=>{if(se.includes("-")){const[yt,ke,im]=se.split("-");return`${im}.${ke}.${yt}`}return se};return O&&K?`${re(O)} - ${re(K)}`:""},ao=O=>O?new Date(O*1e3).toLocaleTimeString():"-",tm=O=>{switch(O==null?void 0:O.toLowerCase()){case"offer":return"bg-green-100 text-green-800";case"white":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},rm=O=>{switch(O==null?void 0:O.toLowerCase()){case"offer":return"落地页";case"white":return"白页面";default:return O||"未知"}},nm=O=>{switch(O==null?void 0:O.toLowerCase()){case"success":return"成功";case"black_ip":return"黑名单IP";case"vpn_proxy":return"VPN/代理";case"bot":return"机器人";case"ip_v6":return"IPv6";case"referer":return"来源过滤";case"isp":return"ISP过滤";case"country":return"国家过滤";case"device":return"设备过滤";case"os":return"系统过滤";case"browser":return"浏览器过滤";case"white_list":return"白名单";case"black_list":return"黑名单";case"ip_clicks_per_day":return"IP日点击限制";case"clicks_before_filtering":return"过滤前点击";default:return O||"未知"}},El=(O,K=30)=>O?O.length>K?`${O.substring(0,K)}...`:O:"-",sm=O=>{if(!O)return"-";const K=O.match(/(Chrome|Firefox|Safari|Edge|Opera)\/[\d.]+/);return K?K[0]:El(O,40)},lm=O=>({US:"美国",CN:"中国",JP:"日本",KR:"韩国",SG:"新加坡",HK:"香港",TW:"台湾",IN:"印度",GB:"英国",DE:"德国",FR:"法国",CA:"加拿大",AU:"澳大利亚",RU:"俄罗斯",BR:"巴西",MX:"墨西哥",IT:"意大利",ES:"西班牙",NL:"荷兰",SE:"瑞典",NO:"挪威",DK:"丹麦",FI:"芬兰",PL:"波兰",TR:"土耳其",TH:"泰国",VN:"越南",MY:"马来西亚",ID:"印度尼西亚",PH:"菲律宾"})[O]||O,am=O=>{switch(O==null?void 0:O.toLowerCase()){case"success":return"bg-green-100 text-green-800";case"black_ip":return"bg-red-100 text-red-800";case"vpn_proxy":return"bg-orange-100 text-orange-800";case"bot":return"bg-purple-100 text-purple-800";case"ip_v6":return"bg-blue-100 text-blue-800";case"referer":return"bg-yellow-100 text-yellow-800";case"isp":return"bg-pink-100 text-pink-800";case"country":return"bg-indigo-100 text-indigo-800";case"device":return"bg-cyan-100 text-cyan-800";case"os":return"bg-teal-100 text-teal-800";case"browser":return"bg-lime-100 text-lime-800";case"white_list":return"bg-emerald-100 text-emerald-800";case"black_list":return"bg-rose-100 text-rose-800";case"ip_clicks_per_day":return"bg-amber-100 text-amber-800";case"clicks_before_filtering":return"bg-violet-100 text-violet-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"点击数据统计"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"详细的点击分析和用户行为数据"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"总点击数"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:h.toLocaleString()})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:r.jsx(Hr,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"当前页面"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[i," / ",c]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:r.jsx(Yr,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"每页显示"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:g})]}),r.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:r.jsx(Zr,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"筛选条件"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[j,d,w,I,P,b].reduce((O,K)=>O+K.length,0)})]}),r.jsx("div",{className:"p-3 rounded-lg bg-pink-500",children:r.jsx(Qe,{className:"h-6 w-6 text-white"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"筛选条件"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"开始日期"}),r.jsx("input",{type:"date",onChange:O=>{var se;const K=((se=document.querySelector('input[type="date"]:nth-of-type(2)'))==null?void 0:se.value)||"",re=lo(O.target.value,K);v(re)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"结束日期"}),r.jsx("input",{type:"date",onChange:O=>{var se;const K=((se=document.querySelector('input[type="date"]:nth-of-type(1)'))==null?void 0:se.value)||"",re=lo(K,O.target.value);v(re)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"每页显示"}),r.jsxs("select",{value:g,onChange:O=>{_(parseInt(O.target.value)),o(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:25,children:"25"}),r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"}),r.jsx("option",{value:200,children:"200"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[r.jsx(we,{label:"国家筛选",options:T,selectedValues:j,onChange:p,placeholder:"选择国家...",loading:ae.countries}),r.jsx(we,{label:"流程筛选",options:y,selectedValues:d,onChange:f,placeholder:"选择流程...",loading:ae.flows}),r.jsx(we,{label:"设备筛选",options:$,selectedValues:w,onChange:E,placeholder:"选择设备...",loading:ae.devices}),r.jsx(we,{label:"操作系统筛选",options:M,selectedValues:I,onChange:C,placeholder:"选择操作系统...",loading:ae.os}),r.jsx(we,{label:"浏览器筛选",options:G,selectedValues:P,onChange:D,placeholder:"选择浏览器...",loading:ae.browsers}),r.jsx(we,{label:"语言筛选",options:V,selectedValues:b,onChange:B,placeholder:"选择语言...",loading:ae.languages})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:on,disabled:n,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[n?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(Hr,{className:"h-4 w-4"}),r.jsx("span",{children:n?"加载中...":"获取数据"})]}),r.jsxs("button",{onClick:()=>{v(""),p([]),f([]),E([]),C([]),D([]),B([]),Q([]),A([]),o(1)},className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(Lt,{className:"h-4 w-4"}),r.jsx("span",{children:"重置"})]}),r.jsxs("button",{onClick:()=>{const O=`data:text/csv;charset=utf-8,点击ID,流程ID,创建日期,创建时间,IP地址,国家代码,语言代码,ISP,来源,User Agent,设备,品牌,操作系统,浏览器,过滤类型,过滤页面
`+e.map(se=>`${se.click_id},${se.flow_id},${se.date_created},${ao(se.time_created)},${se.ip_address},${se.country_code},${se.language_code},${se.isp},${se.referer},${se.user_agent},${se.device},${se.brand},${se.os},${se.browser},${se.filter_type},${se.filter_page}`).join(`
`),K=encodeURI(O),re=document.createElement("a");re.setAttribute("href",K),re.setAttribute("download",`clicks_data_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(re),re.click(),document.body.removeChild(re)},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(kl,{className:"h-4 w-4"}),r.jsx("span",{children:"导出CSV"})]})]})]}),l&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:l}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"点击记录详情"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:"text-sm text-gray-500",children:["共 ",h.toLocaleString()," 条记录"]})})]})}),r.jsx("div",{className:"overflow-x-auto",children:n?r.jsx("div",{className:"p-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"加载点击数据中..."})]})}):e.length===0?r.jsxs("div",{className:"p-8 text-center text-gray-500",children:[r.jsx(Hr,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{children:"暂无点击数据"}),r.jsx("p",{className:"text-sm mt-1",children:"请调整筛选条件后重新获取"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"日期时间"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"流程"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP地址"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"地理位置"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"语言"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ISP"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"来源"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User Agent"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"设备信息"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"过滤结果"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"页面类型"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(O=>{var K;return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pt,{className:"h-3 w-3 mr-1"}),O.date_created]}),r.jsxs("div",{className:"flex items-center text-xs",children:[r.jsx(to,{className:"h-3 w-3 mr-1"}),ao(O.time_created)]})]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium",children:["流程 ",O.flow_id]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",O.flow_id]})]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 font-mono",children:O.ip_address||"-"}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Vr,{className:"h-3 w-3 mr-1"}),lm(O.country_code)," (",O.country_code,")"]}),r.jsx("div",{className:"text-xs",children:O.brand||"-"})]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:O.language_code||"-"}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Zu,{className:"h-3 w-3 mr-1"}),El(O.isp,15)]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:O.referer?r.jsxs("div",{className:"flex items-center",children:[r.jsx(qh,{className:"h-3 w-3 mr-1"}),El(O.referer,20)]}):r.jsx("span",{className:"text-gray-400",children:"直接访问"})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:r.jsx("div",{className:"max-w-32",children:sm(O.user_agent)})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center",children:[(K=O.device)!=null&&K.toLowerCase().includes("mobile")?r.jsx(so,{className:"h-3 w-3 mr-1"}):r.jsx(e0,{className:"h-3 w-3 mr-1"}),O.device]}),r.jsx("div",{className:"text-xs",children:O.os}),r.jsx("div",{className:"text-xs",children:O.browser})]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${am(O.filter_type)}`,children:[r.jsx(mt,{className:"h-3 w-3 mr-1"}),nm(O.filter_type)]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${tm(O.filter_page)}`,children:rm(O.filter_page)})})]},O.click_id)})})]})}),c>1&&r.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["显示第 ",(i-1)*g+1," - ",Math.min(i*g,h)," 条，共 ",h.toLocaleString()," 条记录"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>o(Math.max(1,i-1)),disabled:i===1,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[r.jsx(ts,{className:"h-4 w-4 mr-1"}),"上一页"]}),r.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,c)},(O,K)=>{let re;return c<=5||i<=3?re=K+1:i>=c-2?re=c-4+K:re=i-2+K,r.jsx("button",{onClick:()=>o(re),className:`px-3 py-1 text-sm rounded-md transition-colors duration-200 ${i===re?"bg-indigo-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:re},re)})}),r.jsxs("button",{onClick:()=>o(Math.min(c,i+1)),disabled:i===c,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:["下一页",r.jsx(an,{className:"h-4 w-4 ml-1"})]})]})]})})]})]})},p0=()=>{const[e,t]=m.useState([]),[n,s]=m.useState([]),[l,a]=m.useState(!0),[i,o]=m.useState(1),[c,u]=m.useState(1),[h,x]=m.useState(""),[g,_]=m.useState(""),[N,v]=m.useState(""),[j,p]=m.useState(""),d=10;m.useEffect(()=>{f(),w()},[i,h,g,N]);const f=async()=>{a(!0),p("");try{const b=new URLSearchParams({page:i.toString(),per_page:d.toString(),...h&&{search:h},...g&&{status:g},...N&&{category_id:N}}),ne=await(await fetch(`/api/admin/accounts?${b}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();ne.success?(t(ne.data),u(ne.total_pages)):p(ne.message||"获取账号数据失败")}catch{p("网络错误，请重试")}finally{a(!1)}},w=async()=>{try{const b=await fetch("/api/admin/categories",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}),B=await b.json();b.success&&s(B.data)}catch(b){console.error("获取分类数据失败:",b)}},E=b=>{switch(b){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},I=b=>{switch(b){case"active":return"活跃";case"inactive":return"停用";case"suspended":return"暂停";default:return b}},C=b=>new Date(b).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),P=async b=>{if(confirm("确定要删除这个账号吗？"))try{const ne=await(await fetch(`/api/admin/accounts/${b}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();ne.success?(alert("账号删除成功"),f()):alert(`删除失败：${ne.message}`)}catch{alert("删除失败，请重试")}},D=b=>n.find(B=>B.id===b);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"账号管理"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"管理系统用户账号和权限"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(gt,{to:"/admin/accounts/categories",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(mr,{className:"h-4 w-4"}),r.jsx("span",{children:"分类管理"})]}),r.jsxs(gt,{to:"/admin/accounts/create",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(Sl,{className:"h-4 w-4"}),r.jsx("span",{children:"创建账号"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"总账号数"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:r.jsx(bt,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"活跃账号"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.filter(b=>b.status==="active").length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:r.jsx(bt,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"停用账号"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.filter(b=>b.status==="inactive").length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-gray-500",children:r.jsx(bt,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"账号分类"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:n.length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:r.jsx(mr,{className:"h-6 w-6 text-white"})})]})})]}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:"搜索账号...",value:h,onChange:b=>x(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsxs("select",{value:g,onChange:b=>_(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"所有状态"}),r.jsx("option",{value:"active",children:"活跃"}),r.jsx("option",{value:"inactive",children:"停用"}),r.jsx("option",{value:"suspended",children:"暂停"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsxs("select",{value:N,onChange:b=>v(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"所有分类"}),n.map(b=>r.jsx("option",{value:b.id.toString(),children:b.name},b.id))]})]}),r.jsxs("button",{onClick:f,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(Lt,{className:"h-4 w-4"}),r.jsx("span",{children:"刷新"})]})]})}),j&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:j}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"账号信息"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"联系方式"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"分类"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"创建时间"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"最后登录"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:l?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"加载中..."})]})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"暂无账号数据"})}):e.map(b=>{const B=D(b.category_id);return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.username}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",b.id]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[r.jsx(ro,{className:"h-3 w-3 mr-1"}),b.email]}),b.phone&&r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(no,{className:"h-3 w-3 mr-1"}),b.phone]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B&&r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white ${B.color}`,children:B.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(b.status)}`,children:I(b.status)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pt,{className:"h-3 w-3 mr-1"}),C(b.created_at)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.last_login?r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pt,{className:"h-3 w-3 mr-1"}),C(b.last_login)]}):r.jsx("span",{className:"text-gray-400",children:"从未登录"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-1 text-gray-400 hover:text-indigo-600 transition-colors duration-200",title:"查看详情",children:r.jsx(Zr,{className:"h-4 w-4"})}),r.jsx(gt,{to:`/admin/accounts/edit/${b.id}`,className:"p-1 text-gray-400 hover:text-blue-600 transition-colors duration-200",title:"编辑账号",children:r.jsx(Cl,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>P(b.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors duration-200",title:"删除账号",children:r.jsx(Tt,{className:"h-4 w-4"})})]})})]},b.id)})})]})}),c>1&&r.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["第 ",i," 页，共 ",c," 页"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>o(Math.max(1,i-1)),disabled:i===1,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"上一页"}),r.jsx("button",{onClick:()=>o(Math.min(c,i+1)),disabled:i===c,className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"下一页"})]})]})})]})]})},h0=()=>{const e=It(),[t,n]=m.useState(!1),[s,l]=m.useState(""),[a,i]=m.useState(""),[o,c]=m.useState([]),[u,h]=m.useState({username:"",email:"",phone:"",password:"",confirmPassword:"",category_id:0,status:"active",notes:""});m.useEffect(()=>{x()},[]);const x=async()=>{try{const j=await(await fetch("/api/admin/categories",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();j.success&&(c(j.data),j.data.length>0&&h(p=>({...p,category_id:j.data[0].id})))}catch(v){console.error("获取分类数据失败:",v)}},g=v=>{const{name:j,value:p}=v.target;h(d=>({...d,[j]:j==="category_id"?parseInt(p):p}))},_=()=>u.username.trim()?u.username.length<3?(l("用户名至少需要3个字符"),!1):u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)?u.password?u.password.length<6?(l("密码至少需要6个字符"),!1):u.password!==u.confirmPassword?(l("两次输入的密码不一致"),!1):u.category_id===0?(l("请选择账号分类"),!1):!0:(l("密码不能为空"),!1):(l("邮箱格式不正确"),!1):(l("邮箱不能为空"),!1):(l("用户名不能为空"),!1),N=async v=>{if(v.preventDefault(),l(""),i(""),!!_()){n(!0);try{const p=await(await fetch("/api/admin/accounts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(u)})).json();p.success?(i("账号创建成功！"),setTimeout(()=>{e("/admin/accounts")},2e3)):l(p.message||"创建账号失败")}catch(j){console.error("Create account error:",j),l(j.message||"创建账号失败，请重试")}finally{n(!1)}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>e("/admin/accounts"),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors duration-200",children:r.jsx(jr,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"创建账号"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"添加新的系统用户账号"})]})]})}),s&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:s}),a&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg",children:a}),r.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"基本信息"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(em,{className:"inline h-4 w-4 mr-1"}),"用户名 *"]}),r.jsx("input",{type:"text",name:"username",value:u.username,onChange:g,required:!0,minLength:3,maxLength:32,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入用户名"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(ro,{className:"inline h-4 w-4 mr-1"}),"邮箱地址 *"]}),r.jsx("input",{type:"email",name:"email",value:u.email,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入邮箱地址"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(no,{className:"inline h-4 w-4 mr-1"}),"手机号码"]}),r.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入手机号码"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(mr,{className:"inline h-4 w-4 mr-1"}),"账号分类 *"]}),r.jsxs("select",{name:"category_id",value:u.category_id,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:0,children:"请选择分类"}),o.map(v=>r.jsxs("option",{value:v.id,children:[v.name," - ",v.description]},v.id))]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"密码设置"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(il,{className:"inline h-4 w-4 mr-1"}),"密码 *"]}),r.jsx("input",{type:"password",name:"password",value:u.password,onChange:g,required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入密码（至少6位）"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(il,{className:"inline h-4 w-4 mr-1"}),"确认密码 *"]}),r.jsx("input",{type:"password",name:"confirmPassword",value:u.confirmPassword,onChange:g,required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"再次输入密码"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"账号设置"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"账号状态"}),r.jsxs("select",{name:"status",value:u.status,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"active",children:"活跃"}),r.jsx("option",{value:"inactive",children:"停用"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"备注信息"}),r.jsx("textarea",{name:"notes",value:u.notes,onChange:g,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入备注信息（可选）"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>e("/admin/accounts"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(qe,{className:"h-4 w-4"}),r.jsx("span",{children:"取消"})]}),r.jsxs("button",{type:"submit",disabled:t,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[t?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:t?"创建中...":"创建账号"})]})]})]})]})},g0=()=>{const e=It(),{id:t}=Yi(),[n,s]=m.useState(!1),[l,a]=m.useState(!0),[i,o]=m.useState(""),[c,u]=m.useState(""),[h,x]=m.useState([]),[g,_]=m.useState({username:"",email:"",phone:"",category_id:0,status:"active",notes:"",changePassword:!1,newPassword:"",confirmPassword:""});m.useEffect(()=>{N(),v()},[t]);const N=async()=>{try{const w=await(await fetch("/api/admin/categories",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();w.success&&x(w.data)}catch(f){console.error("获取分类数据失败:",f)}},v=async()=>{if(t){a(!0);try{const w=await(await fetch(`/api/admin/accounts/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();if(w.success){const E=w.data;_({username:E.username,email:E.email,phone:E.phone||"",category_id:E.category_id,status:E.status,notes:E.notes||"",changePassword:!1,newPassword:"",confirmPassword:""})}else o(w.message||"获取账号信息失败")}catch{o("网络错误，请重试")}finally{a(!1)}}},j=f=>{const{name:w,value:E,type:I}=f.target;if(I==="checkbox"){const C=f.target.checked;_(P=>({...P,[w]:C}))}else _(C=>({...C,[w]:w==="category_id"?parseInt(E):E}))},p=()=>{if(!g.username.trim())return o("用户名不能为空"),!1;if(g.username.length<3)return o("用户名至少需要3个字符"),!1;if(!g.email.trim())return o("邮箱不能为空"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email))return o("邮箱格式不正确"),!1;if(g.changePassword){if(!g.newPassword)return o("新密码不能为空"),!1;if(g.newPassword.length<6)return o("新密码至少需要6个字符"),!1;if(g.newPassword!==g.confirmPassword)return o("两次输入的密码不一致"),!1}return g.category_id===0?(o("请选择账号分类"),!1):!0},d=async f=>{if(f.preventDefault(),o(""),u(""),!!p()){s(!0);try{const E=await(await fetch(`/api/admin/accounts/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(g)})).json();E.success?(u("账号更新成功！"),setTimeout(()=>{e("/admin/accounts")},2e3)):o(E.message||"更新账号失败")}catch(w){console.error("Update account error:",w),o(w.message||"更新账号失败，请重试")}finally{s(!1)}}};return l?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"加载账号信息中..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>e("/admin/accounts"),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors duration-200",children:r.jsx(jr,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"编辑账号"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"修改账号信息和设置"})]})]})}),i&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:i}),c&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg",children:c}),r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"基本信息"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(em,{className:"inline h-4 w-4 mr-1"}),"用户名 *"]}),r.jsx("input",{type:"text",name:"username",value:g.username,onChange:j,required:!0,minLength:3,maxLength:32,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入用户名"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(ro,{className:"inline h-4 w-4 mr-1"}),"邮箱地址 *"]}),r.jsx("input",{type:"email",name:"email",value:g.email,onChange:j,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入邮箱地址"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(no,{className:"inline h-4 w-4 mr-1"}),"手机号码"]}),r.jsx("input",{type:"tel",name:"phone",value:g.phone,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入手机号码"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(mr,{className:"inline h-4 w-4 mr-1"}),"账号分类 *"]}),r.jsxs("select",{name:"category_id",value:g.category_id,onChange:j,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:0,children:"请选择分类"}),h.map(f=>r.jsxs("option",{value:f.id,children:[f.name," - ",f.description]},f.id))]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"密码设置"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{children:r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",name:"changePassword",checked:g.changePassword,onChange:j,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"修改密码"})]})}),g.changePassword&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(il,{className:"inline h-4 w-4 mr-1"}),"新密码 *"]}),r.jsx("input",{type:"password",name:"newPassword",value:g.newPassword,onChange:j,required:g.changePassword,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入新密码（至少6位）"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(il,{className:"inline h-4 w-4 mr-1"}),"确认新密码 *"]}),r.jsx("input",{type:"password",name:"confirmPassword",value:g.confirmPassword,onChange:j,required:g.changePassword,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"再次输入新密码"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"账号设置"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"账号状态"}),r.jsxs("select",{name:"status",value:g.status,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"active",children:"活跃"}),r.jsx("option",{value:"inactive",children:"停用"}),r.jsx("option",{value:"suspended",children:"暂停"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"备注信息"}),r.jsx("textarea",{name:"notes",value:g.notes,onChange:j,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入备注信息（可选）"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>e("/admin/accounts"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(qe,{className:"h-4 w-4"}),r.jsx("span",{children:"取消"})]}),r.jsxs("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[n?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:n?"更新中...":"更新账号"})]})]})]})]})},x0=()=>{const e=It(),[t,n]=m.useState([]),[s,l]=m.useState(!0),[a,i]=m.useState(!1),[o,c]=m.useState(null),[u,h]=m.useState(""),[x,g]=m.useState(""),[_,N]=m.useState({name:"",description:"",color:"bg-blue-500"}),v=[{value:"bg-red-500",label:"红色",preview:"bg-red-500"},{value:"bg-blue-500",label:"蓝色",preview:"bg-blue-500"},{value:"bg-green-500",label:"绿色",preview:"bg-green-500"},{value:"bg-purple-500",label:"紫色",preview:"bg-purple-500"},{value:"bg-yellow-500",label:"黄色",preview:"bg-yellow-500"},{value:"bg-pink-500",label:"粉色",preview:"bg-pink-500"},{value:"bg-indigo-500",label:"靛蓝",preview:"bg-indigo-500"},{value:"bg-gray-500",label:"灰色",preview:"bg-gray-500"}];m.useEffect(()=>{j()},[]);const j=async()=>{l(!0),h("");try{const D=await(await fetch("/api/admin/categories",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();D.success?n(D.data):h(D.message||"获取分类数据失败")}catch{h("网络错误，请重试")}finally{l(!1)}},p=P=>{const{name:D,value:b}=P.target;N(B=>({...B,[D]:b}))},d=()=>{N({name:"",description:"",color:"bg-blue-500"}),i(!1),c(null)},f=async P=>{if(P.preventDefault(),h(""),g(""),!_.name.trim()){h("分类名称不能为空");return}try{const b=await(await fetch("/api/admin/categories",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(_)})).json();b.success?(g("分类创建成功！"),d(),j()):h(b.message||"创建分类失败")}catch{h("网络错误，请重试")}},w=P=>{c(P),N({name:P.name,description:P.description,color:P.color}),i(!0)},E=async P=>{if(P.preventDefault(),!!o){if(h(""),g(""),!_.name.trim()){h("分类名称不能为空");return}try{const b=await(await fetch(`/api/admin/categories/${o.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(_)})).json();b.success?(g("分类更新成功！"),d(),j()):h(b.message||"更新分类失败")}catch{h("网络错误，请重试")}}},I=async P=>{const D=t.find(b=>b.id===P);if(D){if(D.account_count>0){h(`无法删除分类"${D.name}"，该分类下还有 ${D.account_count} 个账号`);return}if(confirm(`确定要删除分类"${D.name}"吗？`))try{const B=await(await fetch(`/api/admin/categories/${P}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();B.success?(g("分类删除成功！"),j()):h(B.message||"删除分类失败")}catch{h("网络错误，请重试")}}},C=P=>new Date(P).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>e("/admin/accounts"),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors duration-200",children:r.jsx(jr,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"账号分类管理"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"管理账号分类和权限设置"})]})]}),r.jsxs("button",{onClick:()=>i(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(Sl,{className:"h-4 w-4"}),r.jsx("span",{children:"创建分类"})]})]}),u&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:u}),x&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg",children:x}),a&&r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?"编辑分类":"创建分类"}),r.jsxs("form",{onSubmit:o?E:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(mr,{className:"inline h-4 w-4 mr-1"}),"分类名称 *"]}),r.jsx("input",{type:"text",name:"name",value:_.name,onChange:p,required:!0,maxLength:50,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入分类名称"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(t0,{className:"inline h-4 w-4 mr-1"}),"分类颜色"]}),r.jsx("select",{name:"color",value:_.color,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:v.map(P=>r.jsx("option",{value:P.value,children:P.label},P.value))})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Xu,{className:"inline h-4 w-4 mr-1"}),"分类描述"]}),r.jsx("textarea",{name:"description",value:_.description,onChange:p,rows:3,maxLength:200,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入分类描述（可选）"})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[r.jsxs("button",{type:"button",onClick:d,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(qe,{className:"h-4 w-4"}),r.jsx("span",{children:"取消"})]}),r.jsxs("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:o?"更新分类":"创建分类"})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s?r.jsxs("div",{className:"col-span-full flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"加载中..."})]}):t.length===0?r.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[r.jsx(mr,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{children:"暂无分类数据"})]}):t.map(P=>r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${P.color}`}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:P.name})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>w(P),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors duration-200",title:"编辑分类",children:r.jsx(Cl,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>I(P.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors duration-200",title:"删除分类",children:r.jsx(Tt,{className:"h-4 w-4"})})]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:P.description||"暂无描述"}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(bt,{className:"h-4 w-4"}),r.jsxs("span",{children:[P.account_count," 个账号"]})]}),r.jsx("span",{children:C(P.created_at)})]})]},P.id))})]})},y0=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(null),[l,a]=m.useState(!0),[i,o]=m.useState(1),[c,u]=m.useState(1),[h,x]=m.useState(0),[g]=m.useState(20),[_,N]=m.useState(""),[v,j]=m.useState(""),[p,d]=m.useState(""),[f,w]=m.useState(""),[E,I]=m.useState(""),[C,P]=m.useState(""),[D,b]=m.useState(""),[B,ne]=m.useState(!1),Q=m.useRef(null);m.useEffect(()=>{k(),A()},[i,p,f,E,C,D]),m.useEffect(()=>{const z=new Date().toISOString().split("T")[0];!C&&!D&&(P(z),b(z))},[]);const k=async()=>{a(!0),N("");try{const z=new URLSearchParams({page:i.toString(),per_page:g.toString(),...p&&{search:p},...f&&{conversion_name:f},...E&&{referrer_url:E},...C&&{start_date:C},...D&&{end_date:D}}),S=await(await fetch(`/api/conversions?${z}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();S.success?(t(S.data),x(S.total),u(S.total_pages)):N(S.message||"获取转化记录失败")}catch{N("网络错误，请重试")}finally{a(!1)}},A=async()=>{try{const G=await(await fetch("/api/conversions/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();G.success&&s(G.data)}catch(z){console.error("获取统计数据失败:",z)}},T=async()=>{try{const z=new URLSearchParams({...p&&{search:p},...f&&{conversion_name:f},...E&&{referrer_url:E},...C&&{start_date:C},...D&&{end_date:D}}),G=await fetch(`/api/conversions/export?${z}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(G.ok){const S=await G.blob(),V=window.URL.createObjectURL(S),W=document.createElement("a");W.href=V,W.download=`conversions_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(W),W.click(),document.body.removeChild(W),window.URL.revokeObjectURL(V),j("数据导出成功！")}else N("导出失败，请重试")}catch{N("导出失败，请重试")}},q=async z=>{var S;const G=(S=z.target.files)==null?void 0:S[0];if(G){if(!G.name.endsWith(".csv")&&!G.name.endsWith(".tsv")){N("请选择 CSV 或 TSV 文件");return}ne(!0),N(""),j("");try{const V=await G.text(),ae=await(await fetch("/api/conversions/import",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({csvData:V})})).json();ae.success?(j(ae.message),k(),A()):(N(ae.message||"导入失败"),ae.errors&&console.error("导入错误:",ae.errors))}catch{N("导入失败，请检查文件格式")}finally{ne(!1),Q.current&&(Q.current.value="")}}},y=z=>new Date(z).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),L=(z,G=30)=>z?z.length>G?`${z.substring(0,G)}...`:z:"-",$=z=>{if(!z)return"-";try{return new URL(z).hostname}catch{return z}},R=async z=>{if(confirm("确定要删除这条转化记录吗？删除后将重新整理ID顺序。"))try{const S=await(await fetch(`/api/conversions/${z}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();S.success?(j("转化记录删除成功！"),k(),A()):N(S.message||"删除失败")}catch{N("删除失败，请重试")}},M=z=>!z||z.length<=8?z:`${z.substring(0,4)}...${z.substring(z.length-4)}`;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"转化记录"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"管理和分析Google Ads转化数据"})]}),n&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"总转化数"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:n.total.toLocaleString()})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:r.jsx(Kn,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"今日转化"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:n.today.toLocaleString()})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:r.jsx(Hr,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"转化类型"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:n.conversionNames.length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:r.jsx(Xu,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"来源页面"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:n.referrerUrls.length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-pink-500",children:r.jsx(Vr,{className:"h-6 w-6 text-white"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"筛选条件"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:"搜索GCLID或股票代码...",value:p,onChange:z=>d(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsxs("select",{value:f,onChange:z=>w(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"所有转化类型"}),n==null?void 0:n.conversionNames.map(z=>r.jsxs("option",{value:z.conversion_name,children:[z.conversion_name," (",z.count,")"]},z.conversion_name))]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsxs("select",{value:E,onChange:z=>I(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"所有来源页面"}),n==null?void 0:n.referrerUrls.map(z=>r.jsxs("option",{value:z.referrer_url,children:[$(z.referrer_url)," (",z.count,")"]},z.referrer_url))]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"date",value:C,onChange:z=>P(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"date",value:D,onChange:z=>b(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:k,disabled:l,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[l?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(Lt,{className:"h-4 w-4"}),r.jsx("span",{children:l?"加载中...":"刷新数据"})]}),r.jsxs("button",{onClick:T,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(kl,{className:"h-4 w-4"}),r.jsx("span",{children:"导出CSV"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:Q,type:"file",accept:".csv,.tsv",onChange:q,className:"hidden"}),r.jsxs("button",{onClick:()=>{var z;return(z=Q.current)==null?void 0:z.click()},disabled:B,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[B?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(l0,{className:"h-4 w-4"}),r.jsx("span",{children:B?"导入中...":"导入CSV"})]})]})]})]}),_&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg flex items-center",children:[r.jsx(Rs,{className:"h-5 w-5 mr-2"}),_]}),v&&r.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg flex items-center",children:[r.jsx(Br,{className:"h-5 w-5 mr-2"}),v]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"转化记录详情"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:"text-sm text-gray-500",children:["共 ",h.toLocaleString()," 条记录"]})})]})}),r.jsx("div",{className:"overflow-x-auto",children:l?r.jsx("div",{className:"p-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"加载转化记录中..."})]})}):e.length===0?r.jsxs("div",{className:"p-8 text-center text-gray-500",children:[r.jsx(Kn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{children:"暂无转化记录"}),r.jsx("p",{className:"text-sm mt-1",children:"请调整筛选条件后重新查询"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"GCLID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"转化名称"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"股票代码"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"转化时间"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"用户代理"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"落地页来源"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"客户端IP"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(z=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:z.id}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 font-mono",children:r.jsx("span",{title:z.gclid,children:M(z.gclid)})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:z.conversion_name})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:z.stock_code}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(to,{className:"h-3 w-3 mr-1"}),y(z.conversion_time)]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 max-w-xs",children:r.jsx("span",{title:z.user_agent,children:L(z.user_agent||"",40)})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 max-w-xs",children:z.referrer_url?r.jsxs("a",{href:z.referrer_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center",title:z.referrer_url,children:[r.jsx(Vr,{className:"h-3 w-3 mr-1"}),$(z.referrer_url)]}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 font-mono",children:z.client_ip||"-"}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("button",{onClick:()=>R(z.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors duration-200",title:"删除记录",children:r.jsx(Tt,{className:"h-4 w-4"})})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("button",{onClick:()=>R(z.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors duration-200",title:"删除记录",children:r.jsx(Tt,{className:"h-4 w-4"})})})]},z.id))})]})}),c>1&&r.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["显示第 ",(i-1)*g+1," - ",Math.min(i*g,h)," 条，共 ",h.toLocaleString()," 条记录"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>o(Math.max(1,i-1)),disabled:i===1,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[r.jsx(ts,{className:"h-4 w-4 mr-1"}),"上一页"]}),r.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,c)},(z,G)=>{let S;return c<=5||i<=3?S=G+1:i>=c-2?S=c-4+G:S=i-2+G,r.jsx("button",{onClick:()=>o(S),className:`px-3 py-1 text-sm rounded-md transition-colors duration-200 ${i===S?"bg-indigo-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:S},S)})}),r.jsxs("button",{onClick:()=>o(Math.min(c,i+1)),disabled:i===c,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:["下一页",r.jsx(an,{className:"h-4 w-4 ml-1"})]})]})]})})]})]})},v0=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[l,a]=m.useState(1),[i,o]=m.useState(1),[c,u]=m.useState(0),[h,x]=m.useState(""),[g,_]=m.useState(""),[N,v]=m.useState(""),[j,p]=m.useState(""),[d,f]=m.useState(""),[w,E]=m.useState(""),I=10;m.useEffect(()=>{C()},[l,h,g,N,j]);const C=async()=>{s(!0),f("");try{const T=await J.getFilters(l,I,g,N,h,j);T.success?(t(T.data),u(T.total),o(Math.ceil(T.total/I))):f(T.message||"获取过滤器列表失败")}catch{f("网络错误，请重试")}finally{s(!1)}},P=async T=>{if(confirm("确定要删除这个过滤器吗？"))try{const q=await J.deleteFilter(T);q.success?(E("过滤器删除成功"),C()):f(q.message||"删除过滤器失败")}catch{f("删除失败，请重试")}},D=async T=>{try{const q=await J.restoreFilter(T);q.success?(E("过滤器恢复成功"),C()):f(q.message||"恢复过滤器失败")}catch{f("恢复失败，请重试")}},b=T=>{switch(T.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"deleted":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=T=>{switch(T.toLowerCase()){case"active":return"活跃";case"deleted":return"已删除";default:return T}},ne=T=>{switch(T.toLowerCase()){case"white":return"bg-blue-100 text-blue-800";case"black":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Q=T=>{switch(T.toLowerCase()){case"white":return"白名单";case"black":return"黑名单";default:return T}},k=T=>new Date(T*1e3).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),A=(T,q)=>{const y=L=>{if(L.includes("-")){const[$,R,M]=L.split("-");return`${M}.${R}.${$}`}return L};return T&&q?`${y(T)} - ${y(q)}`:""};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"过滤器管理"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"管理IP、User-Agent、ISP和Referer过滤列表"})]}),r.jsxs(gt,{to:"/admin/filters/create",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(Sl,{className:"h-4 w-4"}),r.jsx("span",{children:"创建过滤器"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"总过滤器"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:c.toLocaleString()})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:r.jsx(Qe,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"活跃过滤器"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.filter(T=>T.status==="active").length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:r.jsx(mt,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"白名单"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.filter(T=>T.list_type==="white").length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:r.jsx(Is,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"黑名单"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.filter(T=>T.list_type==="black").length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-red-500",children:r.jsx(Is,{className:"h-6 w-6 text-white"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"筛选条件"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:"搜索过滤器...",value:h,onChange:T=>x(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsxs("select",{value:g,onChange:T=>_(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"所有状态"}),r.jsx("option",{value:"active",children:"活跃"}),r.jsx("option",{value:"deleted",children:"已删除"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsxs("select",{value:N,onChange:T=>v(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"所有类型"}),r.jsx("option",{value:"white",children:"白名单"}),r.jsx("option",{value:"black",children:"黑名单"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"开始日期"}),r.jsx("input",{type:"date",onChange:T=>{var L;const q=((L=document.querySelector('input[type="date"]:nth-of-type(2)'))==null?void 0:L.value)||"",y=A(T.target.value,q);p(y)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"结束日期"}),r.jsx("input",{type:"date",onChange:T=>{var L;const q=((L=document.querySelector('input[type="date"]:nth-of-type(1)'))==null?void 0:L.value)||"",y=A(q,T.target.value);p(y)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:C,disabled:n,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[n?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(Lt,{className:"h-4 w-4"}),r.jsx("span",{children:n?"加载中...":"刷新数据"})]}),r.jsxs("button",{onClick:()=>{x(""),_(""),v(""),p(""),a(1)},className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(Lt,{className:"h-4 w-4"}),r.jsx("span",{children:"重置"})]})]})]}),d&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:d}),w&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg",children:w}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"过滤器列表"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:"text-sm text-gray-500",children:["共 ",c.toLocaleString()," 个过滤器"]})})]})}),r.jsx("div",{className:"overflow-x-auto",children:n?r.jsx("div",{className:"p-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"加载过滤器数据中..."})]})}):e.length===0?r.jsxs("div",{className:"p-8 text-center text-gray-500",children:[r.jsx(Qe,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{children:"暂无过滤器数据"}),r.jsx("p",{className:"text-sm mt-1",children:"请创建新的过滤器或调整筛选条件"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"名称"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"类型"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"创建时间"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"规则统计"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(T=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.filter_id}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ne(T.list_type)}`,children:Q(T.list_type)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b(T.status)}`,children:B(T.status)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Pt,{className:"h-3 w-3 mr-1"}),k(T.time_created)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{children:["IP: ",T.total_ips||0]}),r.jsxs("div",{children:["UA: ",T.total_agents||0]}),r.jsxs("div",{children:["ISP: ",T.total_providers||0]}),r.jsxs("div",{children:["Ref: ",T.total_referers||0]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{alert(`查看过滤器 ${T.filter_id} 详情功能待开发`)},className:"p-1 text-gray-400 hover:text-indigo-600 transition-colors duration-200",title:"查看详情",children:r.jsx(Zr,{className:"h-4 w-4"})}),r.jsx(gt,{to:`/admin/filters/edit/${T.filter_id}`,className:"p-1 text-gray-400 hover:text-blue-600 transition-colors duration-200",title:"编辑过滤器",children:r.jsx(Cl,{className:"h-4 w-4"})}),T.status==="active"?r.jsx("button",{onClick:()=>P(T.filter_id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors duration-200",title:"删除过滤器",children:r.jsx(Tt,{className:"h-4 w-4"})}):r.jsx("button",{onClick:()=>D(T.filter_id),className:"p-1 text-gray-400 hover:text-green-600 transition-colors duration-200",title:"恢复过滤器",children:r.jsx(Yu,{className:"h-4 w-4"})})]})})]},T.filter_id))})]})}),i>1&&r.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["显示第 ",(l-1)*I+1," - ",Math.min(l*I,c)," 条，共 ",c.toLocaleString()," 条记录"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>a(Math.max(1,l-1)),disabled:l===1,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[r.jsx(ts,{className:"h-4 w-4 mr-1"}),"上一页"]}),r.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,i)},(T,q)=>{let y;return i<=5||l<=3?y=q+1:l>=i-2?y=i-4+q:y=l-2+q,r.jsx("button",{onClick:()=>a(y),className:`px-3 py-1 text-sm rounded-md transition-colors duration-200 ${l===y?"bg-indigo-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:y},y)})}),r.jsxs("button",{onClick:()=>a(Math.min(i,l+1)),disabled:l===i,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:["下一页",r.jsx(an,{className:"h-4 w-4 ml-1"})]})]})]})})]})]})},j0=()=>{const e=It(),[t,n]=m.useState(!1),[s,l]=m.useState(""),[a,i]=m.useState(""),[o,c]=m.useState({name:"",list_type:"white",list_ips:[],list_agents:[],list_providers:[],list_referers:[]}),[u,h]=m.useState({ips:"",agents:"",providers:"",referers:""}),x=v=>{const{name:j,value:p}=v.target;c(d=>({...d,[j]:p}))},g=(v,j)=>{h(d=>({...d,[v]:j}));const p=j.split(`
`).map(d=>d.trim()).filter(d=>d.length>0);c(d=>({...d,[`list_${v}`]:p}))},_=()=>o.name.trim()?o.name.length<3||o.name.length>32?(l("过滤器名称长度必须在3-32个字符之间"),!1):o.list_ips.length>0||o.list_agents.length>0||o.list_providers.length>0||o.list_referers.length>0?o.list_ips.length>5e3?(l("IP地址列表不能超过5000个"),!1):o.list_agents.length>5e3?(l("User-Agent列表不能超过5000个"),!1):o.list_providers.length>5e3?(l("ISP提供商列表不能超过5000个"),!1):o.list_referers.length>5e3?(l("Referer列表不能超过5000个"),!1):!0:(l("至少需要添加一种类型的过滤规则"),!1):(l("过滤器名称不能为空"),!1),N=async v=>{if(v.preventDefault(),l(""),i(""),!!_()){n(!0);try{const j=await J.createFilter(o);j.success?(i("过滤器创建成功！"),setTimeout(()=>{e("/admin/filters")},2e3)):l(j.message||"创建过滤器失败")}catch(j){l(j.message||"网络错误，请重试")}finally{n(!1)}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>e("/admin/filters"),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors duration-200",children:r.jsx(jr,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"创建过滤器"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"配置新的过滤规则列表"})]})]})}),s&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:s}),a&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg",children:a}),r.jsxs("form",{onSubmit:N,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"基本信息"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Qe,{className:"inline h-4 w-4 mr-1"}),"过滤器名称 *"]}),r.jsx("input",{type:"text",name:"name",value:o.name,onChange:x,required:!0,minLength:3,maxLength:32,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入过滤器名称"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Is,{className:"inline h-4 w-4 mr-1"}),"列表类型 *"]}),r.jsxs("select",{name:"list_type",value:o.list_type,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"white",children:"白名单 (允许)"}),r.jsx("option",{value:"black",children:"黑名单 (阻止)"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"过滤规则"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Vr,{className:"inline h-4 w-4 mr-1"}),"IP地址列表 (最多5000个)"]}),r.jsx("textarea",{value:u.ips,onChange:v=>g("ips",v.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:`每行一个IP地址
例如:
192.168.1.1
10.0.0.1
203.0.113.0/24`}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["当前: ",o.list_ips.length," 个IP地址"]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(so,{className:"inline h-4 w-4 mr-1"}),"User-Agent列表 (最多5000个)"]}),r.jsx("textarea",{value:u.agents,onChange:v=>g("agents",v.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:`每行一个User-Agent
例如:
Mozilla/5.0 (Windows NT 10.0; Win64; x64)
bot
crawler`}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["当前: ",o.list_agents.length," 个User-Agent"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ISP提供商列表 (最多5000个)"}),r.jsx("textarea",{value:u.providers,onChange:v=>g("providers",v.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:`每行一个ISP提供商
例如:
China Telecom
China Unicom
China Mobile`}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["当前: ",o.list_providers.length," 个ISP提供商"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referer列表 (最多5000个)"}),r.jsx("textarea",{value:u.referers,onChange:v=>g("referers",v.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:`每行一个Referer URL
例如:
https://www.google.com
https://www.facebook.com
https://www.baidu.com`}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["当前: ",o.list_referers.length," 个Referer"]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>e("/admin/filters"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(qe,{className:"h-4 w-4"}),r.jsx("span",{children:"取消"})]}),r.jsxs("button",{type:"submit",disabled:t,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[t?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:t?"创建中...":"创建过滤器"})]})]})]})]})},w0=()=>{const e=It(),{id:t}=Yi(),[n,s]=m.useState(!1),[l,a]=m.useState(!0),[i,o]=m.useState(""),[c,u]=m.useState(""),[h,x]=m.useState({name:"",list_ips:[],list_agents:[],list_providers:[],list_referers:[]}),[g,_]=m.useState({ips:"",agents:"",providers:"",referers:""});m.useEffect(()=>{N()},[t]);const N=async()=>{if(t){a(!0);try{const f=await J.getFilterDetails(parseInt(t));if(f.success){const w=f.data;x({name:w.name,list_ips:w.list_ips||[],list_agents:w.list_agents||[],list_providers:w.list_providers||[],list_referers:w.list_referers||[]}),_({ips:(w.list_ips||[]).join(`
`),agents:(w.list_agents||[]).join(`
`),providers:(w.list_providers||[]).join(`
`),referers:(w.list_referers||[]).join(`
`)})}else o(f.message||"获取过滤器信息失败")}catch{o("网络错误，请重试")}finally{a(!1)}}},v=f=>{const{name:w,value:E}=f.target;x(I=>({...I,[w]:E}))},j=(f,w)=>{_(I=>({...I,[f]:w}));const E=w.split(`
`).map(I=>I.trim()).filter(I=>I.length>0);x(I=>({...I,[`list_${f}`]:E}))},p=()=>h.name.trim()?h.name.length<3||h.name.length>32?(o("过滤器名称长度必须在3-32个字符之间"),!1):h.list_ips.length>5e3?(o("IP地址列表不能超过5000个"),!1):h.list_agents.length>5e3?(o("User-Agent列表不能超过5000个"),!1):h.list_providers.length>5e3?(o("ISP提供商列表不能超过5000个"),!1):h.list_referers.length>5e3?(o("Referer列表不能超过5000个"),!1):!0:(o("过滤器名称不能为空"),!1),d=async f=>{if(f.preventDefault(),o(""),u(""),!!p()){s(!0);try{const w=await J.updateFilter(parseInt(t),h);w.success?(u("过滤器更新成功！"),setTimeout(()=>{e("/admin/filters")},2e3)):o(w.message||"更新过滤器失败")}catch(w){o(w.message||"网络错误，请重试")}finally{s(!1)}}};return l?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"加载过滤器信息中..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>e("/admin/filters"),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors duration-200",children:r.jsx(jr,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"编辑过滤器"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"修改过滤规则列表"})]})]})}),i&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:i}),c&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg",children:c}),r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"基本信息"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Qe,{className:"inline h-4 w-4 mr-1"}),"过滤器名称 *"]}),r.jsx("input",{type:"text",name:"name",value:h.name,onChange:v,required:!0,minLength:3,maxLength:32,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入过滤器名称"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"过滤规则"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Vr,{className:"inline h-4 w-4 mr-1"}),"IP地址列表 (最多5000个)"]}),r.jsx("textarea",{value:g.ips,onChange:f=>j("ips",f.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:`每行一个IP地址
例如:
192.168.1.1
10.0.0.1
203.0.113.0/24`}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["当前: ",h.list_ips.length," 个IP地址"]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(so,{className:"inline h-4 w-4 mr-1"}),"User-Agent列表 (最多5000个)"]}),r.jsx("textarea",{value:g.agents,onChange:f=>j("agents",f.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:`每行一个User-Agent
例如:
Mozilla/5.0 (Windows NT 10.0; Win64; x64)
bot
crawler`}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["当前: ",h.list_agents.length," 个User-Agent"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ISP提供商列表 (最多5000个)"}),r.jsx("textarea",{value:g.providers,onChange:f=>j("providers",f.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:`每行一个ISP提供商
例如:
China Telecom
China Unicom
China Mobile`}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["当前: ",h.list_providers.length," 个ISP提供商"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referer列表 (最多5000个)"}),r.jsx("textarea",{value:g.referers,onChange:f=>j("referers",f.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:`每行一个Referer URL
例如:
https://www.google.com
https://www.facebook.com
https://www.baidu.com`}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["当前: ",h.list_referers.length," 个Referer"]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>e("/admin/filters"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(qe,{className:"h-4 w-4"}),r.jsx("span",{children:"取消"})]}),r.jsxs("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[n?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:n?"更新中...":"更新过滤器"})]})]})]})]})},N0=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(null),[l,a]=m.useState(!0),[i,o]=m.useState(1),[c,u]=m.useState(1),[h,x]=m.useState(0),[g]=m.useState(50),[_,N]=m.useState(""),[v,j]=m.useState(""),[p,d]=m.useState(""),[f,w]=m.useState(""),[E,I]=m.useState(""),[C,P]=m.useState(""),[D,b]=m.useState(""),[B,ne]=m.useState(""),[Q,k]=m.useState(null),A=[{value:"",label:"所有端点"},{value:"/api/flows",label:"流程列表 - 获取所有流程"},{value:"/api/flows/create",label:"创建流程 - 新建流程配置"},{value:"/api/flows/update",label:"更新流程 - 修改流程设置"},{value:"/api/flows/details",label:"流程详情 - 获取单个流程信息"},{value:"/api/statistics",label:"统计数据 - 获取分析报告"},{value:"/api/clicks",label:"点击数据 - 获取点击记录"},{value:"/api/countries",label:"国家数据 - 获取国家列表"},{value:"/api/devices",label:"设备数据 - 获取设备类型"},{value:"/api/operating_systems",label:"系统数据 - 获取操作系统"},{value:"/api/browsers",label:"浏览器数据 - 获取浏览器列表"},{value:"/api/languages",label:"语言数据 - 获取语言列表"},{value:"/api/time_zones",label:"时区数据 - 获取时区信息"},{value:"/api/connection_types",label:"连接类型 - 获取网络连接类型"},{value:"/api/filters",label:"过滤器列表 - 获取过滤规则"},{value:"/api/filters/create",label:"创建过滤器 - 新建过滤规则"},{value:"/api/filters/update",label:"更新过滤器 - 修改过滤规则"},{value:"/api/filters/details",label:"过滤器详情 - 获取过滤器信息"},{value:"/api/conversions",label:"转化记录 - 获取转化数据"},{value:"/api/ggads/conversions",label:"Google Ads转化 - 接收转化数据"},{value:"/api/admin/dashboard",label:"仪表板数据 - 获取概览统计"},{value:"/api/admin/accounts",label:"账号管理 - 用户账号操作"},{value:"/api/admin/categories",label:"分类管理 - 账号分类操作"},{value:"/api/auth/login",label:"用户登录 - 身份验证"},{value:"/api/auth/register",label:"用户注册 - 创建新账号"},{value:"/api/auth/verify",label:"令牌验证 - 验证登录状态"},{value:"/api/logs",label:"API日志 - 获取请求日志"},{value:"/api/cache",label:"缓存管理 - 缓存操作"}];m.useEffect(()=>{T(),q()},[i,p,f,E,C,D,B]),m.useEffect(()=>{const S=new Date,V=new Date(S.getTime()-7*24*60*60*1e3);!C&&!D&&(P(V.toISOString().split("T")[0]),b(S.toISOString().split("T")[0]))},[]);const T=async()=>{a(!0),N("");try{const S=new URLSearchParams({page:i.toString(),per_page:g.toString(),...p&&{search:p},...f&&{status:f},...E&&{method:E},...C&&{start_date:C},...D&&{end_date:D},...B&&{endpoint:B}}),W=await(await fetch(`/api/logs?${S}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();W.success?(t(W.data),x(W.total),u(W.total_pages)):N(W.message||"获取API日志失败")}catch{N("网络错误，请重试")}finally{a(!1)}},q=async()=>{try{const V=await(await fetch("/api/logs/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();V.success&&s(V.data)}catch(S){console.error("获取统计数据失败:",S)}},y=async S=>{if(confirm(`确定要清除超过 ${S} 天的日志记录吗？`))try{N(""),j("");const W=await(await fetch(`/api/logs/clear?days=${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();W.success?(j(W.message),T(),q(),records.length===0&&i>1&&o(1)):N(W.message||"清除日志失败")}catch{N("清除日志失败，请重试")}},L=S=>new Date(S).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),$=(S,V)=>S?"bg-green-100 text-green-800":V>=500?"bg-red-100 text-red-800":V>=400?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",R=S=>{switch(S.toUpperCase()){case"GET":return"bg-blue-100 text-blue-800";case"POST":return"bg-green-100 text-green-800";case"PUT":return"bg-yellow-100 text-yellow-800";case"DELETE":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=(S,V=50)=>S?S.length>V?`${S.substring(0,V)}...`:S:"-",z=S=>S?S<1e3?`${S}ms`:`${(S/1e3).toFixed(2)}s`:"-",G=S=>{if(!S)return"";try{return JSON.stringify(JSON.parse(S),null,2)}catch{return S}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"API请求日志"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"监控和分析所有API请求的详细记录"})]}),n&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"总请求数"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:n.total.toLocaleString()})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500",children:r.jsx(ur,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"今日请求"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:n.today.toLocaleString()})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500",children:r.jsx(Kn,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"成功请求"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:n.success.toLocaleString()})]}),r.jsx("div",{className:"p-3 rounded-lg bg-emerald-500",children:r.jsx(Br,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"失败请求"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:n.failed.toLocaleString()})]}),r.jsx("div",{className:"p-3 rounded-lg bg-red-500",children:r.jsx(Rs,{className:"h-6 w-6 text-white"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"平均响应"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[n.avgResponseTime,"ms"]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-purple-500",children:r.jsx(Za,{className:"h-6 w-6 text-white"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"筛选条件"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:"搜索端点或错误信息...",value:p,onChange:S=>d(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsxs("select",{value:f,onChange:S=>w(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"所有状态"}),r.jsx("option",{value:"success",children:"成功"}),r.jsx("option",{value:"error",children:"失败"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Zu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsxs("select",{value:E,onChange:S=>I(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"所有方法"}),r.jsx("option",{value:"GET",children:"GET"}),r.jsx("option",{value:"POST",children:"POST"}),r.jsx("option",{value:"PUT",children:"PUT"}),r.jsx("option",{value:"DELETE",children:"DELETE"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"date",value:C,onChange:S=>P(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("select",{value:B,onChange:S=>ne(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none bg-white",children:A.map(S=>r.jsx("option",{value:S.value,children:S.label},S.value))})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"date",value:D,onChange:S=>b(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:T,disabled:l,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[l?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(Lt,{className:"h-4 w-4"}),r.jsx("span",{children:l?"加载中...":"刷新数据"})]}),r.jsxs("button",{onClick:()=>y(30),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(Tt,{className:"h-4 w-4"}),r.jsx("span",{children:"清除30天前"})]}),r.jsxs("button",{onClick:()=>y(7),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(Tt,{className:"h-4 w-4"}),r.jsx("span",{children:"清除7天前"})]})]})]}),_&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg flex items-center",children:[r.jsx(Rs,{className:"h-5 w-5 mr-2"}),_]}),v&&r.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg flex items-center",children:[r.jsx(Br,{className:"h-5 w-5 mr-2"}),v]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"API请求日志"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:"text-sm text-gray-500",children:["共 ",h.toLocaleString()," 条记录"]})})]})}),r.jsx("div",{className:"overflow-x-auto",children:l?r.jsx("div",{className:"p-8 text-center",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"加载API日志中..."})]})}):e.length===0?r.jsxs("div",{className:"p-8 text-center text-gray-500",children:[r.jsx(al,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("p",{children:"暂无API请求日志"}),r.jsx("p",{className:"text-sm mt-1",children:"请调整筛选条件后重新查询"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"时间"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"端点"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"方法"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"响应时间"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"客户端IP"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"用户代理"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(S=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(to,{className:"h-3 w-3 mr-1"}),L(S.request_time)]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:r.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:S.endpoint})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R(S.method)}`,children:S.method})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$(S.success,S.status_code)}`,children:[S.success?r.jsx(Br,{className:"h-3 w-3 mr-1"}):r.jsx(Rs,{className:"h-3 w-3 mr-1"}),S.status_code]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Za,{className:"h-3 w-3 mr-1"}),z(S.response_time)]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 font-mono",children:S.client_ip||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 max-w-xs",children:r.jsx("span",{title:S.user_agent,children:M(S.user_agent||"",30)})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("button",{onClick:()=>k(S),className:"p-1 text-gray-400 hover:text-indigo-600 transition-colors duration-200",title:"查看详情",children:r.jsx(Zr,{className:"h-4 w-4"})})})]},S.id))})]})}),c>1&&r.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["显示第 ",(i-1)*g+1," - ",Math.min(i*g,h)," 条，共 ",h.toLocaleString()," 条记录"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>o(Math.max(1,i-1)),disabled:i===1,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[r.jsx(ts,{className:"h-4 w-4 mr-1"}),"上一页"]}),r.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,c)},(S,V)=>{let W;return c<=5||i<=3?W=V+1:i>=c-2?W=c-4+V:W=i-2+V,r.jsx("button",{onClick:()=>o(W),className:`px-3 py-1 text-sm rounded-md transition-colors duration-200 ${i===W?"bg-indigo-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:W},W)})}),r.jsxs("button",{onClick:()=>o(Math.min(c,i+1)),disabled:i===c,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:["下一页",r.jsx(an,{className:"h-4 w-4 ml-1"})]})]})]})})]}),Q&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"API请求详情"}),r.jsx("button",{onClick:()=>k(null),className:"text-gray-400 hover:text-gray-600 transition-colors duration-200",children:r.jsx(X,{className:"h-6 w-6"})})]})}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"请求信息"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"端点:"})," ",Q.endpoint]}),r.jsxs("div",{children:[r.jsx("strong",{children:"方法:"})," ",r.jsx("span",{className:`px-2 py-1 rounded text-xs ${R(Q.method)}`,children:Q.method})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"状态码:"})," ",r.jsx("span",{className:`px-2 py-1 rounded text-xs ${$(Q.success,Q.status_code)}`,children:Q.status_code})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"响应时间:"})," ",z(Q.response_time)]}),r.jsxs("div",{children:[r.jsx("strong",{children:"请求时间:"})," ",L(Q.request_time)]}),r.jsxs("div",{children:[r.jsx("strong",{children:"客户端IP:"})," ",Q.client_ip||"-"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"用户ID:"})," ",Q.user_id||"-"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"User Agent"}),r.jsx("div",{className:"bg-gray-50 p-3 rounded-lg text-xs font-mono break-all",children:Q.user_agent||"-"})]}),Q.request_body&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"请求体"}),r.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-xs overflow-x-auto",children:G(Q.request_body)})]}),Q.response_body&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"响应体"}),r.jsx("pre",{className:"bg-gray-50 p-4 rounded-lg text-xs overflow-x-auto max-h-60",children:G(Q.response_body)})]}),Q.error_message&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h4",{className:"font-medium text-red-900 mb-3",children:"错误信息"}),r.jsx("div",{className:"bg-red-50 p-4 rounded-lg text-sm text-red-800",children:Q.error_message})]})]})})]})})]})},b0=()=>{const e=It(),{id:t}=Yi(),[n,s]=m.useState(!1),[l,a]=m.useState(!0),[i,o]=m.useState(""),[c,u]=m.useState(""),[h,x]=m.useState([]),[g,_]=m.useState([]),[N,v]=m.useState([]),[j,p]=m.useState([]),[d,f]=m.useState([]),[w,E]=m.useState([]),[I,C]=m.useState([]),[P,D]=m.useState({countries:!1,devices:!1,os:!1,browsers:!1,languages:!1,timezones:!1,connections:!1}),[b,B]=m.useState({name:"",url_white_page:"",url_offer_page:"",mode_white_page:"redirect",mode_offer_page:"redirect",filter_countries:[],filter_devices:[],filter_os:[],filter_browsers:[],filter_langs:[],filter_time_zones:[],filter_connections:[],filter_cloaking_flag:1,filter_vpn_proxy_flag:1,filter_ip_v6_flag:0,filter_referer_flag:1,filter_isp_flag:0,filter_black_ip_flag:1,filter_ip_clicks_per_day:0,filter_clicks_before_filtering:0,mode_list_country:1,mode_list_device:1,mode_list_os:1,mode_list_browser:1,mode_list_lang:1,mode_list_time_zone:1,mode_list_connection:1,filter_id:0,allowed_ips:[]});m.useEffect(()=>{Q(),ne()},[t]);const ne=async()=>{if(t){a(!0);try{const y=await J.getFlowDetails(parseInt(t));if(y.success){const L=y.data;B({name:L.name||"",url_white_page:L.url_white_page||"",url_offer_page:L.url_offer_page||"",mode_white_page:L.mode_white_page||"redirect",mode_offer_page:L.mode_offer_page||"redirect",filter_countries:L.filter_countries||[],filter_devices:L.filter_devices||[],filter_os:L.filter_os||[],filter_browsers:L.filter_browsers||[],filter_langs:L.filter_langs||[],filter_time_zones:L.filter_time_zones||[],filter_connections:L.filter_connections||[],filter_cloaking_flag:L.filter_cloaking_flag||0,filter_vpn_proxy_flag:L.filter_vpn_proxy_flag||0,filter_ip_v6_flag:L.filter_ip_v6_flag||0,filter_referer_flag:L.filter_referer_flag||0,filter_isp_flag:L.filter_isp_flag||0,filter_black_ip_flag:L.filter_black_ip_flag||0,filter_ip_clicks_per_day:L.filter_ip_clicks_per_day||0,filter_clicks_before_filtering:L.filter_clicks_before_filtering||0,mode_list_country:L.mode_list_country||1,mode_list_device:L.mode_list_device||1,mode_list_os:L.mode_list_os||1,mode_list_browser:L.mode_list_browser||1,mode_list_lang:L.mode_list_lang||1,mode_list_time_zone:L.mode_list_time_zone||1,mode_list_connection:L.mode_list_connection||1,filter_id:L.filter_id||0,allowed_ips:L.allowed_ips||[]})}else o(y.message||"获取流程信息失败")}catch{o("网络错误，请重试")}finally{a(!1)}}},Q=async()=>{D(y=>({...y,countries:!0}));try{const y=await J.getCountries();if(y.success){const L=y.data.map($=>({id:$.country_id||$.id,name:$.name}));x(L)}}catch(y){console.error("Error loading countries:",y)}finally{D(y=>({...y,countries:!1}))}D(y=>({...y,devices:!0}));try{const y=await J.getDevices();if(y.success){const L=y.data.map($=>({id:$.device_id||$.id,name:$.name}));_(L)}}catch(y){console.error("Error loading devices:",y)}finally{D(y=>({...y,devices:!1}))}D(y=>({...y,os:!0}));try{const y=await J.getOperatingSystems();if(y.success){const L=y.data.map($=>({id:$.os_id||$.id,name:$.name}));v(L)}}catch(y){console.error("Error loading OS:",y)}finally{D(y=>({...y,os:!1}))}D(y=>({...y,browsers:!0}));try{const y=await J.getBrowsers();if(y.success){const L=y.data.map($=>({id:$.browser_id||$.id,name:$.name}));p(L)}}catch(y){console.error("Error loading browsers:",y)}finally{D(y=>({...y,browsers:!1}))}D(y=>({...y,languages:!0}));try{const y=await J.getLanguages();if(y.success){const L=y.data.map($=>({id:$.lang_id||$.id,name:$.name}));f(L)}}catch(y){console.error("Error loading languages:",y)}finally{D(y=>({...y,languages:!1}))}D(y=>({...y,timezones:!0}));try{const y=await J.getTimezones();if(y.success){const L=y.data.map($=>({id:$.zone_id||$.id,name:$.name}));E(L)}}catch(y){console.error("Error loading timezones:",y)}finally{D(y=>({...y,timezones:!1}))}D(y=>({...y,connections:!0}));try{const y=await J.getConnections();if(y.success){const L=y.data.map($=>({id:$.connection_id||$.id,name:$.name}));C(L)}}catch(y){console.error("Error loading connections:",y)}finally{D(y=>({...y,connections:!1}))}},k=y=>{const{name:L,value:$,type:R}=y.target;if(R==="checkbox"){const M=y.target.checked;B(z=>({...z,[L]:M?1:0}))}else B(R==="number"?M=>({...M,[L]:parseInt($)||0}):M=>({...M,[L]:$}))},A=(y,L)=>{B($=>({...$,[y]:L}))},T=y=>{const L=y.split(",").map($=>$.trim()).filter($=>$.length>0);B($=>({...$,allowed_ips:L}))},q=async y=>{y.preventDefault(),s(!0),o(""),u("");try{const L=await J.updateFlow(parseInt(t),b);L.success?(u("流程更新成功！"),setTimeout(()=>{e("/admin/flows")},2e3)):o(L.message||"更新流程失败")}catch(L){o(L.message||"网络错误，请重试")}finally{s(!1)}};return l?r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-500",children:"加载流程信息中..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>e("/admin/flows"),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors duration-200",children:r.jsx(jr,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"编辑流程"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"修改斗篷流程配置"})]})]})}),i&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:i}),c&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-lg",children:c}),r.jsxs("form",{onSubmit:q,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"基本信息"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"流程名称 *"}),r.jsx("input",{type:"text",name:"name",value:b.name,onChange:k,required:!0,minLength:3,maxLength:32,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"输入流程名称"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"页面配置"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"白页面URL *"}),r.jsx("input",{type:"url",name:"url_white_page",value:b.url_white_page,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"https://example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"落地页URL *"}),r.jsx("input",{type:"url",name:"url_offer_page",value:b.url_offer_page,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"https://offer.com"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"白页面显示模式 *"}),r.jsxs("select",{name:"mode_white_page",value:b.mode_white_page,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"loading",children:"Loading"}),r.jsx("option",{value:"redirect",children:"Redirect"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"落地页显示模式 *"}),r.jsxs("select",{name:"mode_offer_page",value:b.mode_offer_page,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"loading",children:"Loading"}),r.jsx("option",{value:"redirect",children:"Redirect"}),r.jsx("option",{value:"iframe",children:"Iframe"})]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"过滤设置"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsx(we,{label:"国家列表",options:h,selectedValues:b.filter_countries,onChange:y=>A("filter_countries",y),placeholder:"选择国家...",loading:P.countries}),r.jsx(we,{label:"设备列表",options:g,selectedValues:b.filter_devices,onChange:y=>A("filter_devices",y),placeholder:"选择设备...",loading:P.devices}),r.jsx(we,{label:"操作系统列表",options:N,selectedValues:b.filter_os,onChange:y=>A("filter_os",y),placeholder:"选择操作系统...",loading:P.os}),r.jsx(we,{label:"浏览器列表",options:j,selectedValues:b.filter_browsers,onChange:y=>A("filter_browsers",y),placeholder:"选择浏览器...",loading:P.browsers}),r.jsx(we,{label:"语言列表",options:d,selectedValues:b.filter_langs,onChange:y=>A("filter_langs",y),placeholder:"选择语言...",loading:P.languages}),r.jsx(we,{label:"时区列表",options:w,selectedValues:b.filter_time_zones,onChange:y=>A("filter_time_zones",y),placeholder:"选择时区...",loading:P.timezones}),r.jsx(we,{label:"连接类型列表",options:I,selectedValues:b.filter_connections,onChange:y=>A("filter_connections",y),placeholder:"选择连接类型...",loading:P.connections})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"国家过滤模式"}),r.jsxs("select",{name:"mode_list_country",value:b.mode_list_country,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:1,children:"允许"}),r.jsx("option",{value:0,children:"阻止"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"设备过滤模式"}),r.jsxs("select",{name:"mode_list_device",value:b.mode_list_device,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:1,children:"允许"}),r.jsx("option",{value:0,children:"阻止"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"操作系统过滤模式"}),r.jsxs("select",{name:"mode_list_os",value:b.mode_list_os,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:1,children:"允许"}),r.jsx("option",{value:0,children:"阻止"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"浏览器过滤模式"}),r.jsxs("select",{name:"mode_list_browser",value:b.mode_list_browser,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:1,children:"允许"}),r.jsx("option",{value:0,children:"阻止"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",name:"filter_cloaking_flag",checked:b.filter_cloaking_flag===1,onChange:k,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"机器人过滤"})]}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",name:"filter_vpn_proxy_flag",checked:b.filter_vpn_proxy_flag===1,onChange:k,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"VPN/代理过滤"})]}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",name:"filter_ip_v6_flag",checked:b.filter_ip_v6_flag===1,onChange:k,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"IPv6过滤"})]}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",name:"filter_referer_flag",checked:b.filter_referer_flag===1,onChange:k,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"来源过滤"})]}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",name:"filter_isp_flag",checked:b.filter_isp_flag===1,onChange:k,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"ISP过滤"})]}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",name:"filter_black_ip_flag",checked:b.filter_black_ip_flag===1,onChange:k,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"IP黑名单过滤"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"每IP每日最大点击数"}),r.jsx("input",{type:"number",name:"filter_ip_clicks_per_day",value:b.filter_ip_clicks_per_day,onChange:k,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"过滤前点击数"}),r.jsx("input",{type:"number",name:"filter_clicks_before_filtering",value:b.filter_clicks_before_filtering,onChange:k,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"高级设置"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"允许的IP地址 (逗号分隔)"}),r.jsx("input",{type:"text",value:b.allowed_ips.join(", "),onChange:y=>T(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"192.168.1.1, 10.0.0.1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"过滤器列表ID"}),r.jsx("input",{type:"number",name:"filter_id",value:b.filter_id,onChange:k,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>e("/admin/flows"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(qe,{className:"h-4 w-4"}),r.jsx("span",{children:"取消"})]}),r.jsxs("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[n?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:n?"更新中...":"更新流程"})]})]})]})]})};function _0(){return r.jsx(Ah,{children:r.jsx($h,{children:r.jsxs(Lh,{children:[r.jsx(ve,{path:"/admin/login",element:r.jsx(a0,{})}),r.jsxs(ve,{path:"/admin",element:r.jsx(i0,{}),children:[r.jsx(ve,{index:!0,element:r.jsx(c0,{})}),r.jsx(ve,{path:"flows",element:r.jsx(d0,{})}),r.jsx(ve,{path:"flows/create",element:r.jsx(u0,{})}),r.jsx(ve,{path:"flows/edit/:id",element:r.jsx(b0,{})}),r.jsx(ve,{path:"statistics",element:r.jsx(m0,{})}),r.jsx(ve,{path:"clicks",element:r.jsx(f0,{})}),r.jsx(ve,{path:"accounts",element:r.jsx(p0,{})}),r.jsx(ve,{path:"accounts/create",element:r.jsx(h0,{})}),r.jsx(ve,{path:"accounts/edit/:id",element:r.jsx(g0,{})}),r.jsx(ve,{path:"accounts/categories",element:r.jsx(x0,{})}),r.jsx(ve,{path:"conversions",element:r.jsx(y0,{})}),r.jsx(ve,{path:"filters",element:r.jsx(v0,{})}),r.jsx(ve,{path:"filters/create",element:r.jsx(j0,{})}),r.jsx(ve,{path:"filters/edit/:id",element:r.jsx(w0,{})}),r.jsx(ve,{path:"logs",element:r.jsx(N0,{})})]}),r.jsx(ve,{path:"/",element:r.jsx(Zi,{to:"/admin",replace:!0})})]})})})}Mu(document.getElementById("root")).render(r.jsx(m.StrictMode,{children:r.jsx(_0,{})}));
